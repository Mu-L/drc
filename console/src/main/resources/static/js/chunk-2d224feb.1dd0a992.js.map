{"version":3,"sources":["webpack:///./src/views/resource/drcResource.vue?e2dd","webpack:///src/views/resource/drcResource.vue","webpack:///./src/views/resource/drcResource.vue?7ec1","webpack:///./src/views/resource/drcResource.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","height","ref","staticStyle","drcResource","ruleDrcResource","model","value","callback","$$v","$set","expression","_l","item","key","_s","label","on","handleCreateDc","handleCreateTag","handleCreateAz","$event","handleReset","reviewInputResource","inputResource","ip","dc","type","result","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,iBAAiB,CAACA,EAAG,aAAa,CAACE,MAAM,CAAEC,OAAQ,oBAAqBC,SAAU,UAAW,CAACJ,EAAG,iBAAiB,CAACK,MAAM,CAAC,GAAK,UAAU,CAACT,EAAIU,GAAG,QAAQN,EAAG,iBAAiB,CAACK,MAAM,CAAC,GAAK,mBAAmB,GAAGL,EAAG,UAAU,CAACO,YAAY,UAAUL,MAAM,CAAEM,QAAS,OAAQC,WAAY,OAAQN,OAAQ,mBAAoBO,OAAQ,MAAO,CAACV,EAAG,MAAM,CAACE,MAAM,CAAEM,QAAS,UAAUG,OAAQ,SAAU,CAACX,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,OAAO,CAACL,EAAG,OAAO,CAACY,IAAI,cAAcC,YAAY,CAAC,MAAQ,OAAO,aAAa,QAAQR,MAAM,CAAC,MAAQT,EAAIkB,YAAY,MAAQlB,EAAImB,gBAAgB,cAAc,MAAM,CAACf,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACL,EAAG,SAAS,CAACa,YAAY,CAAC,MAAQ,SAASR,MAAM,CAAC,YAAc,WAAWW,MAAM,CAACC,MAAOrB,EAAIkB,YAAgB,KAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,OAAQK,IAAME,WAAW,qBAAqBzB,EAAI0B,GAAI1B,EAAIkB,YAAoB,UAAE,SAASS,GAAM,OAAOvB,EAAG,SAAS,CAACwB,IAAID,EAAKN,MAAMZ,MAAM,CAAC,MAAQkB,EAAKN,QAAQ,CAACrB,EAAIU,GAAGV,EAAI6B,GAAGF,EAAKG,OAAO,UAAS,IAAI,GAAG1B,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,OAAO,CAACL,EAAG,SAAS,CAACa,YAAY,CAAC,MAAQ,SAASR,MAAM,CAAC,WAAa,GAAG,eAAe,GAAG,YAAc,aAAasB,GAAG,CAAC,YAAY/B,EAAIgC,gBAAgBZ,MAAM,CAACC,MAAOrB,EAAIkB,YAAc,GAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,KAAMK,IAAME,WAAW,mBAAmBzB,EAAI0B,GAAI1B,EAAe,aAAE,SAAS2B,GAAM,OAAOvB,EAAG,SAAS,CAACwB,IAAID,EAAKN,MAAMZ,MAAM,CAAC,MAAQkB,EAAKN,QAAQ,CAACrB,EAAIU,GAAGV,EAAI6B,GAAGF,EAAKG,aAAY,IAAI,GAAG1B,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,SAASR,MAAM,CAAC,MAAQ,KAAK,KAAO,OAAO,CAACL,EAAG,QAAQ,CAACK,MAAM,CAAC,YAAc,WAAWW,MAAM,CAACC,MAAOrB,EAAIkB,YAAc,GAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,KAAMK,IAAME,WAAW,qBAAqB,GAAGrB,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,MAAM,KAAO,QAAQ,CAACL,EAAG,SAAS,CAACa,YAAY,CAAC,MAAQ,SAASR,MAAM,CAAC,WAAa,GAAG,eAAe,GAAG,YAAc,SAASsB,GAAG,CAAC,YAAY/B,EAAIiC,iBAAiBb,MAAM,CAACC,MAAOrB,EAAIkB,YAAe,IAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,MAAOK,IAAME,WAAW,oBAAoBzB,EAAI0B,GAAI1B,EAAW,SAAE,SAAS2B,GAAM,OAAOvB,EAAG,SAAS,CAACwB,IAAID,EAAKlB,MAAM,CAAC,MAAQkB,IAAO,CAAC3B,EAAIU,GAAGV,EAAI6B,GAAGF,SAAW,IAAI,GAAGvB,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,OAAO,CAACL,EAAG,SAAS,CAACa,YAAY,CAAC,MAAQ,SAASR,MAAM,CAAC,WAAa,GAAG,eAAe,GAAG,YAAc,QAAQsB,GAAG,CAAC,YAAY/B,EAAIkC,gBAAgBd,MAAM,CAACC,MAAOrB,EAAIkB,YAAc,GAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,KAAMK,IAAME,WAAW,mBAAmBzB,EAAI0B,GAAI1B,EAAU,QAAE,SAAS2B,GAAM,OAAOvB,EAAG,SAAS,CAACwB,IAAID,EAAKlB,MAAM,CAAC,MAAQkB,IAAO,CAAC3B,EAAIU,GAAGV,EAAI6B,GAAGF,SAAW,IAAI,GAAGvB,EAAG,WAAW,CAACA,EAAG,SAAS,CAAC2B,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnC,EAAIoC,iBAAiB,CAACpC,EAAIU,GAAG,QAAQN,EAAG,MAAMA,EAAG,MAAMA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,WAAWsB,GAAG,CAAC,MAAQ,SAASI,GAAQnC,EAAIqC,yBAA0B,CAACrC,EAAIU,GAAG,SAAS,GAAGN,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,QAAQsB,GAAG,CAAC,QAAQ/B,EAAIsC,eAAelB,MAAM,CAACC,MAAOrB,EAAIkB,YAAuB,YAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,cAAeK,IAAME,WAAW,4BAA4B,CAACzB,EAAIU,GAAG,UAAUV,EAAI6B,GAAG5B,KAAKiB,YAAYqB,IAAI,UAAUvC,EAAI6B,GAAG5B,KAAKiB,YAAYsB,IAAI,OAAOxC,EAAI6B,GAAG5B,KAAKiB,YAAYuB,MAAM,OAAOrC,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,QAAQW,MAAM,CAACC,MAAOrB,EAAIkB,YAAuB,YAAEI,SAAS,SAAUC,GAAMvB,EAAIwB,KAAKxB,EAAIkB,YAAa,cAAeK,IAAME,WAAW,4BAA4B,CAACzB,EAAIU,GAAG,IAAIV,EAAI6B,GAAG5B,KAAKyC,QAAQ,QAAQ,IAAI,IAAI,IAAI,MAAM,IACl9GC,EAAkB,GC+DtB,GACA,mBACA,gBACA,OACA,UACA,SACA,WACA,WACA,aACA,eACA,MACA,QACA,MACA,aACA,MACA,UACA,CACA,UACA,oBAEA,CACA,UACA,iBAEA,CACA,UACA,qBAIA,iBACA,IACA,+CAEA,MACA,+CAEA,IACA,gDAGA,iCACA,8BACA,4BACA,YAGA,SACA,+BACA,uGACA,iCAEA,oCACA,OACA,wCACA,uBACA,2BACA,2BACA,yBACA,yBACA,kBACA,kBACA,4CAGA,gBACA,6BACA,kCAIA,2BACA,oCACA,uBACA,QACA,UAEA,+BAEA,4BAEA,+BAEA,2BACA,8BAEA,uBACA,8HACA,uBACA,yBACA,uBACA,uBACA,eACA,uIAGA,sBChKoW,I,YCOhWC,EAAY,eACd,EACA7C,EACA4C,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-2d224feb.1dd0a992.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/drcResource\"}})],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"drcResource\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.drcResource,\"rules\":_vm.ruleDrcResource,\"label-width\":250}},[_c('FormItem',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择资源类型\"},model:{value:(_vm.drcResource.type),callback:function ($$v) {_vm.$set(_vm.drcResource, \"type\", $$v)},expression:\"drcResource.type\"}},_vm._l((_vm.drcResource.typeList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"dc\",\"prop\":\"dc\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择资源所在机房\"},on:{\"on-create\":_vm.handleCreateDc},model:{value:(_vm.drcResource.dc),callback:function ($$v) {_vm.$set(_vm.drcResource, \"dc\", $$v)},expression:\"drcResource.dc\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"450px\"},attrs:{\"label\":\"ip\",\"prop\":\"ip\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入资源ip\"},model:{value:(_vm.drcResource.ip),callback:function ($$v) {_vm.$set(_vm.drcResource, \"ip\", $$v)},expression:\"drcResource.ip\"}})],1),_c('FormItem',{attrs:{\"label\":\"tag\",\"prop\":\"tag\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"选择tag\"},on:{\"on-create\":_vm.handleCreateTag},model:{value:(_vm.drcResource.tag),callback:function ($$v) {_vm.$set(_vm.drcResource, \"tag\", $$v)},expression:\"drcResource.tag\"}},_vm._l((_vm.tagList),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"AZ\",\"prop\":\"az\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"选择az\"},on:{\"on-create\":_vm.handleCreateAz},model:{value:(_vm.drcResource.az),callback:function ($$v) {_vm.$set(_vm.drcResource, \"az\", $$v)},expression:\"drcResource.az\"}},_vm._l((_vm.azList),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset()}}},[_vm._v(\"重置\")]),_c('br'),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.reviewInputResource ()}}},[_vm._v(\"录入\")])],1),_c('Modal',{attrs:{\"title\":\"录入确认\"},on:{\"on-ok\":_vm.inputResource},model:{value:(_vm.drcResource.reviewModal),callback:function ($$v) {_vm.$set(_vm.drcResource, \"reviewModal\", $$v)},expression:\"drcResource.reviewModal\"}},[_vm._v(\" 确认录入资源\"+_vm._s(this.drcResource.ip)+\"吗？所在机房：\"+_vm._s(this.drcResource.dc)+\"，类型：\"+_vm._s(this.drcResource.type)+\" \")]),_c('Modal',{attrs:{\"title\":\"录入结果\"},model:{value:(_vm.drcResource.resultModal),callback:function ($$v) {_vm.$set(_vm.drcResource, \"resultModal\", $$v)},expression:\"drcResource.resultModal\"}},[_vm._v(\" \"+_vm._s(this.result)+\" \")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/drcResource\"></BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div :style=\"{padding: '1px 1px',height: '100%'}\">\n        <Row>\n          <i-col span=\"12\">\n            <Form ref=\"drcResource\" :model=\"drcResource\" :rules=\"ruleDrcResource\" :label-width=\"250\"\n                  style=\"float: left; margin-top: 50px\">\n              <FormItem label=\"类型\" prop=\"type\">\n                <Select v-model=\"drcResource.type\" style=\"width: 200px\" placeholder=\"请选择资源类型\">\n                  <Option v-for=\"item in drcResource.typeList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}\n                  </Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"dc\" prop=\"dc\">\n                <Select v-model=\"drcResource.dc\" filterable allow-create style=\"width: 200px\" placeholder=\"请选择资源所在机房\"\n                        @on-create=\"handleCreateDc\">\n                  <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"ip\" prop=\"ip\" style=\"width: 450px\">\n                <Input v-model=\"drcResource.ip\" placeholder=\"请输入资源ip\"/>\n              </FormItem>\n              <FormItem label=\"tag\" prop=\"tag\">\n                <Select v-model=\"drcResource.tag\" filterable allow-create style=\"width: 200px\" placeholder=\"选择tag\"\n                        @on-create=\"handleCreateTag\">\n                  <Option v-for=\"item in tagList\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"AZ\" prop=\"az\">\n                <Select v-model=\"drcResource.az\" filterable allow-create style=\"width: 200px\" placeholder=\"选择az\"\n                        @on-create=\"handleCreateAz\">\n                  <Option v-for=\"item in azList\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem>\n                <Button @click=\"handleReset()\">重置</Button>\n                <br><br>\n                <Button type=\"primary\" @click=\"reviewInputResource ()\">录入</Button>\n              </FormItem>\n              <Modal\n                v-model=\"drcResource.reviewModal\"\n                title=\"录入确认\"\n                @on-ok=\"inputResource\">\n                确认录入资源{{ this.drcResource.ip }}吗？所在机房：{{ this.drcResource.dc }}，类型：{{ this.drcResource.type }}\n              </Modal>\n              <Modal\n                v-model=\"drcResource.resultModal\"\n                title=\"录入结果\">\n                {{ this.result }}\n              </Modal>\n            </Form>\n          </i-col>\n        </Row>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'drcResource',\n  data () {\n    return {\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      drcResource: {\n        reviewModal: false,\n        ip: '',\n        type: '',\n        dc: '',\n        tag: 'COMMON',\n        az: '',\n        typeList: [\n          {\n            value: 'R',\n            label: 'Replicator'\n          },\n          {\n            value: 'A',\n            label: 'Applier'\n          },\n          {\n            value: 'M',\n            label: 'Messenger'\n          }\n        ]\n      },\n      ruleDrcResource: {\n        ip: [\n          { required: true, message: 'ip不能为空', trigger: 'blur' }\n        ],\n        type: [\n          { required: true, message: 'ip不能为空', trigger: 'blur' }\n        ],\n        dc: [\n          { required: true, message: 'dc不能为空', trigger: 'blur' }\n        ]\n      },\n      drcZoneList: this.constant.dcList,\n      tagList: this.constant.tagList,\n      azList: this.constant.azList,\n      result: ''\n    }\n  },\n  methods: {\n    reviewInputResource () {\n      console.log('review input ' + this.drcResource.type + '(' + this.drcResource.ip + ') in ' + this.drcResource.dc)\n      this.drcResource.reviewModal = true\n    },\n    inputResource () {\n      const that = this\n      this.axios.put('/api/drc/v2/resource/', {\n        ip: this.drcResource.ip,\n        type: this.drcResource.type,\n        dcName: this.drcResource.dc,\n        tag: this.drcResource.tag,\n        az: this.drcResource.az\n      }).then(res => {\n        if (res.data.status === 1) {\n          this.$Message.warning('录入失败 ' + res.data.message)\n          // alert(res.data.message)\n        } else {\n          that.result = '录入成功'\n          that.drcResource.reviewModal = false\n          that.drcResource.resultModal = true\n        }\n      })\n    },\n    handleCreateDc (val) {\n      console.log('customize add dc: ' + val)\n      this.drcZoneList.push({\n        value: val,\n        label: val\n      })\n      console.log(this.drcZoneList)\n    },\n    handleCreateTag (val) {\n      // this.tagList.push(val)\n      this.constant.tagList.push(val)\n    },\n    handleCreateAz (val) {\n      this.constant.azList.push(val)\n    },\n    handleReset () {\n      console.log('reset input request type: ' + this.drcResource.type + ', ip: ' + this.drcResource.ip + ', dc: ' + this.drcResource.dc + '.')\n      this.drcResource.ip = ''\n      this.drcResource.type = ''\n      this.drcResource.dc = ''\n      this.drcResource.az = ''\n      this.result = ''\n      console.log('reset input request type result: ' + this.drcResource.type + ', ip: ' + this.drcResource.ip + ', dc: ' + this.drcResource.dc + '.')\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drcResource.vue?vue&type=template&id=4abffcb0&scoped=true&\"\nimport script from \"./drcResource.vue?vue&type=script&lang=js&\"\nexport * from \"./drcResource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4abffcb0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}