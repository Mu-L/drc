{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/views/v2/meta/buildStep/dbAppliers.vue","webpack:///src/views/v2/meta/buildStep/dbAppliers.vue","webpack:///./src/views/v2/meta/buildStep/dbAppliers.vue?5094","webpack:///./src/views/v2/meta/buildStep/dbAppliers.vue?2e5d"],"names":["$","$entries","entries","target","stat","O","DESCRIPTORS","fails","uncurryThis","objectGetPrototypeOf","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","push","IE_BUG","Object","create","createMethod","TO_ENTRIES","it","key","keys","IE_WORKAROUND","length","i","result","module","exports","values","render","_vm","this","_c","_self","style","margin","position","attrs","path","query","srcMhaName","initInfo","dstMhaName","preciseSearchMode","_v","step","srcDc","dstDc","order","staticClass","padding","background","zIndex","staticStyle","_s","submitted","_e","dataLoading","on","$event","preBatchUpdate","preSubmit","preSwitchAppliers","scopedSlots","_u","fn","dbApplierEmpty","nativeOn","fillMhaApplier","apply","arguments","preClearAndUpdateMhaGtid","proxy","ref","columns","tableData","changeSelection","_ref","row","index","showSelectOptionComponent","model","value","ips","callback","$$v","$set","expression","_l","applierResourceList","item","ip","az","applierDataLoading","autoConfigApplier","join","_ref2","gtidInit","_ref3","concurrency","batchUpdateAppliers","batchUpdateModal","height","gtid","updateData","updateColumns","clearAndUpdateMhaGtid","rollbackModal","dbGtidColumns","gtidCheck","dbApplied","minRows","maxRows","mhaApplied","mhaTarget","staticRenderFns","name","data","_this","srcMhaId","dbReplicationId","multiData","mhaApplierInitGtid","deleteData","filters","filterMap","type","width","align","title","slot","renderHeader","h","params","props","size","click","batchAutoConfigure","label","filterMultiple","filterMethod","color","propertiesJson","dbApplierDtos","total","pageSizeOpts","methods","getSwitchParams","dbNames","map","dbApplierDto","dbName","switchAppliers","_this2","console","log","axios","post","then","response","success","status","$Message","warning","message","catch","error","finally","$Modal","remove","getDbAppliers","getFilterText","val","flattenObj","ob","_typeof","Array","isArray","temp","j","getFilteredData","$refs","multipleTable","makeDataWithSortAndFilter","_this3","Vue","set","get","selectedIps","forEach","_this4","confirm","content","onOk","submitDbAppliers","_this5","loading","_this6","srcBuildParam","mhaName","dstBuildParam","applierInitGtid","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","_x","_this7","_callee2","_context2","getResources","_this8","_this9","_callee3","_context3","getSelection","undefined","_this10","Promise","all","_callee4","_ref4","res1","res2","_context4","_slicedToArray","abrupt","_x2","_this11","extract","ret","_i","_Object$entries","_Object$entries$_i","_ref6","_callee5","_ref5","_ref7","res3","_context5","_x3","_this12","_this13","selectedDbNames","e","includes","clearDeleteDbReplication","batchDeleteModal","deleteDbReplication","_this14","deleteDbReplicationIds","delete","res","created","_this15","$route","applierGroupId","$router","computed","_step","_iterator","_createForOfIteratorHelper","s","n","done","x","err","component"],"mappings":"mHACA,IAAIA,EAAI,EAAQ,QACZC,EAAW,EAAQ,QAAgCC,QAIvDF,EAAE,CAAEG,OAAQ,SAAUC,MAAM,GAAQ,CAClCF,QAAS,SAAiBG,GACxB,OAAOJ,EAASI,O,oCCPpB,IAAIC,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBC,EAAc,EAAQ,QACtBC,EAAuB,EAAQ,QAC/BC,EAAa,EAAQ,QACrBC,EAAkB,EAAQ,QAC1BC,EAAwB,EAAQ,QAA8CC,EAE9EC,EAAuBN,EAAYI,GACnCG,EAAOP,EAAY,GAAGO,MAItBC,EAASV,GAAeC,GAAM,WAEhC,IAAIF,EAAIY,OAAOC,OAAO,MAEtB,OADAb,EAAE,GAAK,GACCS,EAAqBT,EAAG,MAI9Bc,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAMIC,EANAjB,EAAIM,EAAgBU,GACpBE,EAAOb,EAAWL,GAClBmB,EAAgBR,GAAsC,OAA5BP,EAAqBJ,GAC/CoB,EAASF,EAAKE,OACdC,EAAI,EACJC,EAAS,GAEb,MAAOF,EAASC,EACdJ,EAAMC,EAAKG,KACNpB,KAAgBkB,EAAgBF,KAAOjB,EAAIS,EAAqBT,EAAGiB,KACtEP,EAAKY,EAAQP,EAAa,CAACE,EAAKjB,EAAEiB,IAAQjB,EAAEiB,IAGhD,OAAOK,IAIXC,EAAOC,QAAU,CAGf3B,QAASiB,GAAa,GAGtBW,OAAQX,GAAa,K,yDC/CnBY,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,iBAAiB,CAACA,EAAG,aAAa,CAACE,MAAO,CAACC,OAAQ,oBAAqBC,SAAU,UAAW,CAACJ,EAAG,iBAAiB,CAACK,MAAM,CAAC,GAAK,CAC7LC,KAAM,sBAAsBC,MAAO,CACnCC,WAAYT,KAAKU,SAASD,WAC1BE,WAAYX,KAAKU,SAASC,WAC1BC,mBAAmB,MAEnB,CAACb,EAAIc,GAAG,SAASZ,EAAG,iBAAiB,CAACK,MAAM,CAAC,GAAK,CACpDC,KAAM,SAASC,MAAO,CACpBM,KAAM,EACNL,WAAYT,KAAKU,SAASD,WAC1BE,WAAYX,KAAKU,SAASC,WAC1BI,MAAOf,KAAKU,SAASK,MACrBC,MAAOhB,KAAKU,SAASM,MACrBC,MAAOjB,KAAKU,SAASO,UAErB,CAAClB,EAAIc,GAAG,cAAcZ,EAAG,iBAAiB,CAACF,EAAIc,GAAG,UAAU,GAAGZ,EAAG,UAAU,CAACiB,YAAY,UAAUf,MAAO,CAACgB,QAAS,OAAQC,WAAY,OAAQhB,OAAQ,mBAAoBiB,OAAQ,MAAO,CAACpB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACK,MAAM,CAAC,KAAO,MAAM,CAACL,EAAG,OAAO,CAACqB,YAAY,CAAC,aAAa,OAAO,MAAQ,UAAU,cAAc,QAAQ,CAACvB,EAAIc,GAAGd,EAAIwB,GAAGxB,EAAIW,SAASD,YAAY,IAAIV,EAAIwB,GAAGxB,EAAIW,SAASK,OAAO,OAAOhB,EAAIwB,GAAGxB,EAAIW,SAASC,YAAY,IAAIZ,EAAIwB,GAAGxB,EAAIW,SAASM,OAAO,UAAU,GAAGf,EAAG,MAAM,CAACqB,YAAY,CAAC,aAAa,OAAO,WAAa,UAAU,OAAS,sBAAsB,CAACrB,EAAG,MAAM,CAACqB,YAAY,CAAC,QAAU,OAAO,MAAQ,OAAO,OAAS,OAAOhB,MAAM,CAAC,KAAO,MAAM,CAAGP,EAAIyB,UAA8LzB,EAAI0B,KAAvLxB,EAAG,SAAS,CAACqB,YAAY,CAAC,aAAa,SAAShB,MAAM,CAAC,QAAUP,EAAI2B,YAAY,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI8B,oBAAoB,CAAC9B,EAAIc,GAAG,aAAsB,GAAGZ,EAAG,MAAM,CAACqB,YAAY,CAAC,QAAU,OAAO,MAAQ,OAAO,OAAS,OAAOhB,MAAM,CAAC,KAAO,MAAM,CAAGP,EAAIyB,UAA2MzB,EAAI0B,KAApMxB,EAAG,SAAS,CAACqB,YAAY,CAAC,aAAa,SAAShB,MAAM,CAAC,KAAO,cAAc,QAAUP,EAAI2B,YAAY,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI+B,eAAe,CAAC/B,EAAIc,GAAG,SAAoBd,EAAIyB,UAAyOzB,EAAI0B,KAAlOxB,EAAG,SAAS,CAACqB,YAAY,CAAC,cAAc,OAAO,aAAa,SAAShB,MAAM,CAAC,KAAO,UAAU,QAAUP,EAAI2B,YAAY,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAIgC,uBAAuB,CAAChC,EAAIc,GAAG,eAAwB,GAAGZ,EAAG,MAAM,CAACqB,YAAY,CAAC,QAAU,OAAO,MAAQ,QAAQ,OAAS,OAAOhB,MAAM,CAAC,KAAO,MAAM,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,UAAY,gBAAgB0B,YAAYjC,EAAIkC,GAAG,CAAC,CAAC5C,IAAI,OAAO6C,GAAG,WAAW,MAAO,CAACjC,EAAG,eAAe,CAAEF,EAAIoC,eAAgBlC,EAAG,eAAe,CAACmC,SAAS,CAAC,MAAQ,SAASR,GAAQ,OAAQ,kBAAM7B,EAAIsC,kBAAkBC,MAAM,KAAMC,cAAc,CAACxC,EAAIc,GAAG,sBAAsBd,EAAI0B,KAAO1B,EAAIoC,eAAwKpC,EAAI0B,KAA5JxB,EAAG,eAAe,CAACmC,SAAS,CAAC,MAAQ,SAASR,GAAQ,OAAQ,kBAAM7B,EAAIyC,4BAA4BF,MAAM,KAAMC,cAAc,CAACxC,EAAIc,GAAG,mBAA4B,KAAK4B,OAAM,MAAS,CAACxC,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,CAACP,EAAIc,GAAG,UAAUZ,EAAG,OAAO,CAACK,MAAM,CAAC,KAAO,qBAAqB,IAAI,IAAI,IAAI,GAAGL,EAAG,QAAQ,CAACyC,IAAI,gBAAgBpB,YAAY,CAAC,aAAa,OAAOhB,MAAM,CAAC,OAAS,GAAG,QAAUP,EAAI4C,QAAQ,KAAO5C,EAAI6C,UAAU,QAAU7C,EAAI2B,YAAY,OAAS,IAAIC,GAAG,CAAC,sBAAsB5B,EAAI8C,iBAAiBb,YAAYjC,EAAIkC,GAAG,CAAC,CAAC5C,IAAI,UAAU6C,GAAG,SAADY,GAAuB,IAAZC,EAAGD,EAAHC,IAAKC,EAAKF,EAALE,MAAQ,MAAO,CAAEjD,EAAIkD,0BAA2BhD,EAAG,SAAS,CAACqB,YAAY,CAAC,MAAQ,SAAShB,MAAM,CAAC,UAAW,EAAK,SAAW,GAAG,YAAc,gBAAgB4C,MAAM,CAACC,MAAOpD,EAAI6C,UAAUI,GAAOI,IAAKC,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI6C,UAAUI,GAAQ,MAAOM,IAAME,WAAW,yBAAyBzD,EAAI0D,GAAI1D,EAAI2D,qBAAqB,SAASC,GAAM,OAAO1D,EAAG,SAAS,CAACZ,IAAIsE,EAAKC,GAAGtD,MAAM,CAAC,MAAQqD,EAAKC,KAAK,CAAC7D,EAAIc,GAAGd,EAAIwB,GAAGoC,EAAKC,IAAI,OAAO7D,EAAIwB,GAAGoC,EAAKE,IAAI,UAAS,GAAG9D,EAAI0B,KAAM1B,EAAIkD,0BAA2BhD,EAAG,SAAS,CAACqB,YAAY,CAAC,cAAc,QAAQhB,MAAM,CAAC,QAAUP,EAAI+D,mBAAmBd,GAAO,KAAO,UAAU,KAAO,SAASrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAIgE,kBAAkBhB,EAAKC,MAAU,CAACjD,EAAIc,GAAG,WAAWd,EAAI0B,KAAO1B,EAAIkD,0BAAgGlD,EAAI0B,KAAzExB,EAAG,OAAO,CAACF,EAAIc,GAAG,IAAId,EAAIwB,GAAGxB,EAAI6C,UAAUI,GAAOI,IAAIY,KAAK,aAAsB,CAAC3E,IAAI,WAAW6C,GAAG,SAAD+B,GAAcA,EAAHlB,IAAY,IAAPC,EAAKiB,EAALjB,MAAQ,MAAO,CAAC/C,EAAG,QAAQ,CAACqB,YAAY,CAAC,MAAQ,OAAOhB,MAAM,CAAC,QAAS,EAAM,YAAc,iBAAiB4C,MAAM,CAACC,MAAOpD,EAAI6C,UAAUI,GAAOkB,SAAUb,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI6C,UAAUI,GAAQ,WAAYM,IAAME,WAAW,kCAAkC,CAACnE,IAAI,cAAc6C,GAAG,SAADiC,GAAcA,EAAHpB,IAAY,IAAPC,EAAKmB,EAALnB,MAAQ,MAAO,CAAC/C,EAAG,cAAc,CAACqB,YAAY,CAAC,MAAQ,OAAOhB,MAAM,CAAC,IAAM,IAAI,IAAM,EAAE,YAAc,IAAI4C,MAAM,CAACC,MAAOpD,EAAI6C,UAAUI,GAAOoB,YAAaf,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI6C,UAAUI,GAAQ,cAAeM,IAAME,WAAW,yCAAyCvD,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,cAAc,MAAQ,UAAUqB,GAAG,CAAC,QAAQ5B,EAAIsE,qBAAqBnB,MAAM,CAACC,MAAOpD,EAAIuE,iBAAkBjB,SAAS,SAAUC,GAAMvD,EAAIuE,iBAAiBhB,GAAKE,WAAW,qBAAqB,CAACvD,EAAG,MAAM,CAACE,MAAO,CAACgB,QAAS,UAAUoD,OAAQ,SAAU,CAACtE,EAAG,OAAO,CAACK,MAAM,CAAC,iBAAiB,OAAO,cAAc,MAAM,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,YAAY,CAACL,EAAG,SAAS,CAACqB,YAAY,CAAC,MAAQ,SAAShB,MAAM,CAAC,UAAW,EAAK,SAAW,GAAG,YAAc,gBAAgB4C,MAAM,CAACC,MAAOpD,EAAI7B,OAAOkF,IAAKC,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI7B,OAAQ,MAAOoF,IAAME,WAAW,eAAezD,EAAI0D,GAAI1D,EAAI2D,qBAAqB,SAASC,GAAM,OAAO1D,EAAG,SAAS,CAACZ,IAAIsE,EAAKC,GAAGtD,MAAM,CAAC,MAAQqD,EAAKC,KAAK,CAAC7D,EAAIc,GAAGd,EAAIwB,GAAGoC,EAAKC,IAAI,OAAO7D,EAAIwB,GAAGoC,EAAKE,IAAI,UAAS,IAAI,GAAG5D,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,WAAW,CAACL,EAAG,QAAQ,CAACqB,YAAY,CAAC,MAAQ,OAAOhB,MAAM,CAAC,QAAS,EAAM,YAAc,iBAAiB4C,MAAM,CAACC,MAAOpD,EAAI7B,OAAOsG,KAAMnB,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI7B,OAAQ,OAAQoF,IAAME,WAAW,kBAAkB,IAAI,GAAGvD,EAAG,IAAI,CAACA,EAAG,OAAO,CAACF,EAAIc,GAAG,QAAQZ,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,MAAM,YAAY,OAAO,aAAa,YAAY,YAAY,eAAe,CAACvB,EAAIc,GAAGd,EAAIwB,GAAGvB,KAAKyE,WAAWjF,WAAWS,EAAG,OAAO,CAACF,EAAIc,GAAG,YAAY,CAACZ,EAAG,QAAQ,CAACqB,YAAY,CAAC,aAAa,QAAQhB,MAAM,CAAC,OAAS,GAAG,QAAUP,EAAI2E,cAAc,KAAO3E,EAAI0E,WAAW,OAAS,QAAQ,KAAKxE,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,aAAa,MAAQ,UAAUqB,GAAG,CAAC,QAAQ5B,EAAI4E,uBAAuBzB,MAAM,CAACC,MAAOpD,EAAI6E,cAAevB,SAAS,SAAUC,GAAMvD,EAAI6E,cAActB,GAAKE,WAAW,kBAAkB,CAACvD,EAAG,MAAM,CAACE,MAAO,CAACgB,QAAS,UAAUoD,OAAQ,SAAU,CAACtE,EAAG,IAAI,CAACA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,MAAM,YAAY,OAAO,aAAa,YAAY,YAAY,eAAe,CAACvB,EAAIc,GAAG,4CAA4CZ,EAAG,WAAWA,EAAG,OAAO,CAACqB,YAAY,CAAC,MAAQ,QAAQ,CAACrB,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,eAAe,CAAC,CAACL,EAAG,QAAQ,CAACqB,YAAY,CAAC,aAAa,QAAQhB,MAAM,CAAC,OAAS,GAAG,QAAUP,EAAI8E,cAAc,KAAO9E,EAAI+E,UAAUC,UAAU,OAAS,QAAQ,GAAG9E,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,gBAAgB,CAACL,EAAG,QAAQ,CAACK,MAAM,CAAC,SAAW,CAAC0E,QAAS,EAAEC,QAAS,IAAI,SAAW,IAAI/B,MAAM,CAACC,MAAOpD,EAAI+E,UAAUI,WAAY7B,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI+E,UAAW,aAAcxB,IAAME,WAAW,2BAA2B,GAAGvD,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,yBAAyB,CAACL,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,WAAW,SAAW,CAAC0E,QAAS,EAAEC,QAAS,IAAI,SAAW,IAAI/B,MAAM,CAACC,MAAOpD,EAAI+E,UAAUK,UAAW9B,SAAS,SAAUC,GAAMvD,EAAIwD,KAAKxD,EAAI+E,UAAW,YAAaxB,IAAME,WAAW,0BAA0B,IAAI,IAAI,MAAM,IAAI,IAEp5M4B,EAAkB,G,qKC8IP,GACfC,KAAA,SACAC,KAAA,eAAAC,EAAA,KACA,OACA7E,SAAA,CACAD,WAAA,GACA+E,SAAA,EACA7E,WAAA,GACA8E,gBAAA,EACAC,UAAA,GACA3E,MAAA,GACAC,MAAA,GACAC,OAAA,GAEAS,aAAA,EACAoC,mBAAA,GACAtC,WAAA,EACAkC,oBAAA,GACAY,kBAAA,EACAM,eAAA,EACAE,UAAA,CACAI,WAAA,GACAH,UAAA,GACAI,UAAA,IAEAQ,mBAAA,KACAC,WAAA,GACAC,QAAA,GACAC,UAAA,CACA,QACA,UAEA5H,OAAA,CACAsG,KAAA,GACApB,IAAA,IAEAT,QAAA,CACA,CACAoD,KAAA,YACAC,MAAA,GACAC,MAAA,UAEA,CACAC,MAAA,KACA7G,IAAA,SACA2G,MAAA,KAEA,CACAE,MAAA,UACAC,KAAA,UACAH,MAAA,IACAI,aAAA,SAAAC,EAAAC,GACA,OAAAD,EAAA,QACAA,EAAA,yBACAA,EAAA,UACAE,MAAA,CACAR,KAAA,UACAS,KAAA,SAEA7E,GAAA,CACA8E,MAAA,WACAlB,EAAAmB,wBAGA,WAGAb,QAAA,CACA,CACAc,MAAA,IACAxD,MAAA,MAEA,CACAwD,MAAA,KACAxD,MAAA,aAGAyD,gBAAA,EACAC,aAAA,SAAA1D,EAAAJ,GACA,OAAAI,EAAAJ,EAAAK,KAAAL,EAAAK,IAAA5D,OAAA,GAAAuD,EAAAK,KAAA,IAAAL,EAAAK,IAAA5D,SAGA,CACA0G,MAAA,SACAC,KAAA,YAEA,CACAD,MAAA,MACAF,MAAA,IACAG,KAAA,gBAGAzB,cAAA,CACA,CACAwB,MAAA,KACA7G,IAAA,SACA2G,MAAA,KAEA,CACAE,MAAA,aACA7G,IAAA,UACA2G,MAAA,IACAlG,OAAA,SAAAuG,EAAAC,GACA,IAAAvD,EAAAuD,EAAAvD,IACAK,EAAAL,EAAAK,IACA,cAAAA,GAAA,IAAAA,EAAA5D,OACA6G,EAAA,OACAE,MAAA,CACAO,MAAA,SAEA,KAEAT,EAAA,OAAAtD,EAAAK,IAAAY,KAAA,SAIA,CACAkC,MAAA,SACA7G,IAAA,WACAS,OAAA,SAAAuG,EAAAC,GACA,IAAAvD,EAAAuD,EAAAvD,IACAmB,EAAAnB,EAAAmB,SACA,cAAAA,GAAA,IAAAA,EAAA1E,OACA6G,EAAA,OACAE,MAAA,CACAO,MAAA,SAEA,KAEAT,EAAA,OAAAnC,MAKAW,cAAA,CACA,CACAqB,MAAA,KACA7G,IAAA,SACA2G,MAAA,KAEA,CACAE,MAAA,SACA7G,IAAA,WACAS,OAAA,SAAAuG,EAAAC,GACA,IAAAvD,EAAAuD,EAAAvD,IACAmB,EAAAnB,EAAAmB,SACA,cAAAA,GAAA,IAAAA,EAAA1E,OACA6G,EAAA,OACAE,MAAA,CACAO,MAAA,SAEA,KAEAT,EAAA,OAAAnC,MAKAO,WAAA,GACAsC,eAAA,GACAnE,UAAA,GACAoE,cAAA,GACAC,MAAA,EACAT,KAAA,EACAU,aAAA,gBAGAC,QAAA,CACAC,gBAAA,WACA,QACA3G,WAAA,KAAAC,SAAAD,WACAE,WAAA,KAAAD,SAAAC,WACA0G,QAAA,KAAAL,cAAAM,KAAA,SAAAC,GACA,OAAAA,EAAAC,aAIAC,eAAA,eAAAC,EAAA,KACApB,EAAA,KAAAc,kBACAO,QAAAC,IAAAtB,GACA,KAAA5E,aAAA,EACA,KAAAmG,MAAAC,KAAA,wCAAAxB,GACAyB,MAAA,SAAAC,GACA,IAAA1C,EAAA0C,EAAA1C,KACA2C,EAAA,IAAA3C,EAAA4C,OACAD,GACAP,EAAAlG,WAAA,EACAkG,EAAAS,SAAAF,QAAA,SAEAP,EAAAS,SAAAC,QAAA,SAAA9C,EAAA+C,YAGAC,OAAA,SAAAD,GACAX,EAAAS,SAAAI,MAAA,SAAAF,MAEAG,SAAA,WACAd,EAAAe,OAAAC,SACAhB,EAAAhG,aAAA,EACAgG,EAAAiB,oBAGAC,cAAA,SAAAC,KAEAhG,gBAAA,SAAAgG,GACA,KAAAnI,SAAAgF,UAAAmD,EACAlB,QAAAC,IAAA,KAAAlH,SAAAgF,YAEAoD,WAAA,SAAAC,GACA,IAAArJ,EAAA,GACA,QAAAD,KAAAsJ,EACA,cAAAC,eAAAD,EAAAtJ,KAAAwJ,MAAAC,QAAAH,EAAAtJ,IAMAC,EAAAD,GAAAsJ,EAAAtJ,OANA,CACA,IAAA0J,EAAA,KAAAL,WAAAC,EAAAtJ,IACA,QAAA2J,KAAAD,EACAzJ,EAAAD,EAAA,IAAA2J,GAAAD,EAAAC,GAMA,OAAA1J,GAEA2J,gBAAA,WACA,YAAAC,MAAAC,cAAAC,6BAEAzF,kBAAA,SAAAhB,EAAAC,GAAA,IAAAyG,EAAA,KACAC,aAAAC,IAAA,KAAA7F,mBAAAd,GAAA,GACA,KAAA6E,MAAA+B,IAAA,gCACAtD,OAAA,CACA3F,WAAA,KAAAD,SAAAC,WACAoF,KAAA,EACA8D,YAAA9G,EAAAK,IAAAL,EAAAK,IAAAY,KAAA,aAEA+D,MAAA,SAAAC,GACAjF,EAAAK,IAAA,GACA4E,EAAA1C,UAAAwE,SAAA,SAAAlG,GAAA,OAAAb,EAAAK,IAAAtE,KAAA8E,SACA8F,aAAAC,IAAAF,EAAA7G,UAAAI,EAAAD,MACAuF,OAAA,SAAAD,GACAoB,EAAAtB,SAAAI,MAAA,SAAAF,MACAG,SAAA,WACAiB,EAAA3F,mBAAAd,IAAA,MAIAlB,UAAA,eAAAiI,EAAA,KACA,KAAAtB,OAAAuB,QAAA,CACA9D,MAAA,OACA+D,QAAA,WACAC,KAAA,WACAH,EAAAI,uBAIApI,kBAAA,eAAAqI,EAAA,KACA,KAAA3B,OAAAuB,QAAA,CACA9D,MAAA,cACA+D,QAAA,aACAI,SAAA,EACAH,KAAA,WACAE,EAAA3C,qBAIA0C,iBAAA,eAAAG,EAAA,KACAhE,EAAA,CACAiE,cAAA,CACAC,QAAA,KAAA9J,SAAAD,WACAuG,cAAA,IAEAyD,cAAA,CACAD,QAAA,KAAA9J,SAAAC,WACAqG,cAAA,KAAAqC,kBACAqB,gBAAA,KAAA5F,UAAAK,YAGAwC,QAAAC,IAAAtB,GACA,KAAA5E,aAAA,EACA,KAAAmG,MAAAC,KAAA,gCAAAxB,GACAyB,KAAA,eAAAjF,EAAA6H,eAAAC,iBAAAC,MAAA,SAAAC,EAAA9C,GAAA,IAAA1C,EAAA2C,EAAA,OAAA2C,iBAAAG,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEA,GADA5F,EAAA0C,EAAA1C,KACA2C,EAAA,IAAA3C,EAAA4C,QACAD,EAAA,CAAA+C,EAAAE,KAAA,QAEA,OADAZ,EAAA9I,WAAA,EACA8I,EAAAnC,SAAAF,QAAA,QAAA+C,EAAAE,KAAA,EACAZ,EAAA3B,gBAAA,OAAAqC,EAAAE,KAAA,gBAEAZ,EAAAnC,SAAAC,QAAA,SAAA9C,EAAA+C,SAAA,yBAAA2C,EAAAG,UAAAL,OAEA,gBAAAM,GAAA,OAAAtI,EAAAR,MAAA,KAAAC,YAVA,IAWA+F,OAAA,SAAAD,GACAiC,EAAAnC,SAAAI,MAAA,SAAAF,MAEAG,SAAA,WACA8B,EAAAxF,UAAAK,UAAA,KACAmF,EAAA5I,aAAA,MAGAgF,mBAAA,eAAA2E,EAAA,YAAAV,eAAAC,iBAAAC,MAAA,SAAAS,IAAA,OAAAV,iBAAAG,MAAA,SAAAQ,GAAA,eAAAA,EAAAN,KAAAM,EAAAL,MAAA,OACAG,EAAAzI,UAAA0E,KAAA,SAAAvE,EAAAC,GAAA,OAAAqI,EAAAtH,kBAAAhB,EAAAC,MAAA,wBAAAuI,EAAAJ,UAAAG,MADAX,IAGAa,aAAA,eAAAC,EAAA,KACA,KAAA5D,MAAA+B,IAAA,8BACA,CACAtD,OAAA,CACA7F,WAAA,KAAAC,SAAAD,WACAE,WAAA,KAAAD,SAAAC,WACAoF,KAAA,KAGAgC,MAAA,SAAAC,GACAL,QAAAC,IAAAI,EAAA1C,MACAmG,EAAA/H,oBAAAsE,EAAA1C,cAGAqD,cAAA,eAAA+C,EAAA,YAAAf,eAAAC,iBAAAC,MAAA,SAAAc,IAAA,OAAAf,iBAAAG,MAAA,SAAAa,GAAA,eAAAA,EAAAX,KAAAW,EAAAV,MAAA,OACAQ,EAAAhK,aAAA,EACAgK,EAAA7D,MAAA+B,IAAA,mCACA,CACAtD,OAAA,CACA7F,WAAAiL,EAAAhL,SAAAD,WACAE,WAAA+K,EAAAhL,SAAAC,cAGAoH,MAAA,SAAAC,GACA,IAAAA,EAAA1C,KAAA4C,OACAwD,EAAAvD,SAAAI,MAAA,sBAEAmD,EAAA9I,UAAAoF,EAAA1C,UACAoG,EAAA1E,cAAAgB,EAAA1C,cAEAkD,SAAA,WACAkD,EAAAhK,aAAA,KACA,wBAAAkK,EAAAT,UAAAQ,MAlBAhB,IAoBA9I,eAAA,WACA,IAAA6D,EAAA,KAAA4D,MAAAC,cAAAsC,oBACAC,IAAApG,GAAA,OAAAA,GAAA,IAAAA,EAAAlG,QAIA,KAAA8E,kBAAA,EACA,KAAAG,WAAAiB,EACA,KAAAxH,OAAAkF,IAAA,GACA,KAAAlF,OAAAsG,KAAA,IANA,KAAA2D,SAAAC,QAAA,SAQA/F,eAAA,eAAA0J,EAAA,KACA,KAAArK,aAAA,EACAsK,QAAAC,IAAA,CACA,KAAApE,MAAA+B,IAAA,kDAAAlJ,SAAAD,WAAA,oBAAAC,SAAAC,YACA,KAAAkH,MAAA+B,IAAA,kEAAAlJ,SAAAD,WAAA,oBAAAC,SAAAC,cAEAoH,KAAA,eAAA5D,EAAAwG,eAAAC,iBAAAC,MAAA,SAAAqB,EAAAjI,GAAA,IAAAkI,EAAAC,EAAAC,EAAAjJ,EAAAoB,EAAA,OAAAoG,iBAAAG,MAAA,SAAAuB,GAAA,eAAAA,EAAArB,KAAAqB,EAAApB,MAAA,OAEA,GAFAiB,EAAAI,eAAAtI,EAAA,GAAAmI,EAAAD,EAAA,GAAAE,EAAAF,EAAA,GACAxE,QAAAC,IAAA,OAAAwE,GACAzE,QAAAC,IAAA,OAAAyE,GACA,IAAAD,EAAA9G,KAAA4C,QAAA,IAAAmE,EAAA/G,KAAA4C,OAAA,CAAAoE,EAAApB,KAAA,QACA,OAAAa,EAAA5D,SAAAI,MAAA,uBAAA+D,EAAAE,OAAA,iBAGApJ,EAAAgJ,EAAA9G,UACAd,EAAA6H,EAAA/G,UACAyG,EAAAnJ,UAAAkH,SAAA,SAAA/G,GACAA,EAAAK,MACAL,EAAAmB,SAAAM,KACA,wBAAA8H,EAAAnB,UAAAe,OACA,gBAAAO,GAAA,OAAAtI,EAAA7B,MAAA,KAAAC,YAbA,IAcAiG,SAAA,WACAuD,EAAArK,aAAA,MAGAc,yBAAA,eAAAkK,EAAA,KAyBA,SAAAC,EAAArH,GAEA,IADA,IAAAsH,EAAA,GACAC,EAAA,EAAAC,EAAA9N,OAAAf,QAAAqH,GAAAuH,EAAAC,EAAAtN,OAAAqN,IAAA,KAAAE,EAAAR,eAAAO,EAAAD,GAAA,GAAAxN,EAAA0N,EAAA,GAAA5J,EAAA4J,EAAA,GACA5J,KAAA3D,OAAA,GACAoN,EAAA9N,KAAA,CAAA0I,OAAAnI,EAAA6E,SAAAf,IAGA,OAAAyJ,EA9BA,KAAAlL,aAAA,EACAsK,QAAAC,IAAA,CACA,KAAApE,MAAA+B,IAAA,yDAAAlJ,SAAAD,WAAA,oBAAAC,SAAAC,YACA,KAAAkH,MAAA+B,IAAA,2DAAAlJ,SAAAD,WAAA,oBAAAC,SAAAC,YACA,KAAAkH,MAAA+B,IAAA,oEAAAlJ,SAAAD,WAAA,oBAAAC,SAAAC,cAEAoH,KAAA,eAAAiF,EAAArC,eAAAC,iBAAAC,MAAA,SAAAoC,EAAAC,GAAA,IAAAC,EAAAf,EAAAC,EAAAe,EAAA,OAAAxC,iBAAAG,MAAA,SAAAsC,GAAA,eAAAA,EAAApC,KAAAoC,EAAAnC,MAAA,OAGA,GAHAiC,EAAAZ,eAAAW,EAAA,GAAAd,EAAAe,EAAA,GAAAd,EAAAc,EAAA,GAAAC,EAAAD,EAAA,GACAxF,QAAAC,IAAA,OAAAwE,GACAzE,QAAAC,IAAA,OAAAyE,GACA1E,QAAAC,IAAA,OAAAwF,GACA,IAAAhB,EAAA9G,KAAA4C,QAAA,IAAAmE,EAAA/G,KAAA4C,QAAA,IAAAkF,EAAA9H,KAAA4C,OAAA,CAAAmF,EAAAnC,KAAA,QACA,OAAAwB,EAAAvE,SAAAI,MAAA,gBAAA8E,EAAAb,OAAA,iBAGAE,EAAA5H,UAAAI,WAAAkH,EAAA9G,UACAoH,EAAA5H,UAAAC,UAAA4H,EAAAN,EAAA/G,WACAoH,EAAA5H,UAAAK,UAAAiI,EAAA9H,UACAoH,EAAA9H,eAAA,2BAAAyI,EAAAlC,UAAA8B,OACA,gBAAAK,GAAA,OAAAN,EAAA1K,MAAA,KAAAC,YAZA,IAaAiG,SAAA,WACAkE,EAAAhL,aAAA,MAaAiD,sBAAA,eAAA4I,EAAA,KAEA,KAAA3K,UAAAkH,SAAA,SAAA/G,GACAA,EAAAK,IAAAmK,EAAArP,OAAAkF,IACAL,EAAAmB,SAAAqJ,EAAArP,OAAAsG,QAGA,KAAAmB,mBAAA,KAAAb,UAAAK,UACA,KAAAL,UAAAK,WAAA,SAAAL,UAAAK,UAAA3F,OAKA,KAAA2K,mBAJA,KAAAhC,SAAAC,QAAA,6BAMA/D,oBAAA,eAAAmJ,EAAA,KACAC,EAAA,KAAAnE,MAAAC,cAAAsC,eAAAvE,KAAA,SAAAoG,GAAA,OAAAA,EAAAlG,UAEA,KAAA5E,UAAAkH,SAAA,SAAA/G,GACA0K,EAAAE,SAAA5K,EAAAyE,UACAzE,EAAAK,IAAAoK,EAAAtP,OAAAkF,IACAoK,EAAAtP,OAAAsG,OACAzB,EAAAmB,SAAAsJ,EAAAtP,OAAAsG,UAIA,KAAA2D,SAAAC,QAAA,WAAAqF,EAAAjO,OAAA,MAEAoO,yBAAA,SAAA7K,EAAAC,GACA,KAAA4C,WAAA,GACA,KAAAiI,kBAAA,GAEAC,oBAAA,eAAAC,EAAA,KACAC,EAAA,GACA,KAAApI,WAAAkE,SAAA,SAAA4D,GAAA,OAAAM,EAAAlP,KAAA4O,EAAAjI,oBACA,KAAAoC,MAAAoG,OAAA,sDAAAD,GAAAjG,MAAA,SAAAmG,GACA,IAAAA,EAAA5I,KAAA4C,OACA6F,EAAA5F,SAAAI,MAAA,QAAA2F,EAAA5I,KAAA+C,UAEA0F,EAAA5F,SAAAF,QAAA,SACA8F,EAAApF,gBACAoF,EAAArN,SAAAgF,UAAA,SAKAyI,QAAA,eAAAC,EAAA,KACA,KAAAvG,MAAA+B,IAAA,qDAAA7B,MAAA,SAAAC,GACA,MAAAA,EAAA1C,KAAA4C,QAIAkG,EAAA1N,SAAA,CACAD,WAAA2N,EAAAC,OAAA7N,MAAAC,WACA+E,SAAA4I,EAAAC,OAAA7N,MAAAgF,SACA7E,WAAAyN,EAAAC,OAAA7N,MAAAG,WACA2N,eAAAF,EAAAC,OAAA7N,MAAA8N,eACAvN,MAAAqN,EAAAC,OAAA7N,MAAAO,MACAC,MAAAoN,EAAAC,OAAA7N,MAAAQ,MACAC,MAAAmN,EAAAC,OAAA7N,MAAAS,OAEA0G,QAAAC,IAAA,aACAD,QAAAC,IAAAwG,EAAA1N,UACA0N,EAAA5C,eACA4C,EAAAzF,iBAfAyF,EAAAG,QAAAzP,KAAA,qBAkBA0P,SAAA,CACArM,eAAA,WACA,IACAsM,EADAzH,EAAA,KAAAA,cAAA0H,EAAAC,eACA3H,GAAA,QAAA0H,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAA,KAAAC,EAAAN,EAAAtL,MACA,GAAA4L,EAAA3L,KAAA2L,EAAA3L,IAAA5D,OAAA,EACA,UAEA,MAAAwP,GAAAN,EAAAhB,EAAAsB,GAAA,QAAAN,EAAA9P,IACA,UAEAqE,0BAAA,WACA,YAAAL,UAAApD,QAAA,MChoBgY,I,YCO5XyP,EAAY,eACd,EACAnP,EACAsF,GACA,EACA,KACA,WACA,MAIa,aAAA6J,E","file":"js/chunk-3f79e392.a3d200cb.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// in some IE versions, `propertyIsEnumerable` returns incorrect result on integer keys\n// of `null` prototype objects\nvar IE_BUG = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-create -- safe\n  var O = Object.create(null);\n  O[2] = 2;\n  return !propertyIsEnumerable(O, 2);\n});\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var IE_WORKAROUND = IE_BUG && objectGetPrototypeOf(O) === null;\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || (IE_WORKAROUND ? key in O : propertyIsEnumerable(O, key))) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":{\n        path: '/v2/mhaReplications',query :{\n        srcMhaName: this.initInfo.srcMhaName,\n        dstMhaName: this.initInfo.dstMhaName,\n        preciseSearchMode: true\n      }\n    }}},[_vm._v(\"首页 \")]),_c('BreadcrumbItem',{attrs:{\"to\":{\n      path: '/drcV2',query :{\n        step: 3,\n        srcMhaName: this.initInfo.srcMhaName,\n        dstMhaName: this.initInfo.dstMhaName,\n        srcDc: this.initInfo.srcDc,\n        dstDc: this.initInfo.dstDc,\n        order: this.initInfo.order\n      }\n    }}},[_vm._v(\"DRC配置V2 \")]),_c('BreadcrumbItem',[_vm._v(\"同步表\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\"}},[_c('span',{staticStyle:{\"margin-top\":\"10px\",\"color\":\"#464c5b\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.initInfo.srcMhaName)+\"(\"+_vm._s(_vm.initInfo.srcDc)+\")==>\"+_vm._s(_vm.initInfo.dstMhaName)+\"(\"+_vm._s(_vm.initInfo.dstDc)+\")\")])])],1),_c('Row',{staticStyle:{\"margin-top\":\"20px\",\"background\":\"#fdfdff\",\"border\":\"1px solid #e8eaec\"}},[_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[(!_vm.submitted)?_c('Button',{staticStyle:{\"text-align\":\"right\"},attrs:{\"loading\":_vm.dataLoading,\"type\":\"default\"},on:{\"click\":function($event){return _vm.preBatchUpdate()}}},[_vm._v(\" 批量修改 \")]):_vm._e()],1),_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[(!_vm.submitted)?_c('Button',{staticStyle:{\"text-align\":\"right\"},attrs:{\"icon\":\"md-arrow-up\",\"loading\":_vm.dataLoading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.preSubmit()}}},[_vm._v(\"提交 \")]):_vm._e(),(!_vm.submitted)?_c('Button',{staticStyle:{\"margin-left\":\"20px\",\"text-align\":\"right\"},attrs:{\"icon\":\"md-swap\",\"loading\":_vm.dataLoading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.preSwitchAppliers()}}},[_vm._v(\" 一键自动切换 \")]):_vm._e()],1),_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"right\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[_c('Dropdown',{attrs:{\"placement\":\"bottom-start\"},scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('DropdownMenu',[(_vm.dbApplierEmpty)?_c('DropdownItem',{nativeOn:{\"click\":function($event){return (() => _vm.fillMhaApplier()).apply(null, arguments)}}},[_vm._v(\"一键录入 mha applier\")]):_vm._e(),(!_vm.dbApplierEmpty)?_c('DropdownItem',{nativeOn:{\"click\":function($event){return (() => _vm.preClearAndUpdateMhaGtid()).apply(null, arguments)}}},[_vm._v(\"切换至 mha 同步模式\")]):_vm._e()],1)]},proxy:true}])},[_c('Button',{attrs:{\"type\":\"default\",\"icon\":\"ios-hammer\"}},[_vm._v(\" 其他操作 \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}})],1)],1)],1)],1),_c('Table',{ref:\"multipleTable\",staticStyle:{\"margin-top\":\"0px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.dataLoading,\"border\":\"\"},on:{\"on-selection-change\":_vm.changeSelection},scopedSlots:_vm._u([{key:\"applier\",fn:function({row, index}){return [(_vm.showSelectOptionComponent)?_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"transfer\":true,\"multiple\":\"\",\"placeholder\":\"选择源集群Applier\"},model:{value:(_vm.tableData[index].ips),callback:function ($$v) {_vm.$set(_vm.tableData[index], \"ips\", $$v)},expression:\"tableData[index].ips\"}},_vm._l((_vm.applierResourceList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1):_vm._e(),(_vm.showSelectOptionComponent)?_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"loading\":_vm.applierDataLoading[index],\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.autoConfigApplier(row, index)}}},[_vm._v(\"自动录入 \")]):_vm._e(),(!_vm.showSelectOptionComponent)?_c('span',[_vm._v(\" \"+_vm._s(_vm.tableData[index].ips.join(', ')))]):_vm._e()]}},{key:\"gtidInit\",fn:function({row, index}){return [_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"border\":false,\"placeholder\":\"请输入binlog拉取位点\"},model:{value:(_vm.tableData[index].gtidInit),callback:function ($$v) {_vm.$set(_vm.tableData[index], \"gtidInit\", $$v)},expression:\"tableData[index].gtidInit\"}})]}},{key:\"concurrency\",fn:function({row, index}){return [_c('InputNumber',{staticStyle:{\"width\":\"90%\"},attrs:{\"max\":150,\"min\":1,\"placeholder\":\"\"},model:{value:(_vm.tableData[index].concurrency),callback:function ($$v) {_vm.$set(_vm.tableData[index], \"concurrency\", $$v)},expression:\"tableData[index].concurrency\"}})]}}])}),_c('Modal',{attrs:{\"title\":\"请设置 Applier\",\"width\":\"1200px\"},on:{\"on-ok\":_vm.batchUpdateAppliers},model:{value:(_vm.batchUpdateModal),callback:function ($$v) {_vm.batchUpdateModal=$$v},expression:\"batchUpdateModal\"}},[_c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Form',{attrs:{\"label-position\":\"left\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"Applier\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"transfer\":true,\"multiple\":\"\",\"placeholder\":\"选择源集群Applier\"},model:{value:(_vm.target.ips),callback:function ($$v) {_vm.$set(_vm.target, \"ips\", $$v)},expression:\"target.ips\"}},_vm._l((_vm.applierResourceList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"初始同步位点\"}},[_c('Input',{staticStyle:{\"width\":\"80%\"},attrs:{\"border\":false,\"placeholder\":\"请输入binlog拉取位点\"},model:{value:(_vm.target.gtid),callback:function ($$v) {_vm.$set(_vm.target, \"gtid\", $$v)},expression:\"target.gtid\"}})],1)],1),_c('p',[_c('span',[_vm._v(\"共 \")]),_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"16px\",\"word-break\":\"break-all\",\"word-wrap\":\"break-word\"}},[_vm._v(_vm._s(this.updateData.length))]),_c('span',[_vm._v(\" 行数据\")])]),[_c('Table',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.updateColumns,\"data\":_vm.updateData,\"border\":\"\"}})]],2)]),_c('Modal',{attrs:{\"title\":\"回滚至 MHA 同步\",\"width\":\"1200px\"},on:{\"on-ok\":_vm.clearAndUpdateMhaGtid},model:{value:(_vm.rollbackModal),callback:function ($$v) {_vm.rollbackModal=$$v},expression:\"rollbackModal\"}},[_c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('p',[_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"16px\",\"word-break\":\"break-all\",\"word-wrap\":\"break-word\"}},[_vm._v(\"你正在进行回滚操作，将更新mha位点，并清空所有 db applier！\")])]),_c('Divider'),_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"当前 DB 同步位点\"}},[[_c('Table',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.dbGtidColumns,\"data\":_vm.gtidCheck.dbApplied,\"border\":\"\"}})]],2),_c('FormItem',{attrs:{\"label\":\"当前 Mha 同步位点\"}},[_c('Input',{attrs:{\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.mhaApplied),callback:function ($$v) {_vm.$set(_vm.gtidCheck, \"mhaApplied\", $$v)},expression:\"gtidCheck.mhaApplied\"}})],1),_c('FormItem',{attrs:{\"label\":\"回滚后，Mha 初始同步位点将被设置为：\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.mhaTarget),callback:function ($$v) {_vm.$set(_vm.gtidCheck, \"mhaTarget\", $$v)},expression:\"gtidCheck.mhaTarget\"}})],1)],1)],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem :to=\"{\n          path: '/v2/mhaReplications',query :{\n          srcMhaName: this.initInfo.srcMhaName,\n          dstMhaName: this.initInfo.dstMhaName,\n          preciseSearchMode: true\n        }\n      }\">首页\n      </BreadcrumbItem>\n      <BreadcrumbItem :to=\"{\n        path: '/drcV2',query :{\n          step: 3,\n          srcMhaName: this.initInfo.srcMhaName,\n          dstMhaName: this.initInfo.dstMhaName,\n          srcDc: this.initInfo.srcDc,\n          dstDc: this.initInfo.dstDc,\n          order: this.initInfo.order\n        }\n      }\">DRC配置V2\n      </BreadcrumbItem>\n      <BreadcrumbItem>同步表</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <Row>\n        <Col span=\"8\">\n          <span\n            style=\"margin-top: 10px;color:#464c5b;font-weight:600\">{{ initInfo.srcMhaName }}({{\n              initInfo.srcDc\n            }})==>{{ initInfo.dstMhaName }}({{ initInfo.dstDc }})</span>\n        </Col>\n      </Row>\n      <Row  style=\"margin-top: 20px; background: #fdfdff; border: 1px solid #e8eaec;\">\n        <Col span=\"2\" style=\"display: flex;float: left;margin: 5px\" >\n          <Button :loading=\"dataLoading\" style=\"text-align: right\" type=\"default\"\n                  v-if=\"!submitted\" @click=\"preBatchUpdate()\"> 批量修改\n          </Button>\n        </Col>\n        <Col span=\"2\" style=\"display: flex;float: left;margin: 5px\" >\n          <Button icon=\"md-arrow-up\" :loading=\"dataLoading\" style=\"text-align: right\" type=\"primary\"\n                  v-if=\"!submitted\" @click=\"preSubmit()\">提交\n          </Button>\n          <Button icon=\"md-swap\" :loading=\"dataLoading\" style=\"margin-left: 20px; text-align: right\" type=\"primary\"\n                  v-if=\"!submitted\" @click=\"preSwitchAppliers()\"> 一键自动切换\n          </Button>\n        </Col>\n        <Col span=\"2\" style=\"display: flex;float: right;margin: 5px\" >\n          <Dropdown placement=\"bottom-start\">\n            <Button type=\"default\" icon=\"ios-hammer\">\n              其他操作\n              <Icon type=\"ios-arrow-down\"></Icon>\n            </Button>\n            <template #list>\n              <DropdownMenu >\n                <DropdownItem v-if=\"dbApplierEmpty\" @click.native=\"() => fillMhaApplier()\">一键录入 mha applier</DropdownItem>\n                <DropdownItem v-if=\"!dbApplierEmpty\" @click.native=\"() => preClearAndUpdateMhaGtid()\">切换至 mha 同步模式</DropdownItem>\n              </DropdownMenu>\n            </template>\n          </Dropdown>\n        </Col>\n      </Row>\n\n      <Table style=\"margin-top: 0px\" stripe :columns=\"columns\" :data=\"tableData\" :loading=\"dataLoading\" border\n             ref=\"multipleTable\"\n             @on-selection-change=\"changeSelection\">\n                    <template #applier=\"{row, index}\">\n                      <Select v-if=\"showSelectOptionComponent\" :transfer=\"true\" v-model=\"tableData[index].ips\" multiple style=\"width: 250px\"\n                              placeholder=\"选择源集群Applier\">\n                        <Option v-for=\"item in applierResourceList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{\n                            item.az\n                          }}\n                        </Option>\n                      </Select>\n                      <Button v-if=\"showSelectOptionComponent\" :loading=\"applierDataLoading[index]\" type=\"success\" size=\"small\" style=\"margin-left: 10px\"\n                              @click=\"autoConfigApplier(row, index)\">自动录入\n                      </Button>\n                      <span v-if=\"!showSelectOptionComponent\"> {{ tableData[index].ips.join(', ') }}</span>\n                    </template>\n\n                    <template #gtidInit=\"{row, index}\">\n                      <Input v-model=\"tableData[index].gtidInit\" style=\"width: 80%\" :border=\"false\"\n                             placeholder=\"请输入binlog拉取位点\"/>\n                    </template>\n                    <template #concurrency=\"{row, index}\">\n                      <InputNumber :max=\"150\" :min=\"1\" v-model=\"tableData[index].concurrency\" style=\"width: 90%\"\n                             placeholder=\"\"/>\n                    </template>\n      </Table>\n      <Modal\n          v-model=\"batchUpdateModal\"\n          title=\"请设置 Applier\"\n          width=\"1200px\"\n          @on-ok=\"batchUpdateAppliers\">\n        <div :style=\"{padding: '1px 1px',height: '100%'}\">\n          <Form label-position=\"left\" :label-width=\"100\">\n            <FormItem label=\"Applier\">\n              <Select :transfer=\"true\" v-model=\"target.ips\" multiple style=\"width: 250px\"\n                      placeholder=\"选择源集群Applier\">\n                <Option v-for=\"item in applierResourceList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{\n                    item.az\n                  }}\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"初始同步位点\">\n              <Input v-model=\"target.gtid\" :border=\"false\" style=\"width: 80%\" placeholder=\"请输入binlog拉取位点\"/>\n            </FormItem>\n          </Form>\n\n          <p>\n            <span>共 </span><span\n              style=\"color: red;font-size: 16px; word-break: break-all; word-wrap: break-word\">{{\n              this.updateData.length\n            }}</span>\n            <span> 行数据</span>\n          </p>\n          <template>\n            <Table style=\"margin-top: 20px\" stripe :columns=\"updateColumns\" :data=\"updateData\" border>\n            </Table>\n          </template>\n        </div>\n      </Modal>\n      <Modal\n          v-model=\"rollbackModal\"\n          title=\"回滚至 MHA 同步\"\n          width=\"1200px\"\n          @on-ok=\"clearAndUpdateMhaGtid\">\n        <div :style=\"{padding: '1px 1px',height: '100%'}\">\n          <p>\n            <span style=\"color: red;font-size: 16px; word-break: break-all; word-wrap: break-word\">你正在进行回滚操作，将更新mha位点，并清空所有 db applier！</span>\n          </p>\n          <Divider></Divider>\n          <Form style=\"width: 80%\">\n            <FormItem label=\"当前 DB 同步位点\">\n              <template>\n                <Table style=\"margin-top: 20px\" stripe :columns=\"dbGtidColumns\" :data=\"gtidCheck.dbApplied\" border>\n                </Table>\n              </template>\n            </FormItem>\n            <FormItem label=\"当前 Mha 同步位点\">\n              <Input :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.mhaApplied\" readonly/>\n            </FormItem>\n            <FormItem label=\"回滚后，Mha 初始同步位点将被设置为：\">\n              <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.mhaTarget\" readonly/>\n            </FormItem>\n          </Form>\n        </div>\n      </Modal>\n\n    </Content>\n  </base-component>\n</template>\n\n<script>\n\n// eslint-disable-next-line no-unused-vars\nimport Vue from 'vue'\n\nexport default {\n  name: 'tables',\n  data () {\n    return {\n      initInfo: {\n        srcMhaName: '',\n        srcMhaId: 0,\n        dstMhaName: '',\n        dbReplicationId: 0,\n        multiData: [],\n        srcDc: '',\n        dstDc: '',\n        order: true\n      },\n      dataLoading: false,\n      applierDataLoading: [],\n      submitted: false,\n      applierResourceList: [],\n      batchUpdateModal: false,\n      rollbackModal: false,\n      gtidCheck: {\n        mhaApplied: '',\n        dbApplied: [],\n        mhaTarget: ''\n      },\n      mhaApplierInitGtid: null,\n      deleteData: [],\n      filters: [],\n      filterMap: {\n        0: '行过滤',\n        1: '字段过滤'\n      },\n      target: {\n        gtid: '',\n        ips: []\n      },\n      columns: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center'\n        },\n        {\n          title: '库名',\n          key: 'dbName',\n          width: 200\n        },\n        {\n          title: 'Applier',\n          slot: 'applier',\n          width: 400,\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', 'Applier 配置 -- '),\n              h('Button', {\n                props: {\n                  type: 'success',\n                  size: 'small'\n                },\n                on: {\n                  click: () => {\n                    this.batchAutoConfigure()\n                  }\n                }\n              }, '自动录入')\n            ])\n          },\n          filters: [\n            {\n              label: '空',\n              value: null\n            },\n            {\n              label: '非空',\n              value: 'not null'\n            }\n          ],\n          filterMultiple: false,\n          filterMethod (value, row) {\n            return value ? row.ips && row.ips.length > 0 : !row.ips || row.ips.length === 0\n          }\n        },\n        {\n          title: '初始同步位点',\n          slot: 'gtidInit'\n        },\n        {\n          title: '并发数',\n          width: 200,\n          slot: 'concurrency'\n        }\n      ],\n      updateColumns: [\n        {\n          title: '库名',\n          key: 'dbName',\n          width: 200\n        },\n        {\n          title: 'applier 配置',\n          key: 'applier',\n          width: 300,\n          render: (h, params) => {\n            const row = params.row\n            const ips = row.ips\n            if (ips === null || ips.length === 0) {\n              return h('Tag', {\n                props: {\n                  color: 'blue'\n                }\n              }, '无')\n            } else {\n              return h('span', row.ips.join(', '))\n            }\n          }\n        },\n        {\n          title: '初始同步位点',\n          key: 'gtidInit',\n          render: (h, params) => {\n            const row = params.row\n            const gtidInit = row.gtidInit\n            if (gtidInit === null || gtidInit.length === 0) {\n              return h('Tag', {\n                props: {\n                  color: 'blue'\n                }\n              }, '无')\n            } else {\n              return h('span', gtidInit)\n            }\n          }\n        }\n      ],\n      dbGtidColumns: [\n        {\n          title: '库名',\n          key: 'dbName',\n          width: 200\n        },\n        {\n          title: '当前同步位点',\n          key: 'gtidInit',\n          render: (h, params) => {\n            const row = params.row\n            const gtidInit = row.gtidInit\n            if (gtidInit === null || gtidInit.length === 0) {\n              return h('Tag', {\n                props: {\n                  color: 'blue'\n                }\n              }, '无')\n            } else {\n              return h('span', gtidInit)\n            }\n          }\n        }\n      ],\n      updateData: [],\n      propertiesJson: {},\n      tableData: [],\n      dbApplierDtos: [],\n      total: 0,\n      size: 5,\n      pageSizeOpts: [5, 10, 20, 100]\n    }\n  },\n  methods: {\n    getSwitchParams () {\n      return [{\n        srcMhaName: this.initInfo.srcMhaName,\n        dstMhaName: this.initInfo.dstMhaName,\n        dbNames: this.dbApplierDtos.map((dbApplierDto) => {\n          return dbApplierDto.dbName\n        })\n      }]\n    },\n    switchAppliers () {\n      const params = this.getSwitchParams()\n      console.log(params)\n      this.dataLoading = true\n      this.axios.post('/api/drc/v2/autoconfig/switchAppliers', params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            this.submitted = true\n            this.$Message.success('提交成功')\n          } else {\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.$Modal.remove()\n          this.dataLoading = false\n          this.getDbAppliers()\n        })\n    },\n    getFilterText (val) {\n    },\n    changeSelection (val) {\n      this.initInfo.multiData = val\n      console.log(this.initInfo.multiData)\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    getFilteredData () {\n      return this.$refs.multipleTable.makeDataWithSortAndFilter()\n    },\n    autoConfigApplier (row, index) {\n      Vue.set(this.applierDataLoading, index, true)\n      this.axios.get('/api/drc/v2/resource/db/auto', {\n        params: {\n          dstMhaName: this.initInfo.dstMhaName,\n          type: 1,\n          selectedIps: row.ips ? row.ips.join(',') : null\n        }\n      }).then(response => {\n        row.ips = []\n        response.data.data.forEach(ip => row.ips.push(ip.ip))\n        Vue.set(this.tableData, index, row)\n      }).catch(message => {\n        this.$Message.error('提交异常: ' + message)\n      }).finally(() => {\n        this.applierDataLoading[index] = false\n      })\n    },\n\n    preSubmit () {\n      this.$Modal.confirm({\n        title: '提交确认',\n        content: '您确定要提交么？',\n        onOk: () => {\n          this.submitDbAppliers()\n        }\n      })\n    },\n    preSwitchAppliers () {\n      this.$Modal.confirm({\n        title: '自动切换Applier',\n        content: '<p>请确认</p>',\n        loading: true,\n        onOk: () => {\n          this.switchAppliers()\n        }\n      })\n    },\n    submitDbAppliers () {\n      const params = {\n        srcBuildParam: {\n          mhaName: this.initInfo.srcMhaName,\n          dbApplierDtos: []\n        },\n        dstBuildParam: {\n          mhaName: this.initInfo.dstMhaName,\n          dbApplierDtos: this.getFilteredData(),\n          applierInitGtid: this.gtidCheck.mhaTarget\n        }\n      }\n      console.log(params)\n      this.dataLoading = true\n      this.axios.post('/api/drc/v2/config/db/applier', params)\n        .then(async response => {\n          const data = response.data\n          const success = data.status !== 1\n          if (success) {\n            this.submitted = true\n            this.$Message.success('提交成功')\n            await this.getDbAppliers()\n          } else {\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.gtidCheck.mhaTarget = null\n          this.dataLoading = false\n        })\n    },\n    async batchAutoConfigure () {\n      this.tableData.map((row, index) => this.autoConfigApplier(row, index))\n    },\n    getResources () {\n      this.axios.get('/api/drc/v2/resource/db/all',\n        {\n          params: {\n            srcMhaName: this.initInfo.srcMhaName,\n            dstMhaName: this.initInfo.dstMhaName,\n            type: 1\n          }\n        }\n      ).then(response => {\n        console.log(response.data)\n        this.applierResourceList = response.data.data\n      })\n    },\n    async getDbAppliers () {\n      this.dataLoading = true\n      this.axios.get('/api/drc/v2/config/mha/dbApplier',\n        {\n          params: {\n            srcMhaName: this.initInfo.srcMhaName,\n            dstMhaName: this.initInfo.dstMhaName\n          }\n        }\n      ).then(response => {\n        if (response.data.status === 1) {\n          this.$Message.error('查询 db applier 失败!')\n        } else {\n          this.tableData = response.data.data\n          this.dbApplierDtos = response.data.data\n        }\n      }).finally(() => {\n        this.dataLoading = false\n      })\n    },\n    preBatchUpdate () {\n      const multiData = this.$refs.multipleTable.getSelection()\n      if (multiData === undefined || multiData === null || multiData.length === 0) {\n        this.$Message.warning('请勾选！')\n        return\n      }\n      this.batchUpdateModal = true\n      this.updateData = multiData\n      this.target.ips = []\n      this.target.gtid = ''\n    },\n    fillMhaApplier () {\n      this.dataLoading = true\n      Promise.all([\n        this.axios.get('/api/drc/v2/config/mha/applier?srcMhaName=' + this.initInfo.srcMhaName + '&dstMhaName=' + this.initInfo.dstMhaName),\n        this.axios.get('/api/drc/v2/config/mha/dbApplier/gtidTruncated?srcMhaName=' + this.initInfo.srcMhaName + '&dstMhaName=' + this.initInfo.dstMhaName)\n      ])\n        .then(async ([res1, res2]) => {\n          console.log('res1', res1)\n          console.log('res2', res2)\n          if (res1.data.status !== 0 || res2.data.status !== 0) {\n            this.$Message.error('查询 mha applier 信息失败')\n            return\n          }\n          const ips = res1.data.data\n          const gtid = res2.data.data\n          this.tableData.forEach(row => {\n            row.ips = ips\n            row.gtidInit = gtid\n          })\n        })\n        .finally(() => {\n          this.dataLoading = false\n        })\n    },\n    preClearAndUpdateMhaGtid () {\n      // 1. get gtid infos\n      this.dataLoading = true\n      Promise.all([\n        this.axios.get('/api/drc/v2/config/mha/dbApplier/gtid?srcMhaName=' + this.initInfo.srcMhaName + '&dstMhaName=' + this.initInfo.dstMhaName),\n        this.axios.get('/api/drc/v2/config/mha/dbApplier/dbGtid?srcMhaName=' + this.initInfo.srcMhaName + '&dstMhaName=' + this.initInfo.dstMhaName),\n        this.axios.get('/api/drc/v2/config/mha/dbApplier/dbGtidTruncated?srcMhaName=' + this.initInfo.srcMhaName + '&dstMhaName=' + this.initInfo.dstMhaName)\n      ])\n        .then(async ([res1, res2, res3]) => {\n          console.log('res1', res1)\n          console.log('res2', res2)\n          console.log('res3', res3)\n          if (res1.data.status !== 0 || res2.data.status !== 0 || res3.data.status !== 0) {\n            this.$Message.error('查询 gtid 信息失败')\n            return\n          }\n          this.gtidCheck.mhaApplied = res1.data.data\n          this.gtidCheck.dbApplied = extract(res2.data.data)\n          this.gtidCheck.mhaTarget = res3.data.data\n          this.rollbackModal = true\n        })\n        .finally(() => {\n          this.dataLoading = false\n        })\n\n      function extract (data) {\n        const ret = []\n        for (const [key, value] of Object.entries(data)) {\n          if (value && value.length > 0) {\n            ret.push({ dbName: key, gtidInit: value })\n          }\n        }\n        return ret\n      }\n    },\n    clearAndUpdateMhaGtid () {\n      // 1. clear db applier\n      this.tableData.forEach(row => {\n        row.ips = this.target.ips\n        row.gtidInit = this.target.gtid\n      })\n      // 2. set mha gtid to be update\n      this.mhaApplierInitGtid = this.gtidCheck.mhaTarget\n      if (!this.gtidCheck.mhaTarget || this.gtidCheck.mhaTarget.length === 0) {\n        this.$Message.warning('回滚失败，target mha gtid 不存在')\n        return\n      }\n      // 3. submit\n      this.submitDbAppliers()\n    },\n    batchUpdateAppliers () {\n      const selectedDbNames = this.$refs.multipleTable.getSelection().map(e => e.dbName)\n\n      this.tableData.forEach(row => {\n        if (selectedDbNames.includes(row.dbName)) {\n          row.ips = this.target.ips\n          if (this.target.gtid) {\n            row.gtidInit = this.target.gtid\n          }\n        }\n      })\n      this.$Message.warning('修改成功！共修改' + selectedDbNames.length + '行')\n    },\n    clearDeleteDbReplication (row, index) {\n      this.deleteData = []\n      this.batchDeleteModal = false\n    },\n    deleteDbReplication () {\n      const deleteDbReplicationIds = []\n      this.deleteData.forEach(e => deleteDbReplicationIds.push(e.dbReplicationId))\n      this.axios.delete('/api/drc/v2/config/dbReplications?dbReplicationIds=' + deleteDbReplicationIds).then(res => {\n        if (res.data.status === 1) {\n          this.$Message.error('删除失败!' + res.data.message)\n        } else {\n          this.$Message.success('删除成功!')\n          this.getDbAppliers()\n          this.initInfo.multiData = []\n        }\n      })\n    }\n  },\n  created () {\n    this.axios.get('/api/drc/v2/permission/meta/mhaReplication/modify').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      this.initInfo = {\n        srcMhaName: this.$route.query.srcMhaName,\n        srcMhaId: this.$route.query.srcMhaId,\n        dstMhaName: this.$route.query.dstMhaName,\n        applierGroupId: this.$route.query.applierGroupId,\n        srcDc: this.$route.query.srcDc,\n        dstDc: this.$route.query.dstDc,\n        order: this.$route.query.order\n      }\n      console.log('initInfo:')\n      console.log(this.initInfo)\n      this.getResources()\n      this.getDbAppliers()\n    })\n  },\n  computed: {\n    dbApplierEmpty () {\n      const dbApplierDtos = this.dbApplierDtos\n      for (const x of dbApplierDtos) {\n        if (x.ips && x.ips.length > 0) {\n          return false\n        }\n      }\n      return true\n    },\n    showSelectOptionComponent () {\n      return this.tableData.length <= 50\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbAppliers.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbAppliers.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dbAppliers.vue?vue&type=template&id=7b72fa93&scoped=true\"\nimport script from \"./dbAppliers.vue?vue&type=script&lang=js\"\nexport * from \"./dbAppliers.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b72fa93\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}