(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2cd7"],{"7ff8":function(e,o,r){"use strict";r.r(o);var t=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("base-component",[r("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[r("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")]),r("BreadcrumbItem",{attrs:{to:"/proxyResource"}},[e._v("Proxy资源管理")])],1),r("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[r("div",{style:{padding:"1px 1px",height:"100%"}},[r("Row",[r("i-col",{attrs:{span:"12"}},[r("Form",{ref:"proxyResource",staticStyle:{float:"left","margin-top":"50px"},attrs:{model:e.proxyResource,rules:e.ruleproxyResource,"label-width":250}},[r("FormItem",{attrs:{label:"机房",prop:"dc"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择资源所在机房"},on:{"on-create":e.handleCreateDc},model:{value:e.proxyResource.dc,callback:function(o){e.$set(e.proxyResource,"dc",o)},expression:"proxyResource.dc"}},e._l(e.drcZoneList,(function(o){return r("Option",{key:o.value,attrs:{value:o.value}},[e._v(e._s(o.label))])})),1)],1),r("FormItem",{staticStyle:{width:"600px"},attrs:{label:"协议",prop:"protocol"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择或输入Proxy协议"},on:{"on-create":e.handleCreateProtocol},model:{value:e.proxyResource.protocol,callback:function(o){e.$set(e.proxyResource,"protocol",o)},expression:"proxyResource.protocol"}},e._l(e.protocolList,(function(o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1),r("FormItem",{staticStyle:{width:"450px"},attrs:{label:"IP",prop:"ip"}},[r("Input",{attrs:{placeholder:"请输入Proxy IP"},model:{value:e.proxyResource.ip,callback:function(o){e.$set(e.proxyResource,"ip",o)},expression:"proxyResource.ip"}})],1),r("FormItem",{staticStyle:{width:"600px"},attrs:{label:"端口",prop:"port"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择或输入Proxy端口"},on:{"on-create":e.handleCreatePort},model:{value:e.proxyResource.port,callback:function(o){e.$set(e.proxyResource,"port",o)},expression:"proxyResource.port"}},e._l(e.portList,(function(o){return r("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1),r("FormItem",[r("Button",{on:{click:function(o){return e.handleReset()}}},[e._v("重置")]),r("br"),r("br"),r("Button",{attrs:{type:"primary"},on:{click:function(o){e.reviewInputResource()}}},[e._v("录入")])],1),r("Modal",{attrs:{title:"录入确认"},on:{"on-ok":e.inputResource},model:{value:e.proxyResource.reviewModal,callback:function(o){e.$set(e.proxyResource,"reviewModal",o)},expression:"proxyResource.reviewModal"}},[e._v(" 确认将资源"+e._s(this.proxyResource.protocol)+"://"+e._s(this.proxyResource.ip)+":"+e._s(this.proxyResource.port)+"录入"+e._s(this.proxyResource.dc)+"吗？ ")]),r("Modal",{attrs:{title:"录入结果"},model:{value:e.proxyResource.resultModal,callback:function(o){e.$set(e.proxyResource,"resultModal",o)},expression:"proxyResource.resultModal"}},[e._v(" "+e._s(this.result)+" ")])],1)],1)],1)],1)])],1)},s=[],c={name:"proxyResource",data:function(){return{proxyResource:{dc:"",protocol:"",ip:"",port:"",reviewModal:!1},ruleproxyResource:{dc:[{required:!0,message:"机房不能为空",trigger:"blur"}],protocol:[{required:!0,message:"协议不能为空",trigger:"blur"}],ip:[{required:!0,message:"IP不能为空",trigger:"blur"}],port:[{required:!0,message:"端口不能为空",trigger:"blur"}]},protocolList:["PROXY","PROXYTLS"],portList:["80","443"],drcZoneList:[{value:"shaoy",label:"上海欧阳"},{value:"sharb",label:"上海日版"},{value:"shajq",label:"上海金桥"},{value:"shafq",label:"上海福泉"},{value:"shajz",label:"上海金钟"},{value:"ntgxh",label:"南通星湖大道"}],result:""}},methods:{reviewInputResource:function(){console.log("review input: add Proxy %s://%s:%s in %s",this.proxyResource.protocol,this.proxyResource.ip,this.proxyResource.port,this.proxyResource.dc),this.proxyResource.reviewModal=!0},inputResource:function(){var e=this;console.log("do input: dc: %s, protocol: %s, ip: %s, port: %s",this.proxyResource.dc,this.proxyResource.protocol,this.proxyResource.ip,this.proxyResource.port),this.axios.post("/api/drc/v1/meta/proxy",{dc:this.proxyResource.dc,protocol:this.proxyResource.protocol,ip:this.proxyResource.ip,port:this.proxyResource.port}).then((function(o){console.log("result: %s",o.data),e.result=o.data.data.data,e.proxyResource.reviewModal=!1,e.proxyResource.resultModal=!0}))},handleCreateDc:function(e){console.log("customize add dc: "+e),this.drcZoneList.push({value:e,label:e}),console.log(this.drcZoneList)},handleCreateProtocol:function(e){console.log("customize add protocol: "+e),this.protocolList.push(e),console.log(this.protocolList)},handleCreatePort:function(e){console.log("customize add port: "+e),this.portList.push(e),console.log(this.portList)},handleReset:function(){console.log("reset input: add Proxy %s://%s:%s in %s",this.proxyResource.protocol,this.proxyResource.ip,this.proxyResource.port,this.proxyResource.dc),this.proxyResource.dc="",this.proxyResource.protocol="",this.proxyResource.ip="",this.proxyResource.port="",this.result="",console.log("reset input result: add Proxy (%s)://(%s):(%s) in (%s)",this.proxyResource.protocol,this.proxyResource.ip,this.proxyResource.port,this.proxyResource.dc)}},created:function(){}},l=c,p=r("2877"),i=Object(p["a"])(l,t,s,!1,null,"6b31ddc8",null);o["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0e2cd7.bd9aaa1c.js.map