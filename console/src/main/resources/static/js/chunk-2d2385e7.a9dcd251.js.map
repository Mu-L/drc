{"version":3,"sources":["webpack:///./src/views/v2/resource/proxyResource.vue?8b5d","webpack:///src/views/v2/resource/proxyResource.vue","webpack:///./src/views/v2/resource/proxyResource.vue?90a5","webpack:///./src/views/v2/resource/proxyResource.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","height","ref","staticStyle","proxyResource","ruleproxyResource","on","handleCreateDc","model","value","callback","$$v","$set","expression","_l","item","key","_s","label","$event","inputResource","result","staticRenderFns","name","data","dc","ip","drcZoneList","constant","dcList","methods","console","log","protocol","port","axios","post","then","response","that","resultModal","val","push","getBus","get","created","status","component"],"mappings":"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","file":"js/chunk-2d2385e7.a9dcd251.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyResource\"}},[_vm._v(\"Proxy资源管理\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"proxyResource\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.proxyResource,\"rules\":_vm.ruleproxyResource,\"label-width\":250}},[_c('FormItem',{attrs:{\"label\":\"机房\",\"prop\":\"dc\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择资源所在机房\"},on:{\"on-create\":_vm.handleCreateDc},model:{value:(_vm.proxyResource.dc),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"dc\", $$v)},expression:\"proxyResource.dc\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"450px\"},attrs:{\"label\":\"IP\",\"prop\":\"ip\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入Proxy IP\"},model:{value:(_vm.proxyResource.ip),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"ip\", $$v)},expression:\"proxyResource.ip\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.inputResource ()}}},[_vm._v(\"录入\")])],1),_c('Modal',{attrs:{\"title\":\"录入结果\"},model:{value:(_vm.proxyResource.resultModal),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"resultModal\", $$v)},expression:\"proxyResource.resultModal\"}},[_vm._v(\" \"+_vm._s(this.result)+\" \")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-component>\r\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\r\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\r\n      <BreadcrumbItem to=\"/proxyResource\">Proxy资源管理</BreadcrumbItem>\r\n    </Breadcrumb>\r\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\r\n      <div :style=\"{padding: '1px 1px',height: '100%'}\">\r\n        <Row>\r\n          <i-col span=\"12\">\r\n            <Form ref=\"proxyResource\" :model=\"proxyResource\" :rules=\"ruleproxyResource\" :label-width=\"250\" style=\"float: left; margin-top: 50px\">\r\n              <FormItem label=\"机房\"  prop=\"dc\">\r\n                <Select v-model=\"proxyResource.dc\" filterable allow-create style=\"width: 200px\" placeholder=\"请选择资源所在机房\" @on-create=\"handleCreateDc\">\r\n                  <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"IP\"  prop=\"ip\" style=\"width: 450px\">\r\n                <Input v-model=\"proxyResource.ip\" placeholder=\"请输入Proxy IP\"/>\r\n              </FormItem>\r\n              <FormItem>\r\n                <Button type=\"primary\" @click=\"inputResource ()\">录入</Button>\r\n              </FormItem>\r\n              <Modal\r\n                v-model=\"proxyResource.resultModal\"\r\n                title=\"录入结果\">\r\n                {{ this.result }}\r\n              </Modal>\r\n            </Form>\r\n          </i-col>\r\n        </Row>\r\n      </div>\r\n    </Content>\r\n  </base-component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'proxyResource',\r\n  data () {\r\n    return {\r\n      proxyResource: {\r\n        dc: '',\r\n        ip: ''\r\n      },\r\n      ruleproxyResource: {\r\n        dc: [\r\n          { required: true, message: '机房不能为空', trigger: 'blur' }\r\n        ],\r\n        ip: [\r\n          { required: true, message: 'IP不能为空', trigger: 'blur' }\r\n        ]\r\n\r\n      },\r\n      drcZoneList: this.constant.dcList,\r\n      result: ''\r\n    }\r\n  },\r\n  methods: {\r\n    inputResource () {\r\n      const that = this\r\n      console.log('do input: dc: %s, protocol: %s, ip: %s, port: %s', this.proxyResource.dc, this.proxyResource.protocol, this.proxyResource.ip, this.proxyResource.port)\r\n      this.axios.post('/api/drc/v2/meta/proxy?dc=' + this.proxyResource.dc + '&ip=' + this.proxyResource.ip).then(response => {\r\n        console.log('result: %s', response.data)\r\n        that.result = response.data.data\r\n        that.proxyResource.resultModal = true\r\n      })\r\n    },\r\n    handleCreateDc (val) {\r\n      console.log('customize add dc: ' + val)\r\n      this.drcZoneList.push({\r\n        value: val,\r\n        label: val\r\n      })\r\n      console.log(this.drcZoneList)\r\n    },\r\n    getBus () {\r\n      this.axios.get('/api/drc/v2/meta/bus/all')\r\n        .then(response => {\r\n          this.bus = response.data.data\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.axios.get('/api/drc/v2/permission/resource/proxy').then((response) => {\r\n      if (response.data.status === 403) {\r\n        this.$router.push('/nopermission')\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proxyResource.vue?vue&type=template&id=f378bdbc&scoped=true&\"\nimport script from \"./proxyResource.vue?vue&type=script&lang=js&\"\nexport * from \"./proxyResource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f378bdbc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}