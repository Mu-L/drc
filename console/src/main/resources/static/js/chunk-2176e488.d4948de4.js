(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2176e488","chunk-6304b0b8"],{"057f":function(e,t,r){var a=r("fc6a"),o=r("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==n.call(e)?s(e):o(a(e))}},"159b":function(e,t,r){var a=r("da84"),o=r("fdbc"),n=r("17c2"),i=r("9112");for(var s in o){var l=a[s],c=l&&l.prototype;if(c&&c.forEach!==n)try{i(c,"forEach",n)}catch(m){c.forEach=n}}},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,o=r("a640"),n=r("ae40"),i=o("forEach"),s=n("forEach");e.exports=i&&s?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"3ca3":function(e,t,r){"use strict";var a=r("6547").charAt,o=r("69f3"),n=r("7dd0"),i="String Iterator",s=o.set,l=o.getterFor(i);n(String,"String",(function(e){s(this,{type:i,string:String(e),index:0})}),(function(){var e,t=l(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=a(r,o),t.index+=e.length,{value:e,done:!1})}))},4160:function(e,t,r){"use strict";var a=r("23e7"),o=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}},6547:function(e,t,r){var a=r("a691"),o=r("1d80"),n=function(e){return function(t,r){var n,i,s=String(o(t)),l=a(r),c=s.length;return l<0||l>=c?e?"":void 0:(n=s.charCodeAt(l),n<55296||n>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?e?s.charAt(l):n:e?s.slice(l,l+2):i-56320+(n-55296<<10)+65536)}};e.exports={codeAt:n(!1),charAt:n(!0)}},"70f4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-component",[r("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[r("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")]),r("BreadcrumbItem",{attrs:{to:"/applicationForm"}},[e._v("DRC审批")]),r("BreadcrumbItem",{attrs:{to:"/v2/dbDrcBuild"}},[e._v("建立 DRC 同步")])],1),r("Content",{staticClass:"content",style:{padding:"10px",background:"#ffffff",margin:"50px 0 111px 185px",zIndex:"1"}},[r("Collapse",[r("Panel",{scopedSlots:e._u([{key:"content",fn:function(){return[r("Table",{attrs:{border:"",stripe:"",loading:e.mysqlConfig.dataLoading,columns:e.mysqlConfig.columns,data:e.mysqlConfig.data}})]},proxy:!0}])},[e._v(" mha配置预检测："),r("Tag",{attrs:{loading:e.mysqlConfig.dataLoading,type:e.mysqlConfig.result?"success":"volcano"},on:{click:e.preCheckMysqlConfig}},[e._v(e._s(e.mysqlConfig.resultStr))])],1)],1),r("Row",{attrs:{gutter:10,align:"middle"}},[r("Col",{attrs:{span:"13"}},[r("Form",{staticStyle:{"margin-right":"20px","margin-top":"10px"},attrs:{model:e.formItem,"label-width":100}},[r("FormItem",{attrs:{label:"配置模式",required:!0}},[r("Select",{attrs:{clearable:"",placeholder:"模式"},model:{value:e.formItem.buildMode,callback:function(t){e.$set(e.formItem,"buildMode",t)},expression:"formItem.buildMode"}},[r("Option",{attrs:{value:0}},[e._v("单库")]),r("Option",{attrs:{value:1}},[e._v("分库")]),r("Option",{attrs:{value:2}},[e._v("自定义多库")])],1)],1),0===e.formItem.buildMode?r("div",[r("FormItem",{attrs:{label:"数据库",required:!0}},[r("Select",{attrs:{filterable:"",placeholder:"请搜索数据库信息","remote-method":e.getExistDb,loading:e.dataLoading},on:{"on-change":e.selectDb},model:{value:e.formItem.dbName,callback:function(t){e.$set(e.formItem,"dbName",t)},expression:"formItem.dbName"}},e._l(e.meta.dbOptions,(function(t,a){return r("Option",{key:a,attrs:{value:t.dbName}},[e._v(" "+e._s(t.dbName)+" ")])})),1)],1)],1):e._e(),1===e.formItem.buildMode?r("div",[r("FormItem",{attrs:{label:"dalcluster",required:!0}},[r("Input",{attrs:{placeholder:"请输入 dalCluster 名称"},on:{"on-keydown":function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()},"on-blur":e.afterEnterDalCluster},model:{value:e.formItem.dalClusterModeOption.dalClusterName,callback:function(t){e.$set(e.formItem.dalClusterModeOption,"dalClusterName",t)},expression:"formItem.dalClusterModeOption.dalClusterName"}})],1)],1):e._e(),2===e.formItem.buildMode?r("div",[r("FormItem",{attrs:{label:"数据库列表",required:!0}},[r("Input",{attrs:{placeholder:"请输入数据库列表，英文逗号分隔"},on:{"on-keydown":function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()},"on-blur":e.afterEnterDalCluster},model:{value:e.formItem.dbName,callback:function(t){e.$set(e.formItem,"dbName",t)},expression:"formItem.dbName"}})],1)],1):e._e(),r("FormItem",{attrs:{label:"同步方向",required:!0}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[r("Icon",{attrs:{type:"ios-pin"}}),e._v(" 源 region ")]},proxy:!0}])},[r("FormItem",[r("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.srcRegionName,callback:function(t){e.$set(e.formItem,"srcRegionName",t)},expression:"formItem.srcRegionName"}},e._l(e.meta.regionOptions,(function(t){return r("Option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),r("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[r("Button",{attrs:{size:"small",shape:"circle",type:"default",loading:e.dataLoading},on:{click:e.getRegionOptions}},[e._v(" -> ")])],1),r("Col",{attrs:{span:"11"}},[r("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[r("Icon",{attrs:{type:"ios-pin"}}),e._v(" 目标 region ")]},proxy:!0}])},[r("FormItem",[r("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.dstRegionName,callback:function(t){e.$set(e.formItem,"dstRegionName",t)},expression:"formItem.dstRegionName"}},e._l(e.meta.regionOptions,(function(t){return r("Option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1)],1)],1),r("FormItem",{attrs:{label:"同步表",required:!0}},[r("Input",{attrs:{placeholder:"请输入正则表达式"},on:{"on-keydown":function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault()},"on-blur":e.afterEnterTableName},model:{value:e.formItem.tableName,callback:function(t){e.$set(e.formItem,"tableName",t)},expression:"formItem.tableName"}})],1),r("FormItem",{attrs:{label:"行过滤"}},[r("i-switch",{attrs:{size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[r("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[r("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.rowsFilter,callback:function(t){e.$set(e.formItem.switch,"rowsFilter",t)},expression:"formItem.switch.rowsFilter"}})],1),e.formItem.switch.rowsFilter?r("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[r("Icon",{attrs:{type:"md-settings"}}),e._v(" 行过滤配置 "),r("Button",{staticStyle:{"margin-left":"50px"},attrs:{icon:"ios-refresh",size:"small",type:"primary",loading:e.commonColumnLoading},on:{click:e.getCommonColumns}},[e._v("获取公共字段 ")])]},proxy:!0}],null,!1,571298879)},[r("FormItem",{attrs:{label:"模式"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择行过滤模式"},model:{value:e.formItem.rowsFilterDetail.mode,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"mode",t)},expression:"formItem.rowsFilterDetail.mode"}},e._l(e.formItem.constants.rowsFilter.modes,(function(t){return r("Option",{key:t.mode,attrs:{value:t.mode}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),e.useTripUdlOrUidMode?r("div",[e.fillContextByRegion?r("FormItem",{attrs:{label:"规则内容"}},[r("Select",{staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"Region 选择"},model:{value:e.formItem.constants.rowsFilter.configInTripUid.regionsChosen,callback:function(t){e.$set(e.formItem.constants.rowsFilter.configInTripUid,"regionsChosen",t)},expression:"formItem.constants.rowsFilter.configInTripUid.regionsChosen"}},e._l(e.formItem.constants.rowsFilter.regionsForChose,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1):e._e(),e.showUdlConfigDetail?r("div",[r("Divider",[e._v("UDL配置")]),r("FormItem",{attrs:{label:"UDL字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UDL配置"},model:{value:e.formItem.rowsFilterDetail.udlColumns,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"udlColumns",t)},expression:"formItem.rowsFilterDetail.udlColumns"}},e._l(e.formItem.constants.columnsForChose,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1),e.hasUdlColumn?r("FormItem",{attrs:{label:"DRC UDL策略id"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择ucs策略id"},model:{value:e.formItem.rowsFilterDetail.drcStrategyId,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"drcStrategyId",t)},expression:"formItem.rowsFilterDetail.drcStrategyId"}},e._l(e.formItem.constants.rowsFilter.drcStrategyIdsForChose,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1):e._e()],1):e._e(),e.showUidConfigDetail?r("div",[r("Divider",[e._v("UID配置")]),r("FormItem",{attrs:{label:"UID字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UID配置"},model:{value:e.formItem.rowsFilterDetail.columns,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"columns",t)},expression:"formItem.rowsFilterDetail.columns"}},e._l(e.formItem.constants.columnsForChose,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1),e.hasUidColumn?r("FormItem",{attrs:{label:"fetchMode"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择"},on:{"on-change":function(t){return e.fetchModeChange()}},model:{value:e.formItem.rowsFilterDetail.fetchMode,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"fetchMode",t)},expression:"formItem.rowsFilterDetail.fetchMode"}},e._l(e.formItem.constants.rowsFilter.fetchModeForChose,(function(t){return r("Option",{key:t.k,attrs:{value:t.v}},[e._v(" "+e._s(t.k)+" ")])})),1)],1):e._e(),e.hasUidColumn?r("FormItem",{attrs:{label:"空处理"}},[r("Checkbox",{model:{value:e.formItem.rowsFilterDetail.illegalArgument,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"illegalArgument",t)},expression:"formItem.rowsFilterDetail.illegalArgument"}},[e._v("【字段为空时】同步")])],1):e._e()],1):e._e()],1):r("div",[r("FormItem",{attrs:{label:"规则内容"}},[r("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"请输入行过滤内容"},model:{value:e.formItem.rowsFilterDetail.context,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"context",t)},expression:"formItem.rowsFilterDetail.context"}})],1),r("FormItem",{attrs:{label:"相关字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},model:{value:e.formItem.rowsFilterDetail.columns,callback:function(t){e.$set(e.formItem.rowsFilterDetail,"columns",t)},expression:"formItem.rowsFilterDetail.columns"}},e._l(e.formItem.constants.columnsForChose,(function(e){return r("Option",{key:e,attrs:{value:e,lable:e}})})),1)],1)],1)],1):e._e(),r("FormItem",{attrs:{label:"列过滤"}},[r("i-switch",{attrs:{size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[r("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[r("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.colsFilter,callback:function(t){e.$set(e.formItem.switch,"colsFilter",t)},expression:"formItem.switch.colsFilter"}})],1),e.formItem.switch.colsFilter?r("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[r("Icon",{attrs:{type:"md-settings"}}),e._v(" 列过滤配置 "),r("Button",{staticStyle:{"margin-left":"50px"},attrs:{icon:"ios-refresh",size:"small",type:"primary",loading:e.commonColumnLoading},on:{click:e.getCommonColumns}},[e._v("获取公共字段 ")])]},proxy:!0}],null,!1,2228726756)},[r("FormItem",{attrs:{label:"模式"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择字段过滤模式"},model:{value:e.formItem.colsFilterDetail.mode,callback:function(t){e.$set(e.formItem.colsFilterDetail,"mode",t)},expression:"formItem.colsFilterDetail.mode"}},e._l(e.formItem.constants.colsFilter.modes,(function(t){return r("Option",{key:t.mode,attrs:{value:t.mode}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("FormItem",{attrs:{label:"字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关的字段"},on:{"on-create":e.handleCreateColumn},model:{value:e.formItem.colsFilterDetail.columns,callback:function(t){e.$set(e.formItem.colsFilterDetail,"columns",t)},expression:"formItem.colsFilterDetail.columns"}},e._l(e.formItem.constants.columnsForChose,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1)],1):e._e(),r("FormItem",{attrs:{label:"业务部门",required:!0}},[r("Select",{attrs:{filterable:"",prefix:"ios-home",clearable:"",placeholder:"部门"},on:{"on-change":e.autoSetTag},model:{value:e.formItem.buName,callback:function(t){e.$set(e.formItem,"buName",t)},expression:"formItem.buName"}},e._l(e.meta.bus,(function(t){return r("Option",{key:t.buName,attrs:{value:t.buName}},[e._v(e._s(t.buName))])})),1)],1),r("FormItem",{attrs:{label:"Tag",prop:"tag",required:!0}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"选择tag"},on:{"on-create":e.handleCreateTag},model:{value:e.formItem.tag,callback:function(t){e.$set(e.formItem,"tag",t)},expression:"formItem.tag"}},e._l(e.meta.tags,(function(t){return r("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e.gtidConfigurable?r("FormItem",{attrs:{label:"初始同步位点",prop:"gtidInit"}},[r("Input",{staticStyle:{width:"80%","margin-right":"10px"},attrs:{border:!1,placeholder:"请输入binlog拉取位点"},model:{value:e.formItem.gtidInit,callback:function(t){e.$set(e.formItem,"gtidInit",t)},expression:"formItem.gtidInit"}}),r("Button",{attrs:{type:"success"},on:{click:e.querySrcMhaGtidCheckRes}},[e._v("位点校验")])],1):e._e(),r("FormItem",[r("Button",{attrs:{type:"primary",loading:e.dataLoading,disabled:0===e.previewDataList.length||!e.formItem.tableName},on:{click:e.beforeSubmit}},[e._v("提交 ")])],1)],1)],1),r("Col",{attrs:{span:"11"}},[r("Divider",[e._v("预览：同步集群")]),r("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbMhaTableLoading},on:{click:e.getDalInfo}},[e._v(" 检查同步集群 ")]),r("Table",{attrs:{size:"small",loading:e.table.dbMhaTableLoading,stripe:"",columns:e.table.dbMhaTableColumn,data:e.preCheckMhaReplicationPage,border:""}}),r("div",[r("Page",{attrs:{transfer:!0,total:e.previewDataList.length,current:e.table.dbMhaTablePage.current,"page-size-opts":e.table.dbMhaTablePage.pageSizeOpts,"page-size":e.table.dbMhaTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbMhaTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbMhaTablePage.size=t}}})],1),r("Divider",{staticStyle:{"margin-top":"50px"}},[e._v("预览：同步表")]),r("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbTableLoading},on:{click:e.getTableInfo}},[e._v(" 检查同步表 ")]),r("Table",{attrs:{size:"small",loading:e.table.dbTableLoading,stripe:"",columns:e.table.dbTableColumn,data:e.preCheckTablePage,border:""}}),r("div",[r("Page",{attrs:{transfer:!0,total:e.checkTableDataList.length,current:e.table.dbTablePage.current,"page-size-opts":e.table.dbTablePage.pageSizeOpts,"page-size":e.table.dbTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbTablePage=t}}})],1)],1)],1),r("Modal",{attrs:{title:"gitd位点校验结果",width:"900px"},model:{value:e.gtidCheck.modal,callback:function(t){e.$set(e.gtidCheck,"modal",t)},expression:"gtidCheck.modal"}},[r("Form",{staticStyle:{width:"80%"}},[r("FormItem",{attrs:{label:"校验结果"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:30},readonly:""},model:{value:e.gtidCheck.resVo.legal,callback:function(t){e.$set(e.gtidCheck.resVo,"legal",t)},expression:"gtidCheck.resVo.legal"}})],1),r("FormItem",{attrs:{label:"当前Mha"}},[r("Input",{attrs:{autosize:{minRows:1,maxRows:30},readonly:""},model:{value:e.gtidCheck.resVo.mha,callback:function(t){e.$set(e.gtidCheck.resVo,"mha",t)},expression:"gtidCheck.resVo.mha"}})],1),r("FormItem",{attrs:{label:"配置位点"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:30},readonly:""},model:{value:e.gtidCheck.resVo.configGtid,callback:function(t){e.$set(e.gtidCheck.resVo,"configGtid",t)},expression:"gtidCheck.resVo.configGtid"}})],1),r("FormItem",{attrs:{label:"purgedGtid"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:30},readonly:""},model:{value:e.gtidCheck.resVo.purgedGtid,callback:function(t){e.$set(e.gtidCheck.resVo,"purgedGtid",t)},expression:"gtidCheck.resVo.purgedGtid"}})],1)],1)],1),r("Drawer",{attrs:{title:"请确认同步信息",width:"80","mask-closable":!1},model:{value:e.drawer.show,callback:function(t){e.$set(e.drawer,"show",t)},expression:"drawer.show"}},[e.alertInfo.show?r("Alert",{attrs:{type:"warning","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),e.alertInfo.successShow?r("Alert",{attrs:{type:"success","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),r("Table",{attrs:{size:"small",loading:e.dataLoading,stripe:"",border:"",columns:e.drawer.tableColumns,data:e.finalBuildParam}}),r("div",{staticClass:"drawer-footer"},[r("Divider"),r("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(t){e.drawer.show=!1}}},[e._v("关闭")]),r("Button",{directives:[{name:"show",rawName:"v-show",value:!e.successSubmit,expression:"!successSubmit"}],attrs:{type:"primary",loading:e.dataLoading},on:{click:e.submitAll}},[e._v("审批通过")])],1)],1)],1)],1)},o=[],n=(r("4de4"),r("4160"),r("caad"),r("c975"),r("a15b"),r("d81d"),r("fb6a"),r("b0c0"),r("d3b7"),r("2532"),r("159b"),r("2909")),i=r("53ca"),s=(r("96cf"),r("1da1")),l={data:function(){var e=this;return{mysqlConfig:{dataLoading:!1,result:!1,resultStr:"",data:[],columns:[{title:"集群名",key:"mha"},{title:"BINLOG_MODE [ON]",key:"binlogMode"},{title:"BINLOG_FORMAT [ROW]",key:"binlogFormat"},{title:"BINLOG_VERSION [OFF]",key:"binlogVersion1"},{title:"BTD [WRITESET]",key:"binlogTransactionDependency"},{title:"BTDHS [100000]",key:"binlogTransactionDependencyHistorySize"},{title:"BINLOG_ROW_IMAGE [FULL]",key:"binlogRowImage"},{title:"GTID_MODE [ON]",key:"gtidMode"},{title:"AUTO_INCREMENT_STEP",key:"autoIncrementStep"},{title:"AUTO_INCREMENT_OFFSET",key:"autoIncrementOffset"},{title:"DRC_ACCOUNT [three accounts ready]",key:"drcAccounts"},{title:"结果",key:"result",render:function(e,t){var r=t.row,a=r.result?"green":"volcano",o=r.result?"合格":"不合格";return e("Tag",{props:{color:a}},o)}}]},applicationFormId:null,formItem:{buildMode:0,srcRegionName:null,dstRegionName:null,dbName:null,dalClusterModeOption:{dalClusterName:null},buName:null,tag:"COMMON",tableName:null,rowsFilterDetail:{mode:1,drcStrategyId:0,routeStrategyId:0,udlColumns:[],columns:[],context:"",illegalArgument:!1,fetchMode:0},colsFilterDetail:{mode:null,columns:[]},gtidInit:"",textarea:"",switch:{rowsFilter:!1,colsFilter:!1},constants:{rowsFilter:{configInTripUid:{regionsChosen:[]},filterMode:{JAVA_REGEX:0,TRIP_UDL:1,AVIATOR_REGEX:3,CUSTOM:4,TRIP_UDL_UID:5},fetchMode:{RPC:0,BlackList:1,WhiteList:2,BlackList_Global:3},modes:[{name:"trip_udl",mode:1},{name:"java_regex",mode:0},{name:"aviator_regex",mode:3},{name:"custom",mode:4},{name:"trip_udl_uid",mode:5}],regionsForChose:["SGP","SIN","SH","FRA"],drcStrategyIdsForChose:[2000000002],fetchModeForChose:[{k:"RPC调用",v:0},{k:"BlackList",v:1},{k:"WhiteList",v:2},{k:"BlackListGlobal",v:3}]},colsFilter:{modes:[{name:"exclude",mode:0},{name:"include",mode:1},{name:"regex",mode:2}]},columnsForChose:[]}},gtidCheck:{modal:!1,resVo:{mha:"",legal:"",configGtid:"",purgedGtid:""}},meta:{bus:[],regions:[],regionOptions:[],dbOptions:[],tags:this.constant.tagList,selectedDb:{}},drawer:{show:!1,tableColumns:[{title:"状态（点击查看详情）",key:"status",width:200,align:"center",render:function(t,r){var a,o,n=r.row,i=n.viewOnlyInfo.drcStatus,l=-1===i;return 1===i?(o="已接入",a="primary"):(o="未接入",a="default"),t("div",[t("Button",{on:{click:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$router.resolve({path:"/drcV2",query:{step:3,srcMhaName:n.srcMhaName,dstMhaName:n.dstMhaName}}),window.open(r.href,"_blank");case 2:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},props:{type:a,disabled:l,icon:"ios-open-outline"}},o)])}},{title:"源集群",key:"srcMhaName",render:function(e,t){var r=t.row,a=r.srcMhaName,o=r.srcDcName;return e("div",[e("span",a),e("span",{style:{float:"right",color:"#ababab"}},o)])}},{title:"目标集群",key:"srcMhaName",render:function(e,t){var r=t.row,a=r.dstMhaName,o=r.dstDcName;return e("div",[e("span",a),e("span",{style:{float:"right",color:"#ababab"}},o)])}},{title:"BU",key:"buName"},{title:"表过滤",key:"tableFilter"},{title:"DB名",key:"dbName",render:function(e,t){var r=t.row,a=r.dbName.join("\r\n");return e("div",{style:{"white-space":"pre-wrap"}},a)}}]},alertInfo:{show:!1,successShow:!1,title:null,message:null},dbClusterInfoList:[],finalBuildParam:[],previewDataList:[],checkTableDataList:[],table:{dbMhaTableLoading:!1,dbMhaTableColumn:[{title:"DB名",key:"dbName"},{title:"源集群",key:"srcMhaName",render:function(e,t){var r=t.row,a=r.srcMha;if(null!=a)return e("div",[e("span",a.name),e("span",{style:{float:"right",color:"#ababab"}},a.regionName+"("+a.dcName+")")])}},{title:"目标集群",key:"dstMhaName",render:function(e,t){var r=t.row,a=r.dstMha;if(null!=a)return e("div",[e("span",a.name),e("span",{style:{float:"right",color:"#ababab"}},a.regionName+"("+a.dcName+")")])}}],dbMhaTablePage:{total:0,current:1,size:5,pageSizeOpts:[5,10,20,100]},dbTableLoading:!1,dbTableColumn:[{title:"序号",width:75,align:"center",fixed:"left",render:function(e,t){return e("span",t.index+1)}},{title:"库名",key:"schema",resizable:!0},{title:"表名",key:"table",resizable:!0},{title:"结果",align:"center",render:function(e,t){var r=t.row,a="ok"!==r.res?"volcano":"green",o=r.res;return e("Tag",{props:{color:a}},o)}}],dbTablePage:{total:0,current:1,size:5,pageSizeOpts:[5,10,20,100]}},dataLoading:!1,successSubmit:!1,commonColumnLoading:!1}},methods:{getBus:function(){var e=this;this.axios.get("/api/drc/v2/meta/bus/all").then((function(t){e.meta.bus=t.data.data}))},getRegions:function(){var e=this;this.axios.get("/api/drc/v2/meta/regions/all").then((function(t){e.meta.regions=t.data.data.map((function(e){return e.regionName})),e.meta.regionOptions=e.meta.regions}))},getParams:function(){var e={};return e.applicationFormId=this.applicationFormId,e.buName=this.formItem.buName,e.tag=this.formItem.tag,e.mode=this.formItem.buildMode,e.srcRegionName=this.formItem.srcRegionName,e.dstRegionName=this.formItem.dstRegionName,this.gtidConfigurable&&(e.gtidInit=this.formItem.gtidInit),e.tblsFilterDetail={tableNames:this.formItem.tableName},0===this.formItem.buildMode?e.dbName=this.formItem.dbName:1===this.formItem.buildMode?e.dalClusterName=this.formItem.dalClusterModeOption.dalClusterName:2===this.formItem.buildMode&&(e.dbName=this.formItem.dbName),this.formItem.switch.rowsFilter&&(this.useTripUdlOrUidMode&&(this.fillContextByRegion?this.formItem.rowsFilterDetail.context=this.formItem.constants.rowsFilter.configInTripUid.regionsChosen.join(","):this.formItem.rowsFilterDetail.context="//filter by config"),e.openRowsFilterConfig=!0,e.rowsFilterDetail=this.formItem.rowsFilterDetail),this.formItem.switch.colsFilter&&(e.openColsFilterConfig=!0,e.colsFilterDetail=this.formItem.colsFilterDetail),e},submitAll:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,r.dataLoading=!0,r.alertInfo.show=!1,r.alertInfo.successShow=!1,r.successSubmit=!1,a=e.getParams(),e.checkParam(a)){t.next=8;break}return t.abrupt("return");case 8:return console.log(a),t.next=11,r.axios.post("/api/drc/v2/autoconfig/applicationForm/submit",a).then((function(t){var a=t.data,o=1!==a.status;o?(r.$Message.success("提交成功"),e.preCheckBuildParam(),r.successSubmit=!0,r.alertInfo.successShow=!0,r.alertInfo.message=null,r.alertInfo.title="提交成功"):(r.$Message.warning("提交失败: "+a.message),r.alertInfo.show=!0,r.alertInfo.title="提交失败",r.alertInfo.message=a.message)})).catch((function(e){r.$Message.error("提交异常: "+e)})).finally((function(){r.dataLoading=!1}));case 11:case"end":return t.stop()}}),t)})))()},selectDb:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.formItem.dbName,console.log(r),e.meta.selectedDb=e.meta.dbOptions.filter((function(e){return e.dbName===r}))[0],console.log("selected",e.meta.selectedDb),e.formItem.buName=e.meta.selectedDb.buCode,console.log("selected",e.formItem.tableName),e.autoSetTag(),t.next=9,e.getRegionOptions();case 9:if(!e.formItem.srcRegionName||!e.formItem.dstRegionName){t.next=12;break}return t.next=12,e.getDalInfo();case 12:case"end":return t.stop()}}),t)})))()},autoSetTag:function(){"FLT"===this.formItem.buName?this.formItem.tag="FLT":"HTL"===this.formItem.buName?this.formItem.tag="HTL":this.formItem.tag="COMMON"},getDalInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getParams(),a=e,a.previewDataList=[],a.table.dbMhaTablePage.current=1,0!==r.mode){t.next=10;break}if(r.dbName){t.next=8;break}return e.$Message.warning("请先填写数据库"),t.abrupt("return");case 8:t.next=14;break;case 10:if(1!==r.mode){t.next=14;break}if(r.dalClusterName){t.next=14;break}return e.$Message.warning("请先填写 dalcluster"),t.abrupt("return");case 14:if(r.srcRegionName&&r.dstRegionName){t.next=17;break}return e.$Message.warning("请先填写同步方向"),t.abrupt("return");case 17:return a.table.dbMhaTableLoading=!0,t.next=20,a.axios.get("/api/drc/v2/autoconfig/preCheck",{params:{mode:r.mode,dbName:r.dbName,dalClusterName:r.dalClusterName,srcRegionName:r.srcRegionName,dstRegionName:r.dstRegionName}}).then((function(t){var r=t.data.data,o=r&&0===t.data.status;o?(a.previewDataList=r,console.log("total: "+a.previewDataList.length),a.$Message.success("同步集群检测成功, 共找到 "+r.length+" 个DB"),e.preCheckMysqlConfig()):a.$Message.warning("同步集群检测失败："+t.data.message)})).catch((function(e){a.$Message.error("查询dalcluster异常: "+e)})).finally((function(){a.table.dbMhaTableLoading=!1}));case 20:case"end":return t.stop()}}),t)})))()},getTableInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getParams(),a=e,a.checkTableDataList=[],a.table.dbTablePage.current=1,0!==r.mode){t.next=10;break}if(r.dbName){t.next=8;break}return e.$Message.warning("请先填写数据库"),t.abrupt("return");case 8:t.next=14;break;case 10:if(1!==r.mode){t.next=14;break}if(r.dalClusterName){t.next=14;break}return e.$Message.warning("请先填写 dalcluster"),t.abrupt("return");case 14:if(r.srcRegionName&&r.dstRegionName){t.next=17;break}return e.$Message.warning("请先填写同步方向"),t.abrupt("return");case 17:if(r.tblsFilterDetail.tableNames){t.next=21;break}return console.log(r),e.$Message.warning("请先填写表名"),t.abrupt("return");case 21:return a.table.dbTableLoading=!0,t.next=24,a.axios.get("/api/drc/v2/autoconfig/preCheckTable",{params:e.flattenObj({mode:r.mode,dbName:r.dbName,dalClusterName:r.dalClusterName,srcRegionName:r.srcRegionName,dstRegionName:r.dstRegionName,tblsFilterDetail:r.tblsFilterDetail})}).then((function(e){var t=e.data.data;t?(a.checkTableDataList=t,console.log("total: "+a.checkTableDataList.length),a.$Message.success("同步表检测成功, 共找到 "+t.length+" 个表")):a.$Message.warning("同步表检测失败："+e.data.message)})).catch((function(e){a.$Message.error("查询dalcluster异常: "+e)})).finally((function(){a.table.dbTableLoading=!1}));case 24:case"end":return t.stop()}}),t)})))()},preCheckBuildParam:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getParams(),e.checkParam(r)){t.next=3;break}return t.abrupt("return");case 3:return a=e,a.dataLoading=!0,a.finalBuildParam=[],a.alertInfo.show=!1,a.alertInfo.successShow=!1,a.successSubmit=!1,console.log("precheckParam",r),t.next=12,a.axios.post("/api/drc/v2/autoconfig/preCheckBuildParam",r).then((function(e){var t=e.data.data;t?(a.drawer.show=!0,a.finalBuildParam=t,a.$Message.success("预检测成功, 共 "+t.length+" 个集群")):(a.drawer.show=!1,a.$Message.warning("预检测失败: "+e.data.message))})).catch((function(e){a.$Message.error("查询dalcluster异常: "+e)})).finally((function(){a.dataLoading=!1}));case 12:case"end":return t.stop()}}),t)})))()},afterSwitchRegion:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getParams(),r.srcRegionName&&r.dstRegionName){t.next=3;break}return t.abrupt("return");case 3:e.getDalInfo();case 4:case"end":return t.stop()}}),t)})))()},afterEnterTableName:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTableInfo();case 2:case"end":return t.stop()}}),t)})))()},afterEnterDalCluster:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRegionOptions();case 2:case"end":return t.stop()}}),t)})))()},getRegionOptions:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,r.dataLoading=!0,r.previewDataList=[],r.meta.regionOptions=[],a=e.getParams(),t.next=7,r.axios.get("/api/drc/v2/autoconfig/regionOptions",{params:{mode:a.mode,dbName:a.dbName,dalClusterName:a.dalClusterName}}).then((function(t){var a=t.data.data,o=a&&0===t.data.status;o?(r.meta.regionOptions=a,-1===a.indexOf(r.formItem.srcRegionName)&&(r.formItem.srcRegionName=null),-1===a.indexOf(r.formItem.dstRegionName)&&(r.formItem.dstRegionName=null),r.$Message.success("查询到 "+r.meta.regionOptions.length+" 个可选区域"),e.getDalInfo(),console.log("total selectable region: "+r.meta.regionOptions.length)):(r.formItem.srcRegionName=null,r.formItem.dstRegionName=null,r.$Message.warning("查询可选地域失败"))})).catch((function(e){r.$Message.error("查询可选地域失败: "+e)})).finally((function(){r.dataLoading=!1}));case 7:case"end":return t.stop()}}),t)})))()},getExistDb:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(null===e||null===e.length||e.length<=4)){r.next=2;break}return r.abrupt("return",[]);case 2:return a=t,a.dataLoading=!0,a.dbClusterInfoList=[],r.next=7,a.axios.get("/api/drc/v2/autoconfig/getExistDb",{params:{dbName:e}}).then((function(e){var t=e.data.data;t?a.meta.dbOptions=t:a.$Message.warning("查询DB失败")})).catch((function(e){a.$Message.error("查询DB异常: "+e)})).finally((function(){a.dataLoading=!1}));case 7:case"end":return r.stop()}}),r)})))()},fetchModeChange:function(){this.formItem.rowsFilterDetail.illegalArgument=1===this.formItem.rowsFilterDetail.fetchMode||3===this.formItem.rowsFilterDetail.fetchMode},beforeSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.preCheckBuildParam();case 2:case"end":return t.stop()}}),t)})))()},getCommonColumns:function(e){var t=this,r=this.getParams();r.rowsFilterDetail&&(r.rowsFilterDetail.columns=[],r.rowsFilterDetail.udlColumns=[]),r.colsFilterDetail&&(r.colsFilterDetail.columns=[]),console.log(r),this.formItem.constants.columnsForChose=[],this.commonColumnLoading=!0,this.axios.get("/api/drc/v2/autoconfig/commonColumns",{params:this.flattenObj(r)}).then((function(r){1===r.data.status?t.$Message.error("查询公共列名失败，请手动添加："+r.data.message):(console.log(r.data.data),t.formItem.constants.columnsForChose=r.data.data,t.$Message.info("查询公共列名数："+r.data.data.length),"UDL"===e&&(t.formItem.constants.columnsForChose.includes("userdata_location")?(t.formItem.rowsFilterDetail.udlColumns=["userdata_location"],t.formItem.constants.rowsFilter.configInTripUid.regionsChosen="SGP",t.formItem.rowsFilterDetail.drcStrategyId=t.formItem.constants.rowsFilter.drcStrategyIdsForChose[0]):t.$Message.warning("公共列不包含userdata_location字段")))})).catch((function(e){t.$Message.error("查询公共列名异常: "+e)})).finally((function(){t.commonColumnLoading=!1}))},querySrcMhaGtidCheckRes:function(){var e=this,t=this.formItem.gtidInit,r=this.previewDataList[0].srcMha.name;null!=t&&""!==t?(console.log(r),this.axios.get("/api/drc/v2/mha/gtid/checkResult?mha="+r+"&configGtid="+t).then((function(a){0===a.data.status?(e.gtidCheck.resVo={mha:r,legal:!0===a.data.data.legal?"合理位点":"binlog已经被purge",configGtid:t,purgedGtid:a.data.data.purgedGtid},e.gtidCheck.modal=!0):alert("位点校验失败!")}))):alert("位点为空！")},handleCreateColumn:function(e){this.contains(this.formItem.constants.columnsForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.formItem.constants.columnsForChose.push(e):alert("字段不能为空")},handleCreateTag:function(e){this.meta.tags.push(e)},flattenObj:function(e){var t={};for(var r in e)if("object"!==Object(i["a"])(e[r])||Array.isArray(e[r]))t[r]=e[r];else{var a=this.flattenObj(e[r]);for(var o in a)t[r+"."+o]=a[o]}return t},checkParam:function(e){if(!0===e.openRowsFilterConfig){var t=e.rowsFilterDetail;if(console.log("rowsFilterConfig",t),[this.formItem.constants.rowsFilter.filterMode.TRIP_UDL,this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(t.mode)){if(0===t.columns.length&&0===t.udlColumns.length)return this.$Message.warning("行过滤检测失败：uid 与 uld字段不能同时为空！"),!1;if(0!==t.udlColumns.length&&!t.drcStrategyId)return this.$Message.warning("行过滤检测失败：UDL策略不可为空！"),!1;if(0===t.fetchMode&&(""===t.context||void 0===t.context||"//filter by config"===t.context))return this.$Message.warning("行过滤检测失败：context 不能为空！"),!1}else if(""===t.mode||void 0===t.mode||0===t.columns.length)return this.$Message.warning("缺少行过滤配置 禁止提交"),!1}return!0},preCheckMysqlConfig:function(){var e=this;this.mysqlConfig.dataLoading=!0;var t=[];console.log("previewDataList:"),console.log(this.previewDataList),this.previewDataList.forEach((function(e){t.push(e.srcMha.name),t.push(e.dstMha.name)})),console.log("mhaList:"),console.log(t),this.axios.get("/api/drc/v2/autoconfig/preCheckMysqlConfig?mhaList="+t).then((function(t){if(0===t.data.status){var r=t.data.data;e.mysqlConfig.data=r.configs,e.mysqlConfig.result=r.result,r.result?e.mysqlConfig.resultStr="合格":e.mysqlConfig.resultStr="不合格"}else e.$Message.warning("mha配置校验失败: "+t.data.message)})),this.mysqlConfig.dataLoading=!1,this.mysqlConfig.modal=!0},init:function(){null!==this.applicationFormId&&(this.initMha(),this.formItem.srcRegionName=this.$route.query.srcRegion,this.formItem.dstRegionName=this.$route.query.dstRegion,this.formItem.gtidInit=this.$route.query.gtidInit,this.formItem.tableName=this.$route.query.tableName,this.formItem.tag=this.$route.query.tag,this.formItem.buName=this.$route.query.buName,this.formItem.switch.rowsFilter="UDL"===this.$route.query.filterType,this.getTableInfo(),this.formItem.switch.rowsFilter&&this.getCommonColumns("UDL"))},initMha:function(){this.formItem.buildMode=1,this.formItem.dalClusterModeOption.dalClusterName=this.$route.query.dalClusterName,this.getRegionOptions()}},computed:{useTripUdlOrUidMode:function(){return[this.formItem.constants.rowsFilter.filterMode.TRIP_UDL,this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(this.formItem.rowsFilterDetail.mode)},hasUdlColumn:function(){return 0!==this.formItem.rowsFilterDetail.udlColumns.length},fillContextByRegion:function(){return this.formItem.rowsFilterDetail.fetchMode===this.formItem.constants.rowsFilter.fetchMode.RPC},hasUidColumn:function(){return 0!==this.formItem.rowsFilterDetail.columns.length},showUdlConfigDetail:function(){return this.formItem.rowsFilterDetail.mode===this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID||this.hasUdlLegalConfig||!this.hasUidLegalConfig},showUidConfigDetail:function(){return this.formItem.rowsFilterDetail.mode===this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID||this.hasUidLegalConfig||!this.hasUdlLegalConfig},hasUdlLegalConfig:function(){return 0!==this.formItem.rowsFilterDetail.udlColumns.length&&null!=this.formItem.rowsFilterDetail.drcStrategyId&&this.formItem.rowsFilterDetail.drcStrategyId>0},hasUidLegalConfig:function(){return this.hasUidColumn},gtidConfigurable:function(){return null!==this.previewDataList&&1===this.previewDataList.length&&0===this.formItem.buildMode&&1!==this.previewDataList[0].drcStatus},preCheckTablePage:function(){var e=this.checkTableDataList,t=this.table.dbTablePage.current*this.table.dbTablePage.size-this.table.dbTablePage.size,r=t+this.table.dbTablePage.size;return Object(n["a"])(e).slice(t,r)},preCheckMhaReplicationPage:function(){var e=this.previewDataList,t=this.table.dbMhaTablePage.current*this.table.dbMhaTablePage.size-this.table.dbMhaTablePage.size,r=t+this.table.dbMhaTablePage.size;return Object(n["a"])(e).slice(t,r)}},created:function(){var e=this;this.axios.get("/api/drc/v2/permission/meta/mhaReplication/modify").then((function(t){403!==t.data.status?e.getBus():e.$router.push("/nopermission")})),this.applicationFormId=this.$route.query.applicationFormId,this.init()}},c=l,m=(r("864e"),r("2877")),u=Object(m["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},"746f":function(e,t,r){var a=r("428f"),o=r("5135"),n=r("e538"),i=r("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});o(t,e)||i(t,e,{value:n.f(e)})}},"864e":function(e,t,r){"use strict";r("aef0")},a4d3:function(e,t,r){"use strict";var a=r("23e7"),o=r("da84"),n=r("d066"),i=r("c430"),s=r("83ab"),l=r("4930"),c=r("fdbf"),m=r("d039"),u=r("5135"),d=r("e8b5"),f=r("861d"),g=r("825a"),h=r("7b0b"),b=r("fc6a"),p=r("c04e"),I=r("5c6c"),v=r("7c73"),w=r("df75"),y=r("241c"),C=r("057f"),k=r("7418"),x=r("06cf"),F=r("9bf2"),D=r("d1e7"),S=r("9112"),N=r("6eeb"),M=r("5692"),_=r("f772"),L=r("d012"),O=r("90e3"),R=r("b622"),T=r("e538"),$=r("746f"),P=r("d44e"),U=r("69f3"),B=r("b727").forEach,E=_("hidden"),q="Symbol",z="prototype",j=R("toPrimitive"),A=U.set,G=U.getterFor(q),V=Object[z],H=o.Symbol,W=n("JSON","stringify"),J=x.f,X=F.f,Q=C.f,K=D.f,Y=M("symbols"),Z=M("op-symbols"),ee=M("string-to-symbol-registry"),te=M("symbol-to-string-registry"),re=M("wks"),ae=o.QObject,oe=!ae||!ae[z]||!ae[z].findChild,ne=s&&m((function(){return 7!=v(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=J(V,t);a&&delete V[t],X(e,t,r),a&&e!==V&&X(V,t,a)}:X,ie=function(e,t){var r=Y[e]=v(H[z]);return A(r,{type:q,tag:e,description:t}),s||(r.description=t),r},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},le=function(e,t,r){e===V&&le(Z,t,r),g(e);var a=p(t,!0);return g(r),u(Y,a)?(r.enumerable?(u(e,E)&&e[E][a]&&(e[E][a]=!1),r=v(r,{enumerable:I(0,!1)})):(u(e,E)||X(e,E,I(1,{})),e[E][a]=!0),ne(e,a,r)):X(e,a,r)},ce=function(e,t){g(e);var r=b(t),a=w(r).concat(ge(r));return B(a,(function(t){s&&!ue.call(r,t)||le(e,t,r[t])})),e},me=function(e,t){return void 0===t?v(e):ce(v(e),t)},ue=function(e){var t=p(e,!0),r=K.call(this,t);return!(this===V&&u(Y,t)&&!u(Z,t))&&(!(r||!u(this,t)||!u(Y,t)||u(this,E)&&this[E][t])||r)},de=function(e,t){var r=b(e),a=p(t,!0);if(r!==V||!u(Y,a)||u(Z,a)){var o=J(r,a);return!o||!u(Y,a)||u(r,E)&&r[E][a]||(o.enumerable=!0),o}},fe=function(e){var t=Q(b(e)),r=[];return B(t,(function(e){u(Y,e)||u(L,e)||r.push(e)})),r},ge=function(e){var t=e===V,r=Q(t?Z:b(e)),a=[];return B(r,(function(e){!u(Y,e)||t&&!u(V,e)||a.push(Y[e])})),a};if(l||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),r=function(e){this===V&&r.call(Z,e),u(this,E)&&u(this[E],t)&&(this[E][t]=!1),ne(this,t,I(1,e))};return s&&oe&&ne(V,t,{configurable:!0,set:r}),ie(t,e)},N(H[z],"toString",(function(){return G(this).tag})),N(H,"withoutSetter",(function(e){return ie(O(e),e)})),D.f=ue,F.f=le,x.f=de,y.f=C.f=fe,k.f=ge,T.f=function(e){return ie(R(e),e)},s&&(X(H[z],"description",{configurable:!0,get:function(){return G(this).description}}),i||N(V,"propertyIsEnumerable",ue,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),B(w(re),(function(e){$(e)})),a({target:q,stat:!0,forced:!l},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var r=H(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!s},{create:me,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe,getOwnPropertySymbols:ge}),a({target:"Object",stat:!0,forced:m((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(h(e))}}),W){var he=!l||m((function(){var e=H();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));a({target:"JSON",stat:!0,forced:he},{stringify:function(e,t,r){var a,o=[e],n=1;while(arguments.length>n)o.push(arguments[n++]);if(a=t,(f(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!se(t))return t}),o[1]=t,W.apply(null,o)}})}H[z][j]||S(H[z],j,H[z].valueOf),P(H,q),L[E]=!0},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},aef0:function(e,t,r){},d28b:function(e,t,r){var a=r("746f");a("iterator")},ddb0:function(e,t,r){var a=r("da84"),o=r("fdbc"),n=r("e260"),i=r("9112"),s=r("b622"),l=s("iterator"),c=s("toStringTag"),m=n.values;for(var u in o){var d=a[u],f=d&&d.prototype;if(f){if(f[l]!==m)try{i(f,l,m)}catch(h){f[l]=m}if(f[c]||i(f,c,u),o[u])for(var g in n)if(f[g]!==n[g])try{i(f,g,n[g])}catch(h){f[g]=n[g]}}}},e01a:function(e,t,r){"use strict";var a=r("23e7"),o=r("83ab"),n=r("da84"),i=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),m=n.Symbol;if(o&&"function"==typeof m&&(!("description"in m.prototype)||void 0!==m().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new m(e):void 0===e?m():m(e);return""===e&&(u[t]=!0),t};c(d,m);var f=d.prototype=m.prototype;f.constructor=d;var g=f.toString,h="Symbol(test)"==String(m("test")),b=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=g.call(e);if(i(u,e))return"";var r=h?t.slice(7,-1):t.replace(b,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:d})}},e538:function(e,t,r){var a=r("b622");t.f=a},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-2176e488.d4948de4.js.map