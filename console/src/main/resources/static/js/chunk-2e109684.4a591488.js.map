{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/v2/resource/proxyRouteCluster.vue?adaa","webpack:///src/views/v2/resource/proxyRouteCluster.vue","webpack:///./src/views/v2/resource/proxyRouteCluster.vue?8b26","webpack:///./src/views/v2/resource/proxyRouteCluster.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","scopedSlots","_u","key","fn","proxy","on","getRoutes","model","value","queryParam","callback","$$v","$set","expression","_l","item","id","_s","buName","label","dataLoading","resetParam","goToAddRoute","columns","dataWithPage","ref","row","index","$event","goToUpdate","goToDelete","preChangeRouteActive","routes","current","handleChangeSize","clearDbSelection","dbModal","dbColumns","dbData","changeDbSelection","deleteDbRoutes","clearMhaSelection","mhaModal","mhaColumns","changeMhaSelection","deleteMhaRoutes","changeRouteActive","activeModal","activeRow","activeText","relatedNum","routeOrgName","srcDcName","dstDcName","srcProxyUris","dstProxyUris","relayProxyUris","staticRenderFns","name","data","bus","drcZoneList","constant","dcList","tags","routeTags","globalActiveList","globalActive","multiData","multiDbData","multiMhaData","deleteMhaModal","deleteDbModal","selectedRow","buId","tag","total","size","searchOption","deleteOptions","computed","methods","val","console","log","changeSelection","routeId","mhaIds","mhaDbReplicationIds","params","axios","delete","alert","relatedIds","toMhaDbReplication","path","query","srcMhaName","dstMhaName","preciseSearchMode","relatedDbName","dbName","window","open","detail","href","toMhaReplication","relatedMhaName","showDbModal","getRelatedDb","showMhaModal","getRelatedMha","get","showRelatedModal","$router","push","updateStatus","url","post","then","response","status","goToRecover","deleted","getBus","flattenObj","result","i","ob","j","temp","created","component","_typeof","obj","Symbol","iterator","constructor","fails","METHOD_NAME","argument","method","call","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","SPECIES","nativeSlice","slice","max","Math","start","end","Constructor","n","O","k","fin","Array"],"mappings":"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","file":"js/chunk-2e109684.4a591488.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyRouteCluster\"}},[_vm._v(\"路由列表\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Card',[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"16\"}},[_c('Card',{attrs:{\"padding\":5},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"查询条件\")]},proxy:true}])},[_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"BU\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.queryParam.buId),callback:function ($$v) {_vm.$set(_vm.queryParam, \"buId\", $$v)},expression:\"queryParam.buId\"}},_vm._l((_vm.bus),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.buName))])}),1)],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"源端（Applier）机房\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.queryParam.srcDcName),callback:function ($$v) {_vm.$set(_vm.queryParam, \"srcDcName\", $$v)},expression:\"queryParam.srcDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label)+\" \")])}),1)],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"目标（Replicator）机房\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.queryParam.dstDcName),callback:function ($$v) {_vm.$set(_vm.queryParam, \"dstDcName\", $$v)},expression:\"queryParam.dstDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label)+\" \")])}),1)],1),_c('Col',{attrs:{\"span\":\"3\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"tag\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.queryParam.tag),callback:function ($$v) {_vm.$set(_vm.queryParam, \"tag\", $$v)},expression:\"queryParam.tag\"}},_vm._l((_vm.tags),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('Col',{attrs:{\"span\":\"3\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"是否全局生效\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.queryParam.globalActive),callback:function ($$v) {_vm.$set(_vm.queryParam, \"globalActive\", $$v)},expression:\"queryParam.globalActive\"}},_vm._l((_vm.globalActiveList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label)+\" \")])}),1)],1)],1)],1)],1),_c('Col',{attrs:{\"span\":\"1\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\",\"loading\":_vm.dataLoading},on:{\"click\":_vm.getRoutes}},[_vm._v(\"查询\")]),_c('Button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"icon\":\"md-refresh\",\"loading\":_vm.dataLoading},on:{\"click\":_vm.resetParam}},[_vm._v(\"重置 \")])],1)],1),_c('br'),_c('Row',{staticStyle:{\"background\":\"#fdfdff\",\"border\":\"1px solid #e8eaec\"}},[_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"type\":\"default\",\"icon\":\"ios-hammer\"},on:{\"click\":_vm.goToAddRoute}},[_vm._v(\" 添加路由 \")])],1)],1),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.dataWithPage},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Dropdown',{attrs:{\"transfer\":true,\"placement\":\"bottom-start\"},scopedSlots:_vm._u([{key:\"list\",fn:function(){return [_c('DropdownMenu',[_c('DropdownItem',[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdate(row, index)}}},[_vm._v(\" 修改 \")])],1),_c('DropdownItem',[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDelete(row, index)}}},[_vm._v(\" 删除 \")])],1),_c('DropdownItem',[_c('Tooltip',{attrs:{\"transfer\":true,\"content\":\"修改路由全局生效状态,请谨慎操作!\"}},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.preChangeRouteActive(row, index)}}},[_vm._v(\" 修改全局生效状态 \")])],1)],1)],1)]},proxy:true}],null,true)},[_c('Button',{attrs:{\"type\":\"default\",\"icon\":\"ios-hammer\"}},[_vm._v(\" 操作 \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-down\"}})],1)],1)]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.routes.length,\"current\":_vm.current,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1),_c('Modal',{attrs:{\"title\":\"关联db\",\"width\":\"1000px\",\"scrollable\":true,\"draggable\":true},on:{\"on-cancel\":_vm.clearDbSelection,\"on-ok\":_vm.clearDbSelection},model:{value:(_vm.dbModal),callback:function ($$v) {_vm.dbModal=$$v},expression:\"dbModal\"}},[_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.dbColumns,\"data\":_vm.dbData},on:{\"on-selection-change\":_vm.changeDbSelection}}),_c('Row',{staticStyle:{\"background\":\"#fdfdff\",\"border\":\"1px solid #e8eaec\"}},[_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteDbRoutes()}}},[_vm._v(\" 删除关联db链路 \")])],1)],1)],1),_c('Modal',{attrs:{\"title\":\"关联mha\",\"width\":\"800px\",\"scrollable\":true,\"draggable\":true},on:{\"on-cancel\":_vm.clearMhaSelection,\"on-ok\":_vm.clearMhaSelection},model:{value:(_vm.mhaModal),callback:function ($$v) {_vm.mhaModal=$$v},expression:\"mhaModal\"}},[_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.mhaColumns,\"data\":_vm.dbData},on:{\"on-selection-change\":_vm.changeMhaSelection}}),_c('Row',{staticStyle:{\"background\":\"#fdfdff\",\"border\":\"1px solid #e8eaec\"}},[_c('Col',{staticStyle:{\"display\":\"flex\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"span\":\"2\"}},[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteMhaRoutes()}}},[_vm._v(\" 删除关联mha \")])],1)],1)],1),_c('Modal',{attrs:{\"title\":\"修改路由规则全局状态\",\"width\":\"800px\",\"scrollable\":true,\"draggable\":true},on:{\"on-ok\":_vm.changeRouteActive},model:{value:(_vm.activeModal),callback:function ($$v) {_vm.activeModal=$$v},expression:\"activeModal\"}},[_c('Card',{attrs:{\"padding\":5}},[_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"是否全局生效：\")])]),_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.activeText))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"关联db数：\")])]),_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.relatedNum))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"BU：\")])]),_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.routeOrgName))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"Applier源机房：\")])]),_c('Col',{attrs:{\"span\":\"14\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.srcDcName))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"Replicator目标机房：\")])]),_c('Col',{attrs:{\"span\":\"14\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.dstDcName))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"源端Proxy：\")])]),_c('Col',{attrs:{\"span\":\"14\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.srcProxyUris))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"目标Proxy：\")])]),_c('Col',{attrs:{\"span\":\"14\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.dstProxyUris))])])],1),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('label',[_vm._v(\"中继Proxy：\")])]),_c('Col',{attrs:{\"span\":\"14\"}},[_c('label',[_vm._v(_vm._s(_vm.activeRow.relayProxyUris))])])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-component>\r\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\r\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\r\n      <BreadcrumbItem to=\"/proxyRouteCluster\">路由列表</BreadcrumbItem>\r\n    </Breadcrumb>\r\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\r\n      <div style=\"padding: 1px 1px\">\r\n        <Card>\r\n          <Row :gutter=10 align=\"middle\">\r\n            <Col span=\"16\">\r\n              <Card :padding=5>\r\n                <template #title>查询条件</template>\r\n                <Row :gutter=10>\r\n                  <Col span=\"6\">\r\n                    <Select filterable clearable v-model=\"queryParam.buId\" placeholder=\"BU\" @on-change=\"getRoutes\">\r\n                      <Option v-for=\"item in bus\" :value=\"item.id\" :key=\"item.id\">{{ item.buName }}</Option>\r\n                    </Select>\r\n                  </Col>\r\n                  <Col span=\"6\">\r\n                    <Select filterable clearable v-model=\"queryParam.srcDcName\" placeholder=\"源端（Applier）机房\"\r\n                            @on-change=\"getRoutes\">\r\n                      <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{\r\n                          item.label\r\n                        }}\r\n                      </Option>\r\n                    </Select>\r\n                  </Col>\r\n                  <Col span=\"6\">\r\n                    <Select filterable clearable v-model=\"queryParam.dstDcName\" placeholder=\"目标（Replicator）机房\"\r\n                            @on-change=\"getRoutes\">\r\n                      <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{\r\n                          item.label\r\n                        }}\r\n                      </Option>\r\n                    </Select>\r\n                  </Col>\r\n                  <Col span=\"3\">\r\n                    <Select filterable clearable v-model=\"queryParam.tag\" placeholder=\"tag\" @on-change=\"getRoutes\">\r\n                      <Option v-for=\"item in tags\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                    </Select>\r\n                  </Col>\r\n                  <Col span=\"3\">\r\n                    <Select filterable v-model=\"queryParam.globalActive\" placeholder=\"是否全局生效\" @on-change=\"getRoutes\">\r\n                      <Option v-for=\"item in globalActiveList\" :value=\"item.value\" :key=\"item.value\">{{\r\n                          item.label\r\n                        }}\r\n                      </Option>\r\n                    </Select>\r\n                  </Col>\r\n                </Row>\r\n              </Card>\r\n            </Col>\r\n            <Col span=\"1\">\r\n              <Button type=\"primary\" icon=\"ios-search\" :loading=\"dataLoading\" @click=\"getRoutes\">查询</Button>\r\n              <Button icon=\"md-refresh\" :loading=\"dataLoading\" @click=\"resetParam\" style=\"margin-top: 20px\">重置\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <br>\r\n          <Row style=\"background: #fdfdff; border: 1px solid #e8eaec;\">\r\n            <Col span=\"2\" style=\"display: flex;float: left;margin: 5px\">\r\n              <Button type=\"default\" icon=\"ios-hammer\" @click=\"goToAddRoute\">\r\n                添加路由\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n          <Table stripe :columns=\"columns\" :data=\"dataWithPage\">\r\n            <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n              <Dropdown :transfer=\"true\" placement=\"bottom-start\">\r\n                <Button type=\"default\" icon=\"ios-hammer\">\r\n                  操作\r\n                  <Icon type=\"ios-arrow-down\"></Icon>\r\n                </Button>\r\n                <template #list>\r\n                  <DropdownMenu>\r\n                    <DropdownItem>\r\n                      <Button type=\"success\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdate(row, index)\">\r\n                        修改\r\n                      </Button>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToDelete(row, index)\">\r\n                        删除\r\n                      </Button>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      <Tooltip :transfer=\"true\" content=\"修改路由全局生效状态,请谨慎操作!\">\r\n                        <Button type=\"warning\" size=\"small\" style=\"margin-right: 5px\"\r\n                                @click=\"preChangeRouteActive(row, index)\">\r\n                          修改全局生效状态\r\n                        </Button>\r\n                      </Tooltip>\r\n                    </DropdownItem>\r\n                  </DropdownMenu>\r\n                </template>\r\n              </Dropdown>\r\n            </template>\r\n          </Table>\r\n          <div style=\"text-align: center;margin: 16px 0\">\r\n            <Page\r\n              :transfer=\"true\"\r\n              :total=\"routes.length\"\r\n              :current.sync=\"current\"\r\n              show-sizer\r\n              show-elevator\r\n              @on-page-size-change=\"handleChangeSize\"></Page>\r\n          </div>\r\n        </Card>\r\n        <Modal\r\n          v-model=\"dbModal\"\r\n          title=\"关联db\"\r\n          width=\"1000px\" :scrollable=\"true\" :draggable=\"true\"\r\n          @on-cancel=\"clearDbSelection\"\r\n          @on-ok=\"clearDbSelection\">\r\n          <Table stripe border :columns=\"dbColumns\" :data=\"dbData\" @on-selection-change=\"changeDbSelection\"></Table>\r\n          <Row style=\"background: #fdfdff; border: 1px solid #e8eaec;\">\r\n            <Col span=\"2\" style=\"display: flex;float: left;margin: 5px\">\r\n              <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\"\r\n                      @click=\"deleteDbRoutes()\">\r\n                删除关联db链路\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Modal>\r\n        <Modal\r\n          v-model=\"mhaModal\"\r\n          title=\"关联mha\"\r\n          width=\"800px\" :scrollable=\"true\" :draggable=\"true\"\r\n          @on-cancel=\"clearMhaSelection\"\r\n          @on-ok=\"clearMhaSelection\">\r\n          <Table stripe border :columns=\"mhaColumns\" :data=\"dbData\" @on-selection-change=\"changeMhaSelection\"></Table>\r\n          <Row style=\"background: #fdfdff; border: 1px solid #e8eaec;\">\r\n            <Col span=\"2\" style=\"display: flex;float: left;margin: 5px\">\r\n              <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\"\r\n                      @click=\"deleteMhaRoutes()\">\r\n                删除关联mha\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Modal>\r\n        <Modal\r\n          v-model=\"activeModal\"\r\n          title=\"修改路由规则全局状态\"\r\n          width=\"800px\" :scrollable=\"true\" :draggable=\"true\"\r\n          @on-ok=\"changeRouteActive\">\r\n          <Card :padding=5>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>是否全局生效：</label>\r\n              </Col>\r\n              <Col span=\"6\">\r\n                <label>{{ activeRow.activeText }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>关联db数：</label>\r\n              </Col>\r\n              <Col span=\"6\">\r\n                <label>{{ activeRow.relatedNum }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>BU：</label>\r\n              </Col>\r\n              <Col span=\"6\">\r\n                <label>{{ activeRow.routeOrgName }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>Applier源机房：</label>\r\n              </Col>\r\n              <Col span=\"14\">\r\n                <label>{{ activeRow.srcDcName }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>Replicator目标机房：</label>\r\n              </Col>\r\n              <Col span=\"14\">\r\n                <label>{{ activeRow.dstDcName }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>源端Proxy：</label>\r\n              </Col>\r\n              <Col span=\"14\">\r\n                <label>{{ activeRow.srcProxyUris }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>目标Proxy：</label>\r\n              </Col>\r\n              <Col span=\"14\">\r\n                <label>{{ activeRow.dstProxyUris }}</label>\r\n              </Col>\r\n            </Row>\r\n            <Row :gutter=20>\r\n              <Col span=\"6\">\r\n                <label>中继Proxy：</label>\r\n              </Col>\r\n              <Col span=\"14\">\r\n                <label>{{ activeRow.relayProxyUris }}</label>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Modal>\r\n      </div>\r\n    </Content>\r\n  </base-component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'proxyRouteCluster',\r\n  data () {\r\n    return {\r\n      bus: [],\r\n      drcZoneList: this.constant.dcList,\r\n      tags: this.constant.routeTags,\r\n      globalActiveList: [\r\n        {\r\n          value: 1,\r\n          label: '是'\r\n        },\r\n        {\r\n          value: 0,\r\n          label: '否'\r\n        }\r\n      ],\r\n      dataLoading: false,\r\n      dbModal: false,\r\n      mhaModal: false,\r\n      activeModal: false,\r\n      activeRow: {\r\n        id: null,\r\n        relatedNum: null,\r\n        routeOrgName: '',\r\n        srcDcName: '',\r\n        dstDcName: '',\r\n        srcProxyUris: '',\r\n        dstProxyUris: '',\r\n        relayProxyUris: '',\r\n        globalActive: '',\r\n        activeText: ''\r\n      },\r\n      dbData: [],\r\n      multiData: [],\r\n      multiDbData: [],\r\n      multiMhaData: [],\r\n      deleteMhaModal: false,\r\n      deleteDbModal: false,\r\n      selectedRow: null,\r\n      mhaColumns: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '序号',\r\n          width: 75,\r\n          align: 'center',\r\n          // fixed: 'left',\r\n          render: (h, params) => {\r\n            return h(\r\n              'span',\r\n              params.index + 1\r\n            )\r\n          }\r\n        },\r\n        {\r\n          title: 'mha',\r\n          key: 'srcMhaName',\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const text = row.srcMhaName\r\n            return h('a', {\r\n              props: {\r\n                type: 'info',\r\n                size: 'small',\r\n                disabled: false\r\n              },\r\n              on: {\r\n                click: () => {\r\n                  this.toMhaReplication(row)\r\n                }\r\n              }\r\n            }, text)\r\n          }\r\n        }\r\n      ],\r\n      dbColumns: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '序号',\r\n          width: 75,\r\n          align: 'center',\r\n          // fixed: 'left',\r\n          render: (h, params) => {\r\n            return h(\r\n              'span',\r\n              params.index + 1\r\n            )\r\n          }\r\n        },\r\n        {\r\n          title: 'db',\r\n          key: 'dbName',\r\n          width: 300\r\n        },\r\n        {\r\n          title: '同步链路',\r\n          key: 'relatedId',\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const text = row.srcMhaName + '(' + row.srcDcName + ')' + ' => ' + row.dstMhaName + '(' + row.dstDcName + ')'\r\n            return h('a', {\r\n              props: {\r\n                type: 'info',\r\n                size: 'small',\r\n                disabled: false\r\n              },\r\n              on: {\r\n                click: () => {\r\n                  this.toMhaDbReplication(row)\r\n                }\r\n              }\r\n            }, text)\r\n          }\r\n        }\r\n      ],\r\n      columns: [\r\n        {\r\n          title: '关联链路数',\r\n          key: 'relatedNum',\r\n          width: 150,\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            let text = row.relatedNum\r\n            const type = row.tag === 'meta' ? 'success' : 'warning'\r\n            let disabled = false\r\n            if (row.relatedNum === null) {\r\n              disabled = true\r\n              text = 0\r\n            }\r\n            return h('Button', {\r\n              props: {\r\n                type: type,\r\n                size: 'small',\r\n                disabled: disabled\r\n              },\r\n              on: {\r\n                click: () => {\r\n                  this.showRelatedModal(row)\r\n                }\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: 'BU',\r\n          key: 'routeOrgName',\r\n          width: 80,\r\n          sortable: true\r\n        },\r\n        {\r\n          title: 'Applier源端机房',\r\n          key: 'srcDcName',\r\n          width: 200,\r\n          sortable: true\r\n        },\r\n        {\r\n          title: 'Replicator目标机房',\r\n          key: 'dstDcName',\r\n          width: 200,\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '源端Proxy',\r\n          key: 'srcProxyUris'\r\n        },\r\n        {\r\n          title: '目标Proxy',\r\n          key: 'dstProxyUris'\r\n        },\r\n        {\r\n          title: '中继Proxy',\r\n          key: 'relayProxyUris'\r\n        },\r\n        {\r\n          title: 'tag',\r\n          key: 'tag',\r\n          width: 100,\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const color = row.tag === 'meta' ? 'success' : 'warning'\r\n            const text = row.tag\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '是否全局生效',\r\n          key: 'globalActive',\r\n          align: 'center',\r\n          width: 140,\r\n          sortable: true,\r\n          resizable: true,\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const color = row.globalActive === 1 ? 'blue' : 'volcano'\r\n            const text = row.globalActive === 1 ? '是' : '否'\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          align: 'center',\r\n          width: 200\r\n        }\r\n      ],\r\n      queryParam: {\r\n        buId: 0,\r\n        srcDcName: '',\r\n        dstDcName: '',\r\n        tag: '',\r\n        globalActive: 1\r\n      },\r\n      routes: [],\r\n      total: 0,\r\n      current: 1,\r\n      size: 10,\r\n      searchOption: {\r\n        deleteOptions: [\r\n          {\r\n            value: 0,\r\n            key: 'inUse'\r\n          },\r\n          {\r\n            value: 1,\r\n            key: 'discard'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    dataWithPage () {\r\n      const data = this.routes\r\n      const start = this.current * this.size - this.size\r\n      const end = start + this.size\r\n      return [...data].slice(start, end)\r\n    }\r\n  },\r\n  methods: {\r\n    clearDbSelection () {\r\n      this.selectedRow = null\r\n      this.multiDbData = []\r\n      this.getRoutes()\r\n    },\r\n    clearMhaSelection () {\r\n      this.selectedRow = null\r\n      this.multiMhaData = []\r\n      this.getRoutes()\r\n    },\r\n    changeDbSelection (val) {\r\n      this.multiDbData = val\r\n      console.log(this.multiDbData)\r\n    },\r\n    changeMhaSelection (val) {\r\n      this.multiMhaData = val\r\n      console.log(this.multiMhaData)\r\n    },\r\n    changeSelection (val) {\r\n      this.multiData = val\r\n      console.log(this.multiData)\r\n    },\r\n    deleteMhaRoutes () {\r\n      if (this.multiMhaData.length === 0) {\r\n        alert('请勾选关联mha！')\r\n        return\r\n      }\r\n      const mhaIds = []\r\n      this.multiMhaData.forEach(e => mhaIds.push(e.relatedId))\r\n      const params = {\r\n        routeId: this.selectedRow.id,\r\n        mhaIds: mhaIds,\r\n        mhaDbReplicationIds: []\r\n      }\r\n      console.log(params)\r\n      this.deleteMhaModal = true\r\n      this.axios.delete('/api/drc/v2/meta/routeMappings/mha', { data: params })\r\n        .then(res => {\r\n          if (res.data.status === 1) {\r\n            this.$Message.error('删除mha关联链路失败: ' + res.data.message)\r\n          } else {\r\n            this.$Message.success('删除mha关联链路成功')\r\n          }\r\n        })\r\n        .catch(message => {\r\n          this.$Message.error('删除mha关联链路失败: ' + message)\r\n        })\r\n        .finally(() => {\r\n          this.getRelatedMha(this.selectedRow.id)\r\n          this.deleteMhaModal = true\r\n          this.multiMhaData = []\r\n        })\r\n    },\r\n    deleteDbRoutes () {\r\n      if (this.multiDbData.length === 0) {\r\n        alert('请勾选关联db！')\r\n        return\r\n      }\r\n      const relatedIds = []\r\n      this.multiDbData.forEach(e => relatedIds.push(e.relatedId))\r\n      const params = {\r\n        routeId: this.selectedRow.id,\r\n        mhaDbReplicationIds: relatedIds\r\n      }\r\n      this.deleteDbModal = true\r\n      this.axios.delete('/api/drc/v2/meta/routeMappings', { data: params })\r\n        .then(res => {\r\n          if (res.data.status === 1) {\r\n            this.$Message.error('删除db关联链路失败: ' + res.data.message)\r\n          } else {\r\n            this.$Message.success('删除db关联链路成功')\r\n          }\r\n        })\r\n        .catch(message => {\r\n          this.$Message.error('删除db关联链路失败: ' + message)\r\n        })\r\n        .finally(() => {\r\n          this.getRelatedDb(this.selectedRow.id)\r\n          this.deleteDbModal = true\r\n          this.multiMhaData = []\r\n        })\r\n    },\r\n    toMhaDbReplication (row) {\r\n      const detail = this.$router.resolve({\r\n        path: '/v2/mhaDbReplications',\r\n        query: {\r\n          srcMhaName: row.srcMhaName,\r\n          dstMhaName: row.dstMhaName,\r\n          preciseSearchMode: true,\r\n          relatedDbName: row.dbName\r\n        }\r\n      })\r\n      window.open(detail.href, '_blank')\r\n    },\r\n    toMhaReplication (row) {\r\n      const detail = this.$router.resolve({\r\n        path: '/v2/mhaDbReplications',\r\n        query: {\r\n          relatedMhaName: row.srcMhaName,\r\n          preciseSearchMode: false\r\n        }\r\n      })\r\n      window.open(detail.href, '_blank')\r\n    },\r\n    showDbModal (row) {\r\n      this.getRelatedDb(row.id)\r\n      this.dbModal = true\r\n      this.selectedRow = row\r\n    },\r\n    showMhaModal (row) {\r\n      this.getRelatedMha(row.id)\r\n      this.mhaModal = true\r\n      this.selectedRow = row\r\n    },\r\n    getRelatedDb (routeId) {\r\n      this.dbData = []\r\n      this.axios.get('/api/drc/v2/meta/routeMapping/dbs?routeId=' + routeId)\r\n        .then(res => {\r\n          this.dbData = res.data.data\r\n        })\r\n    },\r\n    getRelatedMha (routeId) {\r\n      this.dbData = []\r\n      this.axios.get('/api/drc/v2/meta/routeMapping/mhas?routeId=' + routeId)\r\n        .then(res => {\r\n          this.dbData = res.data.data\r\n        })\r\n    },\r\n    showRelatedModal (row) {\r\n      if (row.tag === 'meta') {\r\n        this.showDbModal(row)\r\n      } else if (row.tag === 'console') {\r\n        this.showMhaModal(row)\r\n      }\r\n    },\r\n    resetParam () {\r\n      this.queryParam = {\r\n        buId: 0,\r\n        srcDcName: '',\r\n        dstDcName: '',\r\n        tag: '',\r\n        globalActive: 1\r\n      }\r\n    },\r\n    getRoutes () {\r\n      const params = {\r\n        buId: this.queryParam.buId,\r\n        srcDcName: this.queryParam.srcDcName,\r\n        dstDcName: this.queryParam.dstDcName,\r\n        tag: this.queryParam.tag,\r\n        globalActive: this.queryParam.globalActive\r\n      }\r\n      const reqParam = this.flattenObj(params)\r\n      this.dataLoading = true\r\n      this.axios.get('/api/drc/v2/meta/routes', { params: reqParam })\r\n        .then(response => {\r\n          this.total = response.data.data.length\r\n          this.routes = response.data.data\r\n          this.dataLoading = false\r\n        })\r\n    },\r\n    handleChangeSize (val) {\r\n      this.size = val\r\n    },\r\n    goToUpdate (row, index) {\r\n      console.log('go to manage route for' + row.routeOrgName + '-' + row.tag + ', from ' + row.srcDcName + ' to ' + row.dstDcName)\r\n      this.$router.push({\r\n        path: '/proxyRouteManagement',\r\n        query: {\r\n          updateStatus: 'true',\r\n          routeId: row.id\r\n        }\r\n      })\r\n    },\r\n    preChangeRouteActive (row, index) {\r\n      this.activeRow = row\r\n      if (row.globalActive === 1) {\r\n        this.activeRow.activeText = '是'\r\n      } else {\r\n        this.activeRow.activeText = '否'\r\n      }\r\n      this.activeModal = true\r\n    },\r\n    changeRouteActive () {\r\n      let url\r\n      if (this.activeRow.globalActive === 0) {\r\n        url = '/api/drc/v2/meta/activeRoute?routeId=' + this.activeRow.id\r\n      } else if (this.activeRow.globalActive === 1) {\r\n        url = '/api/drc/v2/meta/deactivateRoute?routeId=' + this.activeRow.id\r\n      }\r\n      this.axios.post(url).then(response => {\r\n        if (response.data.status === 0) {\r\n          this.$Message.success('修改路由全局生效状态成功')\r\n        } else {\r\n          this.$Message.success('修改路由全局生效状态失败')\r\n        }\r\n        this.getRoutes()\r\n      })\r\n    },\r\n    goToDelete (row, index) {\r\n      this.axios.delete('/api/drc/v2/meta/route?routeId=' + row.id).then(response => {\r\n        if (response.data.status === 0) {\r\n          this.$Message.success('下线成功')\r\n        } else {\r\n          this.$Message.success('下线失败')\r\n        }\r\n        this.getRoutes()\r\n      })\r\n    },\r\n    goToRecover (row, index) {\r\n      if (row.deleted === 0) {\r\n        // forbidden\r\n        alert('正在使用中无需回滚！')\r\n      } else {\r\n        this.axios.post('/api/drc/v1/meta/routes', {\r\n          id: 0,\r\n          routeOrgName: row.routeOrgName,\r\n          srcDcName: row.srcDcName,\r\n          dstDcName: row.dstDcName,\r\n          srcProxyUris: row.srcProxyUris,\r\n          relayProxyUris: row.relayProxyUris,\r\n          dstProxyUris: row.dstProxyUris,\r\n          tag: row.tag,\r\n          deleted: 0\r\n        }).then(response => {\r\n          console.log(response.data)\r\n          console.log(response.data.data)\r\n          if (response.data.status === 0) {\r\n            alert('回滚成功！')\r\n            this.queryParam.deleted = 0\r\n            this.getRoutes()\r\n          } else {\r\n            alert('操作失败！')\r\n          }\r\n        })\r\n      }\r\n    },\r\n    goToAddRoute () {\r\n      console.log('go to manage route')\r\n      this.$router.push({\r\n        path: '/proxyRouteManagement',\r\n        query: {\r\n          updateStatus: 'false',\r\n          srcProxyUris: [],\r\n          relayProxyUris: [],\r\n          dstProxyUris: []\r\n        }\r\n      })\r\n    },\r\n    getBus () {\r\n      this.axios.get('/api/drc/v2/meta/bus/all')\r\n        .then(response => {\r\n          this.bus = response.data.data\r\n        })\r\n    },\r\n    flattenObj (ob) {\r\n      const result = {}\r\n      for (const i in ob) {\r\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\r\n          const temp = this.flattenObj(ob[i])\r\n          for (const j in temp) {\r\n            result[i + '.' + j] = temp[j]\r\n          }\r\n        } else {\r\n          result[i] = ob[i]\r\n        }\r\n      }\r\n      return result\r\n    }\r\n  },\r\n  created () {\r\n    this.axios.get('/api/drc/v2/permission/resource/route').then((response) => {\r\n      if (response.data.status === 403) {\r\n        this.$router.push('/nopermission')\r\n        return\r\n      }\r\n      this.getRoutes()\r\n      this.getBus()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteCluster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteCluster.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proxyRouteCluster.vue?vue&type=template&id=e76096aa&scoped=true&\"\nimport script from \"./proxyRouteCluster.vue?vue&type=script&lang=js&\"\nexport * from \"./proxyRouteCluster.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e76096aa\",\n  null\n  \n)\n\nexport default component.exports","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}