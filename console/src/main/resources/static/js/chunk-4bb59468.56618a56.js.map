{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/v2/resource/proxyRouteManagement.vue?16ab","webpack:///src/views/v2/resource/proxyRouteManagement.vue","webpack:///./src/views/v2/resource/proxyRouteManagement.vue?cf95","webpack:///./src/views/v2/resource/proxyRouteManagement.vue"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","fails","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","ref","route","ruleRoute","updateStatus","model","value","callback","$$v","$set","expression","_l","item","key","buName","_s","on","getProxyUrisInSrc","handleCreateDc","label","proxyUris","proxyUriList","getProxyUrisInDst","$event","handleReset","reviewInputResource","inputResource","routeOrgName","tag","srcDcName","dstDcName","src","relay","dst","result","staticRenderFns","name","data","tags","constant","routeTags","$route","query","bus","reviewModal","resultModal","routeId","all","srcProxyUris","dstProxyUris","drcZoneList","dcList","methods","axios","post","id","relayProxyUris","console","log","response","that","val","push","alert","uri","get","getProxyUrisInSrc2","getProxyUrisInDst2","getAllProxyUris","getProxyUrisInUse","getBus","created","then","status","component"],"mappings":"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","file":"js/chunk-4bb59468.56618a56.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyRouteManagement\"}},[_vm._v(\"录入路由规则\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"route\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.route,\"rules\":_vm.ruleRoute,\"label-width\":250}},[_c('FormItem',{attrs:{\"label\":\"业务部门\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":_vm.updateStatus==='true',\"clearable\":\"\",\"placeholder\":\"请输入路由BU,不填默认为公用路由\"},model:{value:(_vm.route.routeOrgName),callback:function ($$v) {_vm.$set(_vm.route, \"routeOrgName\", $$v)},expression:\"route.routeOrgName\"}},_vm._l((_vm.bus),function(item){return _c('Option',{key:item.buName,attrs:{\"value\":item.buName}},[_vm._v(_vm._s(item.buName))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"源端（Applier）机房\",\"prop\":\"srcDcName\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"disabled\":_vm.updateStatus==='true',\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择源端（Applier）机房\"},on:{\"on-select\":_vm.getProxyUrisInSrc,\"on-create\":_vm.handleCreateDc},model:{value:(_vm.route.srcDcName),callback:function ($$v) {_vm.$set(_vm.route, \"srcDcName\", $$v)},expression:\"route.srcDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"源端（Applier）Proxy\",\"prop\":\"srcProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择源端Proxy\"},model:{value:(_vm.route.proxyUris.src),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"src\", $$v)},expression:\"route.proxyUris.src\"}},_vm._l((_vm.route.proxyUriList.src),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"中继Proxy\",\"prop\":\"relayProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择中继Proxy\"},model:{value:(_vm.route.proxyUris.relay),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"relay\", $$v)},expression:\"route.proxyUris.relay\"}},_vm._l((_vm.route.proxyUriList.all),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"目标（Replicator）机房\",\"prop\":\"dstDcName\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"disabled\":_vm.updateStatus==='true',\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择目标（Replicator）机房\"},on:{\"on-select\":_vm.getProxyUrisInDst,\"on-create\":_vm.handleCreateDc},model:{value:(_vm.route.dstDcName),callback:function ($$v) {_vm.$set(_vm.route, \"dstDcName\", $$v)},expression:\"route.dstDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"目标（Replicator）Proxy\",\"prop\":\"dstProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择目标Proxy\"},model:{value:(_vm.route.proxyUris.dst),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"dst\", $$v)},expression:\"route.proxyUris.dst\"}},_vm._l((_vm.route.proxyUriList.dst),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"Tag\",\"prop\":\"tag\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"disabled\":_vm.updateStatus==='true',\"placeholder\":\"请输入路由tag\"},model:{value:(_vm.route.tag),callback:function ($$v) {_vm.$set(_vm.route, \"tag\", $$v)},expression:\"route.tag\"}},_vm._l((_vm.tags),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset()}}},[_vm._v(\"重置\")]),_c('br'),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.reviewInputResource ()}}},[_vm._v(\"录入\")])],1),_c('Modal',{attrs:{\"title\":\"录入确认\"},on:{\"on-ok\":function($event){return _vm.inputResource()}},model:{value:(_vm.route.reviewModal),callback:function ($$v) {_vm.$set(_vm.route, \"reviewModal\", $$v)},expression:\"route.reviewModal\"}},[_vm._v(\" 对BU[\"+_vm._s(this.route.routeOrgName)+\"]、tag[\"+_vm._s(this.route.tag)+\"]、方向[\"+_vm._s(this.route.srcDcName)+\"->\"+_vm._s(this.route.dstDcName)+\"]，确认新增/修改路由为源端Proxies：\"+_vm._s(this.route.proxyUris.src)+\"，中继Proxies：\"+_vm._s(this.route.proxyUris.relay)+\"，目标Proxies：\"+_vm._s(this.route.proxyUris.dst)+\"吗？ \")]),_c('Modal',{attrs:{\"title\":\"录入结果\"},model:{value:(_vm.route.resultModal),callback:function ($$v) {_vm.$set(_vm.route, \"resultModal\", $$v)},expression:\"route.resultModal\"}},[_vm._v(\" \"+_vm._s(this.result)+\" \")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-component>\r\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\r\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\r\n      <BreadcrumbItem to=\"/proxyRouteManagement\">录入路由规则</BreadcrumbItem>\r\n    </Breadcrumb>\r\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\r\n      <div style=\"padding: 1px 1px\">\r\n        <Row>\r\n          <i-col span=\"12\">\r\n            <Form ref=\"route\" :model=\"route\" :rules=\"ruleRoute\" :label-width=\"250\"\r\n                  style=\"float: left; margin-top: 50px\">\r\n              <FormItem label=\"业务部门\">\r\n                <Select filterable :disabled=\"updateStatus==='true'\" clearable v-model=\"route.routeOrgName\" placeholder=\"请输入路由BU,不填默认为公用路由\">\r\n                  <Option v-for=\"item in bus\" :value=\"item.buName\" :key=\"item.buName\">{{ item.buName }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"源端（Applier）机房\" prop=\"srcDcName\">\r\n                <Select :disabled=\"updateStatus==='true'\" v-model=\"route.srcDcName\" filterable allow-create\r\n                        style=\"width: 250px\" @on-select=\"getProxyUrisInSrc\" placeholder=\"请选择源端（Applier）机房\"\r\n                        @on-create=\"handleCreateDc\">\r\n                  <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"源端（Applier）Proxy\" prop=\"srcProxyUris\">\r\n                <Select v-model=\"route.proxyUris.src\" filterable multiple style=\"width: 250px\"\r\n                        placeholder=\"请选择源端Proxy\">\r\n                  <Option v-for=\"item in route.proxyUriList.src\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"中继Proxy\" prop=\"relayProxyUris\">\r\n                <Select v-model=\"route.proxyUris.relay\" filterable multiple style=\"width: 250px\"\r\n                        placeholder=\"请选择中继Proxy\">\r\n                  <Option v-for=\"item in route.proxyUriList.all\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"目标（Replicator）机房\" prop=\"dstDcName\">\r\n                <Select :disabled=\"updateStatus==='true'\" v-model=\"route.dstDcName\" filterable allow-create\r\n                        style=\"width: 250px\" @on-select=\"getProxyUrisInDst\" placeholder=\"请选择目标（Replicator）机房\"\r\n                        @on-create=\"handleCreateDc\">\r\n                  <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"目标（Replicator）Proxy\" prop=\"dstProxyUris\">\r\n                <Select v-model=\"route.proxyUris.dst\" filterable multiple style=\"width: 250px\"\r\n                        placeholder=\"请选择目标Proxy\">\r\n                  <Option v-for=\"item in route.proxyUriList.dst\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem label=\"Tag\" prop=\"tag\" style=\"width: 500px\">\r\n                <Select filterable clearable :disabled=\"updateStatus==='true'\" v-model=\"route.tag\" placeholder=\"请输入路由tag\">\r\n                  <Option v-for=\"item in tags\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                </Select>\r\n              </FormItem>\r\n              <FormItem>\r\n                <Button @click=\"handleReset()\">重置</Button>\r\n                <br><br>\r\n                <Button type=\"primary\" @click=\"reviewInputResource ()\">录入</Button>\r\n              </FormItem>\r\n              <Modal\r\n                v-model=\"route.reviewModal\"\r\n                title=\"录入确认\"\r\n                @on-ok=\"inputResource()\">\r\n                对BU[{{ this.route.routeOrgName }}]、tag[{{ this.route.tag }}]、方向[{{\r\n                  this.route.srcDcName\r\n                }}->{{ this.route.dstDcName }}]，确认新增/修改路由为源端Proxies：{{\r\n                  this.route.proxyUris.src\r\n                }}，中继Proxies：{{ this.route.proxyUris.relay }}，目标Proxies：{{ this.route.proxyUris.dst }}吗？\r\n              </Modal>\r\n              <Modal\r\n                v-model=\"route.resultModal\"\r\n                title=\"录入结果\">\r\n                {{ this.result }}\r\n              </Modal>\r\n            </Form>\r\n          </i-col>\r\n        </Row>\r\n      </div>\r\n    </Content>\r\n  </base-component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'proxyRouteManagement',\r\n  data () {\r\n    return {\r\n      tags: this.constant.routeTags,\r\n      updateStatus: this.$route.query.updateStatus,\r\n      bus: [],\r\n      route: {\r\n        reviewModal: false,\r\n        resultModal: false,\r\n        routeId: this.$route.query.routeId,\r\n        routeOrgName: '',\r\n        srcDcName: '',\r\n        dstDcName: '',\r\n        tag: '',\r\n        proxyUris: {\r\n          src: [],\r\n          relay: [],\r\n          dst: []\r\n        },\r\n        proxyUriList: {\r\n          src: [],\r\n          all: [],\r\n          dst: []\r\n        }\r\n      },\r\n      ruleRoute: {\r\n        srcDcName: [\r\n          { required: true, message: '源端（Applier）机房不能为空', trigger: 'blur' }\r\n        ],\r\n        dstDcName: [\r\n          { required: true, message: '目标（Replicator）机房不能为空', trigger: 'blur' }\r\n        ],\r\n        srcProxyUris: [\r\n          { required: true, message: '源端Proxy不能为空', trigger: 'blur' }\r\n        ],\r\n        dstProxyUris: [\r\n          { required: true, message: '目标Proxy不能为空', trigger: 'blur' }\r\n        ],\r\n        tag: [\r\n          { required: true, message: 'tag不能为空', trigger: 'blur' }\r\n        ]\r\n      },\r\n      drcZoneList: this.constant.dcList,\r\n      result: ''\r\n    }\r\n  },\r\n  methods: {\r\n    reviewInputResource () {\r\n      this.route.reviewModal = true\r\n    },\r\n    inputResource () {\r\n      const that = this\r\n      this.axios.post('/api/drc/v2/meta/route', {\r\n        id: this.route.routeId,\r\n        routeOrgName: this.route.routeOrgName,\r\n        srcDcName: this.route.srcDcName,\r\n        dstDcName: this.route.dstDcName,\r\n        srcProxyUris: this.route.proxyUris.src,\r\n        relayProxyUris: this.route.proxyUris.relay,\r\n        dstProxyUris: this.route.proxyUris.dst,\r\n        tag: this.route.tag\r\n      }).then(response => {\r\n        console.log(response.data)\r\n        that.result = response.data.data\r\n        that.route.reviewModal = false\r\n        that.route.resultModal = true\r\n      })\r\n    },\r\n    handleCreateDc (val) {\r\n      console.log('customize add dc: ' + val)\r\n      this.drcZoneList.push({\r\n        value: val,\r\n        label: val\r\n      })\r\n      console.log(this.drcZoneList)\r\n    },\r\n    handleReset () {\r\n      alert(this.updateStatus)\r\n      this.route.routeOrgName = ''\r\n      this.route.srcDcName = ''\r\n      this.route.dstDcName = ''\r\n      this.route.tag = ''\r\n      this.route.proxyUris.src = []\r\n      this.route.proxyUris.relay = []\r\n      this.route.proxyUris.dst = []\r\n    },\r\n    getProxyUrisInSrc (event) {\r\n      const that = this\r\n      const uri = '/api/drc/v2/meta/proxy/uris?dc=' + event.value + '&src=true'\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          that.route.proxyUriList.src = []\r\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.src.push(proxyUri))\r\n        })\r\n    },\r\n    getProxyUrisInDst (event) {\r\n      const that = this\r\n      const uri = '/api/drc/v2/meta/proxy/uris?dc=' + event.value + '&src=false'\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          that.route.proxyUriList.dst = []\r\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.dst.push(proxyUri))\r\n        })\r\n    },\r\n    getProxyUrisInSrc2 () {\r\n      const that = this\r\n      const uri = '/api/drc/v2/meta/proxy/uris?dc=' + this.route.srcDcName + '&src=true'\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          that.route.proxyUriList.src = []\r\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.src.push(proxyUri))\r\n        })\r\n    },\r\n    getProxyUrisInDst2 () {\r\n      const that = this\r\n      const uri = '/api/drc/v2/meta/proxy/uris?dc=' + this.route.dstDcName + '&src=false'\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          that.route.proxyUriList.dst = []\r\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.dst.push(proxyUri))\r\n        })\r\n    },\r\n    getAllProxyUris () {\r\n      const that = this\r\n      const uri = '/api/drc/v2/meta/proxy/uris/relay'\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response.data)\r\n          that.route.proxyUriList.all = []\r\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.all.push(proxyUri))\r\n        })\r\n    },\r\n    getProxyUrisInUse () {\r\n      const uri = '/api/drc/v2/meta/route?routeId=' + this.route.routeId\r\n      console.log('uri: ' + uri)\r\n      this.axios.get(uri)\r\n        .then(response => {\r\n          console.log(response)\r\n          this.route.proxyUris.src = []\r\n          this.route.proxyUris.relay = []\r\n          this.route.proxyUris.dst = []\r\n          const data = response.data.data\r\n          if (data !== null) {\r\n            data.srcProxyUris.forEach(proxyUri => this.route.proxyUris.src.push(proxyUri))\r\n            data.relayProxyUris.forEach(proxyUri => this.route.proxyUris.relay.push(proxyUri))\r\n            data.dstProxyUris.forEach(proxyUri => this.route.proxyUris.dst.push(proxyUri))\r\n            this.route.routeOrgName = data.routeOrgName\r\n            this.route.srcDcName = data.srcDcName\r\n            this.route.dstDcName = data.dstDcName\r\n            this.route.tag = data.tag\r\n            this.getProxyUrisInSrc2()\r\n            this.getProxyUrisInDst2()\r\n          }\r\n        })\r\n    },\r\n    getBus () {\r\n      this.axios.get('/api/drc/v2/meta/bus/all')\r\n        .then(response => {\r\n          this.bus = response.data.data\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.axios.get('/api/drc/v2/permission/resource/proxy').then((response) => {\r\n      if (response.data.status === 403) {\r\n        this.$router.push('/nopermission')\r\n        return\r\n      }\r\n      this.getProxyUrisInUse()\r\n      this.getAllProxyUris()\r\n      this.getBus()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proxyRouteManagement.vue?vue&type=template&id=508a79d7&scoped=true&\"\nimport script from \"./proxyRouteManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./proxyRouteManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"508a79d7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}