(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e7167da"],{"0c47":function(e,t,r){"use strict";var a=r("cfe9"),n=r("d44e");n(a.JSON,"JSON",!0)},"0cb2":function(e,t,r){"use strict";var a=r("e330"),n=r("7b0b"),o=Math.floor,i=a("".charAt),s=a("".replace),c=a("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,a,f,d){var p=r+e.length,h=a.length,b=l;return void 0!==f&&(f=n(f),b=u),s(d,b,(function(n,s){var u;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,p);case"<":u=f[c(s,1,-1)];break;default:var l=+s;if(0===l)return n;if(l>h){var d=o(l/10);return 0===d?n:d<=h?void 0===a[d-1]?i(s,1):a[d-1]+i(s,1):n}u=a[l-1]}return void 0===u?"":u}))}},"131a":function(e,t,r){"use strict";var a=r("23e7"),n=r("d2bb");a({target:"Object",stat:!0},{setPrototypeOf:n})},"14c3":function(e,t,r){"use strict";var a=r("c65b"),n=r("825a"),o=r("1626"),i=r("c6b6"),s=r("9263"),c=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var u=a(r,e,t);return null!==u&&n(u),u}if("RegExp"===i(e))return a(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,r){"use strict";var a=r("cfe9"),n=r("fdbc"),o=r("785a"),i=r("17c2"),s=r("9112"),c=function(e){if(e&&e.forEach!==i)try{s(e,"forEach",i)}catch(t){e.forEach=i}};for(var u in n)n[u]&&c(a[u]&&a[u].prototype);c(o)},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,n=r("a640"),o=n("forEach");e.exports=o?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function a(e,t,r,a,n,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}},"1f68":function(e,t,r){"use strict";var a=r("83ab"),n=r("edd0"),o=r("861d"),i=r("1787"),s=r("7b0b"),c=r("1d80"),u=Object.getPrototypeOf,l=Object.setPrototypeOf,f=Object.prototype,d="__proto__";if(a&&u&&l&&!(d in f))try{n(f,d,{configurable:!0,get:function(){return u(s(this))},set:function(e){var t=c(this);i(e)&&o(t)&&l(t,e)}})}catch(p){}},"23dc":function(e,t,r){"use strict";var a=r("d44e");a(Math,"Math",!0)},2532:function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),o=r("5a34"),i=r("1d80"),s=r("577e"),c=r("ab13"),u=n("".indexOf);a({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(i(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},3410:function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),o=r("7b0b"),i=r("e163"),s=r("e177"),c=n((function(){i(1)}));a({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(e){return i(o(e))}})},3835:function(e,t,r){"use strict";function a(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d28b"),r("14d9"),r("d3b7"),r("3ca3"),r("ddb0");function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=o.call(r)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(e){u=!0,n=e}finally{try{if(!c&&null!=r["return"]&&(i=r["return"](),Object(i)!==i))return}finally{if(u)throw n}}return s}}var o=r("06c5");r("d9e2");function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return a(e)||n(e,t)||Object(o["a"])(e,t)||i()}},"408a":function(e,t,r){"use strict";var a=r("e330");e.exports=a(1..valueOf)},"44e7":function(e,t,r){"use strict";var a=r("861d"),n=r("c6b6"),o=r("b622"),i=o("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"===n(e))}},"498a":function(e,t,r){"use strict";var a=r("23e7"),n=r("58a8").trim,o=r("c8d2");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},5319:function(e,t,r){"use strict";var a=r("2ba4"),n=r("c65b"),o=r("e330"),i=r("d784"),s=r("d039"),c=r("825a"),u=r("1626"),l=r("7234"),f=r("5926"),d=r("50c4"),p=r("577e"),h=r("1d80"),b=r("8aa5"),m=r("dc4a"),g=r("0cb2"),v=r("14c3"),y=r("b622"),w=y("replace"),x=Math.max,T=Math.min,N=o([].concat),O=o([].push),_=o("".indexOf),k=o("".slice),I=function(e){return void 0===e?e:String(e)},S=function(){return"$0"==="a".replace(/./,"$0")}(),M=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),L=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,t,r){var o=M?"$":"$0";return[function(e,r){var a=h(this),o=l(e)?void 0:m(e,w);return o?n(o,e,a,r):n(t,p(a),e,r)},function(e,n){var i=c(this),s=p(e);if("string"==typeof n&&-1===_(n,o)&&-1===_(n,"$<")){var l=r(t,i,s,n);if(l.done)return l.value}var h=u(n);h||(n=p(n));var m,y=i.global;y&&(m=i.unicode,i.lastIndex=0);var w,S=[];while(1){if(w=v(i,s),null===w)break;if(O(S,w),!y)break;var M=p(w[0]);""===M&&(i.lastIndex=b(s,d(i.lastIndex),m))}for(var L="",R=0,E=0;E<S.length;E++){w=S[E];for(var j,P=p(w[0]),D=x(T(f(w.index),s.length),0),z=[],$=1;$<w.length;$++)O(z,I(w[$]));var C=w.groups;if(h){var A=N([P],z,D,s);void 0!==C&&O(A,C),j=p(a(n,void 0,A))}else j=g(P,s,D,z,C,n);D>=R&&(L+=k(s,R,D)+j,R=D+P.length)}return L+k(s,R)}]}),!L||!S||M)},"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}},5899:function(e,t,r){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){"use strict";var a=r("e330"),n=r("1d80"),o=r("577e"),i=r("5899"),s=a("".replace),c=RegExp("^["+i+"]+"),u=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(e){return function(t){var r=o(n(t));return 1&e&&(r=s(r,c,"")),2&e&&(r=s(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5a34":function(e,t,r){"use strict";var a=r("44e7"),n=TypeError;e.exports=function(e){if(a(e))throw new n("The method doesn't accept regular expressions");return e}},7252:function(e,t,r){"use strict";e.exports=function(e){if("number"!==typeof e)throw new TypeError("Expected a number");var t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3}}},"7d78":function(e,t,r){"use strict";r("caad"),r("2532");var a=function(){var e=this,t=e._self._c;return t("div",{style:{padding:"1px 1px",height:"100%"}},[t("Row",[e.alertInfo.show?t("Alert",{attrs:{type:"warning","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),e.alertInfo.successShow?t("Alert",{attrs:{type:"success","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),e.replicationType===e.meta.replicationTypeEnum.DB_TO_DB?t("div",[t("Col",{attrs:{span:"12"}},[t("Row",{staticStyle:{"margin-right":"20px"}},[t("Divider",[e._v("1. 选择同步方向")]),t("Col",{attrs:{span:"11"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 源 region ")]},proxy:!0}],null,!1,2156775476)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.srcRegionName,callback:function(t){e.$set(e.formItem,"srcRegionName",t)},expression:"formItem.srcRegionName"}},e._l(e.meta.regionOptions,(function(r){return t("Option",{key:r,attrs:{value:r,label:r}},[e._v(" "+e._s(r)+" ")])})),1)],1)],1),t("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t("Button",{attrs:{size:"small",shape:"circle",type:"default",loading:e.dataLoading},on:{click:e.getRegionOptions}},[e._v(" -> ")])],1),t("Col",{attrs:{span:"11"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 目标 region ")]},proxy:!0}],null,!1,4278622733)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.dstRegionName,callback:function(t){e.$set(e.formItem,"dstRegionName",t)},expression:"formItem.dstRegionName"}},e._l(e.meta.regionOptions,(function(r){return t("Option",{key:r,attrs:{value:r,label:r}},[e._v(" "+e._s(r)+" ")])})),1)],1)],1)],1)],1),t("Col",{attrs:{span:"12"}},[t("Row",[t("Divider",[e._v("2. 预览：同步集群")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbMhaTableLoading},on:{click:e.getDalInfo}},[e._v(" 检查同步集群 ")]),t("Table",{attrs:{size:"small",loading:e.table.dbMhaTableLoading,stripe:"",columns:e.table.dbMhaTableColumn,data:e.preCheckMhaReplicationPage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.previewDataList.length,current:e.table.dbMhaTablePage.current,"page-size-opts":e.table.dbMhaTablePage.pageSizeOpts,"page-size":e.table.dbMhaTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbMhaTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbMhaTablePage.size=t}}})],1)],1)],1)],1):e._e(),[e.meta.replicationTypeEnum.DB_TO_MQ,e.meta.replicationTypeEnum.DB_TO_KAFKA].includes(e.replicationType)?t("div",[t("Col",{attrs:{span:"12"}},[t("Row",{staticStyle:{"margin-right":"20px"}},[t("Divider",[e._v("1. 选择消息投递Region")]),t("Col",{attrs:{span:"24"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 源 region "),t("Button",{staticStyle:{"margin-left":"50px"},attrs:{size:"small",shape:"circle",type:"default",loading:e.dataLoading},on:{click:e.getRegionOptions}},[e._v("刷新 ")])]},proxy:!0}],null,!1,1193028979)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.srcRegionName,callback:function(t){e.$set(e.formItem,"srcRegionName",t)},expression:"formItem.srcRegionName"}},e._l(e.meta.regionOptions,(function(r){return t("Option",{key:r,attrs:{value:r,label:r}},[e._v(" "+e._s(r)+" ")])})),1)],1)],1)],1)],1),t("Col",{attrs:{span:"12"}},[t("Row",[t("Divider",[e._v("2. 预览：消息投递集群")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbMhaTableLoading},on:{click:e.getDalInfo}},[e._v(" 检查同步集群 ")]),t("Table",{attrs:{size:"small",loading:e.table.dbMhaTableLoading,stripe:"",columns:e.table.dbMhaMqTableColumn,data:e.preCheckMhaReplicationPage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.previewDataList.length,current:e.table.dbMhaTablePage.current,"page-size-opts":e.table.dbMhaTablePage.pageSizeOpts,"page-size":e.table.dbMhaTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbMhaTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbMhaTablePage.size=t}}})],1)],1)],1)],1):e._e()],1),t("Divider"),t("Button",{attrs:{loading:e.dataLoading,type:"primary"},on:{click:e.createReplication}},[e._v("提交")])],1)},n=[],o=r("2909"),i=r("c7eb"),s=r("1da1"),c=(r("fb6a"),r("b0c0"),r("a9e3"),r("d3b7"),{name:"mhaPreview",components:{},props:{replicationType:Number,dbName:String,existReplicationRegionOptions:Array},emits:["updated"],data:function(){return{meta:{regionOptions:[],existReplicationRegionOptions:[],replicationTypeEnum:this.constant.replicationType},alertInfo:{show:!1,successShow:!1,title:null,message:null},formItem:{srcRegionName:null,dstRegionName:null},dataLoading:!1,constants:{DAL_CLUSTER_MODE:1},previewDataList:[],table:{dbMhaTableLoading:!1,dbMhaTableColumn:[{title:"DB名",key:"dbName"},{title:"源集群",key:"srcMhaName",render:function(e,t){var r=t.row,a=r.srcMha;if(null!=a)return e("div",[e("span",a.name),e("span",{style:{float:"right",color:"#ababab"}},a.regionName+"("+a.dcName+")")])}},{title:"目标集群",key:"dstMhaName",render:function(e,t){var r=t.row,a=r.dstMha;if(null!=a)return e("div",[e("span",a.name),e("span",{style:{float:"right",color:"#ababab"}},a.regionName+"("+a.dcName+")")])}}],dbMhaMqTableColumn:[{title:"DB名",key:"dbName"},{title:"源集群",key:"srcMhaName",render:function(e,t){var r=t.row,a=r.srcMha;if(null!=a)return e("div",[e("span",a.name),e("span",{style:{float:"right",color:"#ababab"}},a.regionName+"("+a.dcName+")")])}}],dbMhaTablePage:{total:0,current:1,size:5,pageSizeOpts:[5,10,20,100]}}}},methods:{getRegionOptions:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataLoading=!0,e.meta.regionOptions=[],t.next=4,e.axios.get("/api/drc/v2/autoconfig/regionOptions",{params:{mode:e.constants.DAL_CLUSTER_MODE,dbName:e.dbName}}).then((function(t){var r=t.data.data,a=r&&0===t.data.status;a?(e.meta.regionOptions=r,-1===r.indexOf(e.formItem.srcRegionName)&&(e.formItem.srcRegionName=null),-1===r.indexOf(e.formItem.dstRegionName)&&(e.formItem.dstRegionName=null)):(e.formItem.srcRegionName=null,e.formItem.dstRegionName=null,e.$Message.warning("查询可选地域失败"))})).catch((function(t){e.$Message.error("查询可选地域失败: "+t)})).finally((function(){e.dataLoading=!1}));case 4:case"end":return t.stop()}}),t)})))()},getDalInfo:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.previewDataList=[],e.table.dbMhaTablePage.current=1,e.table.dbMhaTableLoading=!0,t.next=5,e.axios.get("/api/drc/v2/autoconfig/preCheck",{params:{mode:e.constants.DAL_CLUSTER_MODE,dbName:e.dbName,srcRegionName:e.formItem.srcRegionName,dstRegionName:e.formItem.dstRegionName,replicationType:e.replicationType}}).then((function(t){var r=t.data.data,a=r&&0===t.data.status;a?(e.previewDataList=r,console.log("total: "+e.previewDataList.length),e.$Message.success("同步集群检测成功, 共找到 "+r.length+" 个DB")):e.$Message.warning("同步集群检测失败："+t.data.message)})).catch((function(t){e.$Message.error("查询dalcluster异常: "+t)})).finally((function(){e.table.dbMhaTableLoading=!1}));case 5:case"end":return t.stop()}}),t)})))()},createReplication:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var r,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={srcRegionName:e.formItem.srcRegionName,dstRegionName:e.formItem.dstRegionName,dbName:e.dbName,replicationType:e.replicationType},e.alertInfo.show=!1,e.alertInfo.successShow=!1,e.dataLoading=!0,console.log(e.meta.replicationTypeEnum),a=e.replicationType===e.meta.replicationTypeEnum.DB_TO_DB?"mhaDbReplication":"mhaDbReplicationForMq",t.next=8,e.axios.post("/api/drc/v2/autoconfig/"+a+"/create",r).then((function(t){var r=t.data,a=0===r.status;a?(e.alertInfo.successShow=!0,e.alertInfo.message=null,e.alertInfo.title="提交成功",e.$Message.warning("提交成功"),e.$emit("updated")):(e.alertInfo.show=!0,e.alertInfo.title="提交失败",e.alertInfo.message=r.message,e.$Message.warning("提交失败: "+r.message))})).catch((function(t){e.$Message.error("提交异常: "+t)})).finally((function(){e.dataLoading=!1}));case 8:case"end":return t.stop()}}),t)})))()},afterSwitchRegion:function(){return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},computed:{preCheckMhaReplicationPage:function(){var e=this.previewDataList,t=this.table.dbMhaTablePage.current*this.table.dbMhaTablePage.size-this.table.dbMhaTablePage.size,r=t+this.table.dbMhaTablePage.size;return Object(o["a"])(e).slice(t,r)}},created:function(){this.getRegionOptions()}}),u=c,l=r("2877"),f=Object(l["a"])(u,a,n,!1,null,"61432119",null);t["a"]=f.exports},"81d5":function(e,t,r){"use strict";var a=r("7b0b"),n=r("23cb"),o=r("07fa");e.exports=function(e){var t=a(this),r=o(t),i=arguments.length,s=n(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,u=void 0===c?r:n(c,r);while(u>s)t[s++]=e;return t}},"86aa":function(e){e.exports=JSON.parse('{"addendum":"addenda","aircraft":"aircraft","alga":"algae","alumna":"alumnae","alumnus":"alumni","amoeba":"amoebae","analysis":"analyses","antenna":"antennae","antithesis":"antitheses","apex":"apices","appendix":"appendices","automaton":"automata","axis":"axes","bacillus":"bacilli","bacterium":"bacteria","barracks":"barracks","basis":"bases","beau":"beaux","bison":"bison","buffalo":"buffalo","bureau":"bureaus","cactus":"cacti","calf":"calves","carp":"carp","census":"censuses","chassis":"chassis","cherub":"cherubim","child":"children","château":"châteaus","cod":"cod","codex":"codices","concerto":"concerti","corpus":"corpora","crisis":"crises","criterion":"criteria","curriculum":"curricula","datum":"data","deer":"deer","diagnosis":"diagnoses","die":"dice","dwarf":"dwarfs","echo":"echoes","elf":"elves","elk":"elk","ellipsis":"ellipses","embargo":"embargoes","emphasis":"emphases","erratum":"errata","faux pas":"faux pas","fez":"fezes","firmware":"firmware","fish":"fish","focus":"foci","foot":"feet","formula":"formulae","fungus":"fungi","gallows":"gallows","genus":"genera","goose":"geese","graffito":"graffiti","grouse":"grouse","half":"halves","hero":"heroes","hoof":"hooves","hovercraft":"hovercraft","hypothesis":"hypotheses","index":"indices","kakapo":"kakapo","knife":"knives","larva":"larvae","leaf":"leaves","libretto":"libretti","life":"lives","loaf":"loaves","locus":"loci","louse":"lice","man":"men","matrix":"matrices","means":"means","medium":"media","memorandum":"memoranda","millennium":"millennia","minutia":"minutiae","moose":"moose","mouse":"mice","nebula":"nebulae","nemesis":"nemeses","neurosis":"neuroses","news":"news","nucleus":"nuclei","oasis":"oases","offspring":"offspring","opus":"opera","ovum":"ova","ox":"oxen","paralysis":"paralyses","parenthesis":"parentheses","person":"people","phenomenon":"phenomena","phylum":"phyla","pike":"pike","polyhedron":"polyhedra","potato":"potatoes","prognosis":"prognoses","quiz":"quizzes","radius":"radii","referendum":"referenda","salmon":"salmon","scarf":"scarves","self":"selves","series":"series","sheep":"sheep","shelf":"shelves","shrimp":"shrimp","spacecraft":"spacecraft","species":"species","spectrum":"spectra","squid":"squid","stimulus":"stimuli","stratum":"strata","swine":"swine","syllabus":"syllabi","symposium":"symposia","synopsis":"synopses","synthesis":"syntheses","tableau":"tableaus","that":"those","thesis":"theses","thief":"thieves","this":"these","tomato":"tomatoes","tooth":"teeth","trout":"trout","tuna":"tuna","vertebra":"vertebrae","vertex":"vertices","veto":"vetoes","vita":"vitae","vortex":"vortices","watercraft":"watercraft","wharf":"wharves","wife":"wives","wolf":"wolves","woman":"women"}')},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},"944a":function(e,t,r){"use strict";var a=r("d066"),n=r("e065"),o=r("d44e");n("toStringTag"),o(a("Symbol"),"Symbol")},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("e330"),o=r("44ad"),i=r("fc6a"),s=r("a640"),c=n([].join),u=o!==Object,l=u||!s("join",",");a({target:"Array",proto:!0,forced:l},{join:function(e){return c(i(this),void 0===e?",":e)}})},a3b8:function(e,t,r){"use strict";const a=r("7252"),n=r("afa5");e.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError("Expected a finite number");if(t=t||{},e<1e3){const r="number"===typeof t.msDecimalDigits?t.msDecimalDigits:0;return(r?e.toFixed(r):Math.ceil(e))+(t.verbose?" "+n("millisecond",Math.ceil(e)):"ms")}const r=[],o=(e,a,o,i)=>{if(0===e)return;const s=t.verbose?" "+n(a,e):o;r.push((i||e)+s)},i=a(e);if(o(Math.trunc(i.days/365),"year","y"),o(i.days%365,"day","d"),o(i.hours,"hour","h"),o(i.minutes,"minute","m"),t.compact)return o(i.seconds,"second","s"),"~"+r[0];const s=e/1e3%60,c="number"===typeof t.secDecimalDigits?t.secDecimalDigits:1,u=s.toFixed(c).replace(/\.0$/,"");return o(s,"second","s",u),r.join(" ")}},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){return 1},1)}))}},a9e3:function(e,t,r){"use strict";var a=r("23e7"),n=r("c430"),o=r("83ab"),i=r("cfe9"),s=r("428f"),c=r("e330"),u=r("94ca"),l=r("1a2d"),f=r("7156"),d=r("3a9b"),p=r("d9b5"),h=r("c04e"),b=r("d039"),m=r("241c").f,g=r("06cf").f,v=r("9bf2").f,y=r("408a"),w=r("58a8").trim,x="Number",T=i[x],N=s[x],O=T.prototype,_=i.TypeError,k=c("".slice),I=c("".charCodeAt),S=function(e){var t=h(e,"number");return"bigint"==typeof t?t:M(t)},M=function(e){var t,r,a,n,o,i,s,c,u=h(e,"number");if(p(u))throw new _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=w(u),t=I(u,0),43===t||45===t){if(r=I(u,2),88===r||120===r)return NaN}else if(48===t){switch(I(u,1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(o=k(u,2),i=o.length,s=0;s<i;s++)if(c=I(o,s),c<48||c>n)return NaN;return parseInt(o,a)}return+u},L=u(x,!T(" 0o1")||!T("0b1")||T("+0x1")),R=function(e){return d(O,e)&&b((function(){y(e)}))},E=function(e){var t=arguments.length<1?0:T(S(e));return R(this)?f(Object(t),this,E):t};E.prototype=O,L&&!n&&(O.constructor=E),a({global:!0,constructor:!0,wrap:!0,forced:L},{Number:E});var j=function(e,t){for(var r,a=o?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0;a.length>n;n++)l(t,r=a[n])&&!l(e,r)&&v(e,r,g(t,r))};n&&N&&j(s[x],N),(L||n)&&j(s[x],T)},ab13:function(e,t,r){"use strict";var a=r("b622"),n=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(a){}}return!1}},afa5:function(e,t,r){"use strict";var a=r("86aa");e.exports=function(e,t,r){return"number"===typeof t&&(r=t),e in a?t=a[e]:"string"!==typeof t&&(t=(e.replace(/(?:s|x|z|ch|sh)$/i,"$&e").replace(/([^aeiou])y$/i,"$1ie")+"s").replace(/i?e?s$/i,(function(t){var r=e.slice(-1)===e.slice(-1).toLowerCase();return r?t.toLowerCase():t.toUpperCase()}))),1===r?e:t}},b636:function(e,t,r){"use strict";var a=r("e065");a("asyncIterator")},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d28b"),r("d9e2"),r("d3b7"),r("3ca3"),r("ddb0");var a=r("06c5");function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(a["a"])(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw i}}}}},c7eb:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("b636"),r("d28b"),r("944a"),r("d9e2"),r("14d9"),r("fb6a"),r("b0c0"),r("0c47"),r("23dc"),r("3410"),r("1f68"),r("131a"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0");var a=r("53ca");function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
n=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function d(e,t,r,a){var n=t&&t.prototype instanceof y?t:y,o=Object.create(n.prototype),s=new E(a||[]);return i(o,"_invoke",{value:S(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",b="suspendedYield",m="executing",g="completed",v={};function y(){}function w(){}function x(){}var T={};f(T,c,(function(){return this}));var N=Object.getPrototypeOf,O=N&&N(N(j([])));O&&O!==r&&o.call(O,c)&&(T=O);var _=x.prototype=y.prototype=Object.create(T);function k(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(n,i,s,c){var u=p(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Object(a["a"])(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var n;i(this,"_invoke",{value:function(e,a){function o(){return new t((function(t,n){r(e,a,t,n)}))}return n=n?n.then(o,o):o()}})}function S(t,r,a){var n=h;return function(o,i){if(n===m)throw Error("Generator is already running");if(n===g){if("throw"===o)throw i;return{value:e,done:!0}}for(a.method=o,a.arg=i;;){var s=a.delegate;if(s){var c=M(s,a);if(c){if(c===v)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===h)throw n=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=m;var u=p(t,r,a);if("normal"===u.type){if(n=a.done?g:b,u.arg===v)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(n=g,a.method="throw",a.arg=u.arg)}}}function M(t,r){var a=r.method,n=t.iterator[a];if(n===e)return r.delegate=null,"throw"===a&&t.iterator["return"]&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==a&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+a+"' method")),v;var o=p(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Object(a["a"])(t)+" is not iterable")}return w.prototype=x,i(_,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),f(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,a,n,o){void 0===o&&(o=Promise);var i=new I(d(e,r,a,n),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(_),f(_,l,"Generator"),f(_,c,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(a,n){return s.type="throw",s.arg=t,r.next=a,n&&(r.method="next",r.arg=e),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=e,i.arg=t,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;R(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,a){return this.delegate={iterator:j(t),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=e),v}},t}},c8d2:function(e,t,r){"use strict";var a=r("5e77").PROPER,n=r("d039"),o=r("5899"),i="​᠎";e.exports=function(e){return n((function(){return!!o[e]()||i[e]()!==i||a&&o[e].name!==e}))}},cb29:function(e,t,r){"use strict";var a=r("23e7"),n=r("81d5"),o=r("44d2");a({target:"Array",proto:!0},{fill:n}),o("fill")},d784:function(e,t,r){"use strict";r("ac1f");var a=r("c65b"),n=r("cb2d"),o=r("9263"),i=r("d039"),s=r("b622"),c=r("9112"),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,f){var d=s(e),p=!i((function(){var t={};return t[d]=function(){return 7},7!==""[e](t)})),h=p&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!h||r){var b=/./[d],m=t(d,""[e],(function(e,t,r,n,i){var s=t.exec;return s===o||s===l.exec?p&&!i?{done:!0,value:a(b,t,r,n)}:{done:!0,value:a(e,r,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(l,d,m[1])}f&&c(l[d],"sham",!0)}},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),i=o("map");a({target:"Array",proto:!0,forced:!i},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},efa3:function(e,t,r){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{style:{padding:"1px 1px",height:"100%"}},[t("Divider",{staticStyle:{"margin-top":"50px"}},[e._v("预览：同步表")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.dbTableLoading},on:{click:e.getTableInfo}},[e._v(" 检查同步表 ")]),t("Table",{attrs:{size:"small",loading:e.dbTableLoading,stripe:"",columns:e.table.dbTableColumn,data:e.preCheckTablePage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.checkTableDataList.length,current:e.table.dbTablePage.current,"page-size-opts":e.table.dbTablePage.pageSizeOpts,"page-size":e.table.dbTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbTablePage,"current",t)},"on-change":function(t){e.table.dbTablePage.current=t},"on-page-size-change":function(t){e.table.dbTablePage.size=t}}})],1)],1)},n=[],o=r("2909"),i=r("53ca"),s=r("c7eb"),c=r("3835"),u=r("b85c"),l=r("1da1"),f=(r("fb6a"),r("a9e3"),r("d3b7"),r("498a"),r("ddb0"),{name:"dbTablesPreview",props:{mode:Number,dbName:String,srcRegionName:String,dstRegionName:String,tableNames:String,replicationType:Number},emits:["updated"],data:function(){return{checkTableDataList:[],dbTableLoading:!1,table:{dbTableColumn:[{title:"序",width:50,key:"indexForShow"},{title:"库名",key:"schema",resizable:!0},{title:"表名",key:"table",resizable:!0},{title:"结果",align:"center",render:function(e,t){var r=t.row,a="ok"!==r.res?"volcano":"green",n=r.res;return e("Tag",{props:{color:a}},n)}}],dbTablePage:{total:0,current:1,size:10,pageSizeOpts:[5,10,20,100]}}}},methods:{getTableInfo:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkTableDataList=[],e.table.dbTablePage.current=1,1!==e.mode){t.next=8;break}if(e.dalClusterName){t.next=6;break}return e.$Message.warning("请先填写 dalcluster"),t.abrupt("return");case 6:t.next=11;break;case 8:if(e.dbName){t.next=11;break}return e.$Message.warning("请先填写数据库"),t.abrupt("return");case 11:if(e.srcRegionName&&(0!==e.replicationType||e.dstRegionName)){t.next=14;break}return e.$Message.warning("请先填写同步方向"),t.abrupt("return");case 14:if(e.tableNames){t.next=17;break}return e.$Message.warning("请先填写表名"),t.abrupt("return");case 17:return e.dbTableLoading=!0,t.next=20,e.axios.get("/api/drc/v2/autoconfig/preCheckTable",{params:e.flattenObj({mode:e.mode,dbName:e.dbName,srcRegionName:e.srcRegionName,dstRegionName:e.dstRegionName,replicationType:e.replicationType,tblsFilterDetail:{tableNames:e.tableNames}})}).then((function(t){var r=t.data.data;if(r){var a,n=Object(u["a"])(r.entries());try{for(n.s();!(a=n.n()).done;){var o=Object(c["a"])(a.value,2),i=o[0],s=o[1];s.indexForShow=i}}catch(l){n.e(l)}finally{n.f()}e.checkTableDataList=r,e.$Message.success("同步表检测成功, 共找到 "+r.length+" 个表")}else e.$Message.warning("同步表检测失败："+t.data.message)})).catch((function(t){e.$Message.error("查询dalcluster异常: "+t)})).finally((function(){e.dbTableLoading=!1}));case 20:case"end":return t.stop()}}),t)})))()},flattenObj:function(e){var t={};for(var r in e)if("object"!==Object(i["a"])(e[r])||Array.isArray(e[r]))t[r]=e[r];else{var a=this.flattenObj(e[r]);for(var n in a)t[r+"."+n]=a[n]}return t}},computed:{preCheckTablePage:function(){var e=this.checkTableDataList,t=(this.table.dbTablePage.current-1)*this.table.dbTablePage.size,r=t+this.table.dbTablePage.size;return Object(o["a"])(e).slice(t,r)}},created:function(){this.tableNames&&this.tableNames.trim().length>0&&this.getTableInfo()}}),d=f,p=r("2877"),h=Object(p["a"])(d,a,n,!1,null,"647b2baf",null);t["a"]=h.exports}}]);
//# sourceMappingURL=chunk-7e7167da.7e1a7cd3.js.map