{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/parse-ms/index.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/pretty-ms/index.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/plur/index.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/v2/meta/mhaReplicationDetails.vue?6878","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///./src/views/v2/meta/mhaReplicationDetails.vue","webpack:///src/views/v2/meta/mhaReplicationDetails.vue","webpack:///./src/views/v2/meta/mhaReplicationDetails.vue?f062","webpack:///./src/views/v2/meta/mhaReplicationDetails.vue?cf22"],"names":["classof","toIndexedObject","$getOwnPropertyNames","f","arraySlice","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","module","exports","isCallable","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","ms","TypeError","roundTowardZero","Math","floor","ceil","days","hours","minutes","seconds","milliseconds","uncurryThis","requireObjectCoercible","toString","quot","replace","string","tag","attribute","value","S","p1","$","createHTML","forcedStringHTMLMethod","target","proto","forced","link","url","this","parseMs","plur","opts","Number","isFinite","msDecimalDigits","toFixed","verbose","ret","add","val","long","short","valStr","postfix","push","parsed","trunc","compact","sec","secDecimalDigits","secStr","join","fails","METHOD_NAME","test","toLowerCase","split","length","irregularPlurals","str","plural","count","m","isTailLowerCase","slice","toUpperCase","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineBuiltInAccessor","FunctionPrototype","Function","functionToString","nameRE","regExpExec","exec","NAME","configurable","get","fixed","render","_vm","_c","_self","attrs","on","$event","showMore","queryParam","mhaNames","model","callback","$$v","$set","expression","dataLoading","_v","ref","staticStyle","graphData","isShowNodeMenuPanel","isShowNodeTipsPanel","nodeMenuPanelPosition","graphOptions","onNodeClick","onLineClick","scopedSlots","_u","key","fn","_ref","node","_s","data","mha","regionName","name","style","left","x","top","y","staticClass","current","buName","_e","directives","rawName","linkMenuPanelPosition","srcMha","dstMha","_l","operations","item","index","stopPropagation","method","replicationId","text","staticRenderFns","components","props","mhaIdList","Array","mhaNameList","graphInit","graph","currentLink","mhaNameRequested","Set","mhaNameShown","replicationIdShown","rootId","nodes","lines","clear","reset","isEmpty","appendNode","has","id","width","height","styleClass","appendLine","replication","from","to","selected","color","appendDataToGraph","queryAll","_this","appendJsonData","graphInstance","console","log","setJsonData","deepenClickedNode","hasShow","mhaName","nodeObject","_this2","getNodes","forEach","e","defaultLineColor","defaultLineWidth","defaultNodeBorderWidth","defaultNodeShape","defaultNodeBorderColor","defaultNodeColor","allowSwitchLineShape","allowSwitchNodeShape","checkedLineColor","defaultLineShape","moveToCenterWhenRefresh","useAnimationWhenRefresh","layouts","label","layoutName","layoutClassName","defaultJunctionPoint","mounted","$refs","seeksRelationGraph","methods","_this3","filteredNameList","filter","reqParam","relatedMhaNames","axios","params","then","response","replications","emptyResult","isArray","$Message","info","success","getDelay","catch","message","finally","_this4","param","replicationIds","map","delays","dataMap","Map","delay","allLinks","getLinks","relations","line","repli","lineColor","prettyMilliseconds","getInstance","dataUpdated","_this5","$copyText","showNodeTips","lineObject","linkObject","showLineMenus","_this6","basePosition","myPage","getBoundingClientRect","clientX","clientY","setTimeout","hideNodeTips","component"],"mappings":"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","file":"js/chunk-3840f896.310b0c05.js","sourcesContent":["'use strict';\n/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) === 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nmodule.exports = function (ms) {\n\tif (typeof ms !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tvar roundTowardZero = ms > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardZero(ms / 86400000),\n\t\thours: roundTowardZero(ms / 3600000) % 24,\n\t\tminutes: roundTowardZero(ms / 60000) % 60,\n\t\tseconds: roundTowardZero(ms / 1000) % 60,\n\t\tmilliseconds: roundTowardZero(ms) % 1000\n\t};\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\n\nvar quot = /\"/g;\nvar replace = uncurryThis(''.replace);\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = toString(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + replace(toString(value), quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nconst parseMs = require('parse-ms');\nconst plur = require('plur');\n\nmodule.exports = (ms, opts) => {\n\tif (!Number.isFinite(ms)) {\n\t\tthrow new TypeError('Expected a finite number');\n\t}\n\n\topts = opts || {};\n\n\tif (ms < 1000) {\n\t\tconst msDecimalDigits = typeof opts.msDecimalDigits === 'number' ? opts.msDecimalDigits : 0;\n\t\treturn (msDecimalDigits ? ms.toFixed(msDecimalDigits) : Math.ceil(ms)) + (opts.verbose ? ' ' + plur('millisecond', Math.ceil(ms)) : 'ms');\n\t}\n\n\tconst ret = [];\n\n\tconst add = (val, long, short, valStr) => {\n\t\tif (val === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst postfix = opts.verbose ? ' ' + plur(long, val) : short;\n\n\t\tret.push((valStr || val) + postfix);\n\t};\n\n\tconst parsed = parseMs(ms);\n\n\tadd(Math.trunc(parsed.days / 365), 'year', 'y');\n\tadd(parsed.days % 365, 'day', 'd');\n\tadd(parsed.hours, 'hour', 'h');\n\tadd(parsed.minutes, 'minute', 'm');\n\n\tif (opts.compact) {\n\t\tadd(parsed.seconds, 'second', 's');\n\t\treturn '~' + ret[0];\n\t}\n\n\tconst sec = ms / 1000 % 60;\n\tconst secDecimalDigits = typeof opts.secDecimalDigits === 'number' ? opts.secDecimalDigits : 1;\n\tconst secStr = sec.toFixed(secDecimalDigits).replace(/\\.0$/, '');\n\tadd(sec, 'second', 's', secStr);\n\n\treturn ret.join(' ');\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar irregularPlurals = require('irregular-plurals');\n\nmodule.exports = function (str, plural, count) {\n\tif (typeof plural === 'number') {\n\t\tcount = plural;\n\t}\n\n\tif (str in irregularPlurals) {\n\t\tplural = irregularPlurals[str];\n\t} else if (typeof plural !== 'string') {\n\t\tplural = (str.replace(/(?:s|x|z|ch|sh)$/i, '$&e').replace(/([^aeiou])y$/i, '$1ie') + 's')\n\t\t\t.replace(/i?e?s$/i, function (m) {\n\t\t\t\tvar isTailLowerCase = str.slice(-1) === str.slice(-1).toLowerCase();\n\t\t\t\treturn isTailLowerCase ? m.toLowerCase() : m.toUpperCase();\n\t\t\t});\n\t}\n\n\treturn count === 1 ? str : plural;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineBuiltInAccessor(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationDetails.vue?vue&type=style&index=0&id=732eec18&prod&lang=scss\"","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.es/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"span\":\"10\"}},[_c('Input',{attrs:{\"prefix\":\"ios-search\",\"placeholder\":\"请输入集群名\"},on:{\"on-enter\":function($event){return _vm.showMore([_vm.queryParam.mhaNames], true)}},model:{value:(_vm.queryParam.mhaNames),callback:function ($$v) {_vm.$set(_vm.queryParam, \"mhaNames\", $$v)},expression:\"queryParam.mhaNames\"}})],1),_c('Col',{attrs:{\"span\":\"10\"}},[_c('Col',{attrs:{\"span\":\"3\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\",\"loading\":_vm.dataLoading},on:{\"click\":function($event){return _vm.showMore([_vm.queryParam.mhaNames], true)}}},[_vm._v(\"查询所有\")])],1)],1)],1),_c('div',{ref:\"myPage\",staticStyle:{\"height\":\"calc(100vh - 35vh)\",\"width\":\"calc(100vw - 20vw)\"},on:{\"click\":function($event){_vm.graphData.isShowNodeMenuPanel = false; _vm.graphData.isShowNodeTipsPanel = false; _vm.graphData.nodeMenuPanelPosition.fixed = false}}},[_c('RelationGraph',{ref:\"seeksRelationGraph\",attrs:{\"options\":_vm.graphOptions,\"on-node-click\":_vm.onNodeClick,\"on-line-click\":_vm.onLineClick},scopedSlots:_vm._u([{key:\"node\",fn:function({node}){return _c('div',{},[_c('Tag',{staticStyle:{\"position\":\"absolute\",\"width\":\"auto\",\"height\":\"25px\",\"margin-top\":\"-10px\",\"margin-left\":\"15px\",\"text-align\":\"center\",\"font-size\":\"15px\"},attrs:{\"color\":\"success\"}},[_vm._v(_vm._s(node.data.mha.regionName))]),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"position\":\"absolute\",\"width\":\"auto\",\"height\":\"auto\",\"left\":\"50%\",\"top\":\"50%\",\"-webkit-transform\":\"translate(-50%, -50%)\",\"transform\":\"translate(-50%, -50%)\",\"text-align\":\"center\"}},[_vm._v(_vm._s(node.data.mha.name))])],1)}}])})],1),(_vm.graphData.isShowNodeTipsPanel)?_c('div',{staticStyle:{\"z-index\":\"999\",\"padding\":\"10px\",\"background-color\":\"#ffffff\",\"border\":\"#eeeeee solid 1px\",\"box-shadow\":\"0px 0px 8px #cccccc\",\"position\":\"absolute\"},style:({left: _vm.graphData.nodeMenuPanelPosition.x + 'px', top: _vm.graphData.nodeMenuPanelPosition.y + 'px' })},[_c('div',{staticClass:\"c-node-menu-item\"},[_vm._v(\"名称: \"+_vm._s(_vm.current.node.mha.name))]),_c('div',{staticClass:\"c-node-menu-item\"},[_vm._v(\"部门: \"+_vm._s(_vm.current.node.mha.buName))]),_c('div',{staticClass:\"c-node-menu-item\"},[_vm._v(\"地域: \"+_vm._s(_vm.current.node.mha.regionName))])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.graphData.isShowNodeMenuPanel),expression:\"graphData.isShowNodeMenuPanel\"}],staticStyle:{\"z-index\":\"999\",\"padding\":\"10px\",\"background-color\":\"#ffffff\",\"border\":\"#eeeeee solid 1px\",\"box-shadow\":\"0px 0px 8px #cccccc\",\"position\":\"absolute\"},style:({left: _vm.graphData.linkMenuPanelPosition.x + 'px', top: _vm.graphData.linkMenuPanelPosition.y + 'px' })},[_c('div',{staticStyle:{\"line-height\":\"25px\",\"padding-left\":\"10px\",\"color\":\"#888888\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.current.link.srcMha.name +' -> '+_vm.current.link.dstMha.name))]),_c('div',{staticStyle:{\"line-height\":\"25px\",\"padding-left\":\"10px\",\"color\":\"#888888\",\"font-size\":\"12px\"}},[_vm._v(\"操作:\")]),_c('div',{attrs:{\"id\":\"operationsDiv\"}},_vm._l((_vm.operations),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"c-node-menu-item\",on:{\"click\":function($event){$event.stopPropagation();return item.method(_vm.current.link.srcMha.name, _vm.current.link.dstMha.name, _vm.current.link.replicationId)}}},[_vm._v(_vm._s(item.text))])])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n\n    <Row :gutter=10>\n      <Col span=\"10\">\n        <Input prefix=\"ios-search\" v-model=\"queryParam.mhaNames\" placeholder=\"请输入集群名\"\n               @on-enter=\"showMore([queryParam.mhaNames], true)\">\n        </Input>\n      </Col>\n      <Col span=\"10\">\n        <Col span=\"3\">\n          <Button type=\"primary\" icon=\"ios-search\" :loading=\"dataLoading\" @click=\"showMore([queryParam.mhaNames], true)\">查询所有</Button>\n        </Col>\n      </Col>\n    </Row>\n    <div ref=\"myPage\" style=\"height:calc(100vh - 35vh);width: calc(100vw - 20vw)\" @click=\"graphData.isShowNodeMenuPanel = false; graphData.isShowNodeTipsPanel = false; graphData.nodeMenuPanelPosition.fixed = false\">\n      <RelationGraph\n        ref=\"seeksRelationGraph\"\n        :options=\"graphOptions\"\n        :on-node-click=\"onNodeClick\"\n        :on-line-click=\"onLineClick\"\n      >\n        <div slot=\"node\" slot-scope=\"{node}\">\n<!--          <div style=\"color: #ffffff;font-size: 16px;position: absolute;width: auto;height:25px;line-height: 25px;margin-top:5px;margin-left:0px;text-align: center;background-color: rgb(0,80,41);\">-->\n<!--            {{ node.data.mha.regionName }}-->\n<!--          </div>-->\n          <Tag  color=\"success\" style=\"position: absolute;width: auto;height:25px;margin-top:-10px;margin-left:15px;text-align: center;font-size: 15px\">{{ node.data.mha.regionName }}</Tag>\n          <div style=\" font-weight:bold; position: absolute;width: auto;height:auto;left:50%;top:50%;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);text-align: center;\">{{ node.data.mha.name }}</div>\n        </div>\n      </RelationGraph>\n    </div>\n\n    <div v-if=\"graphData.isShowNodeTipsPanel\" :style=\"{left: graphData.nodeMenuPanelPosition.x + 'px', top: graphData.nodeMenuPanelPosition.y + 'px' }\" style=\"z-index: 999;padding:10px;background-color: #ffffff;border:#eeeeee solid 1px;box-shadow: 0px 0px 8px #cccccc;position: absolute;\">\n      <div class=\"c-node-menu-item\">名称: {{current.node.mha.name}}</div>\n      <div class=\"c-node-menu-item\">部门: {{current.node.mha.buName}}</div>\n      <div class=\"c-node-menu-item\">地域: {{current.node.mha.regionName}}</div>\n    </div>\n\n    <div v-show=\"graphData.isShowNodeMenuPanel\" :style=\"{left: graphData.linkMenuPanelPosition.x + 'px', top: graphData.linkMenuPanelPosition.y + 'px' }\" style=\"z-index: 999;padding:10px;background-color: #ffffff;border:#eeeeee solid 1px;box-shadow: 0px 0px 8px #cccccc;position: absolute;\">\n      <div style=\"line-height: 25px;padding-left: 10px;color: #888888;font-size: 12px;\">{{current.link.srcMha.name +' -> '+current.link.dstMha.name}}</div>\n      <div style=\"line-height: 25px;padding-left: 10px;color: #888888;font-size: 12px;\">操作:</div>\n      <div id=\"operationsDiv\">\n        <div v-for=\"(item, index) in operations\" :key=\"index\">\n          <div class=\"c-node-menu-item\" @click.stop=\"item.method(current.link.srcMha.name, current.link.dstMha.name, current.link.replicationId)\">{{ item.text }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport prettyMilliseconds from 'pretty-ms'\n\nexport default {\n  name: 'MhaGraph',\n  components: {},\n  props: {\n    mhaIdList: Array,\n    mhaNameList: Array,\n    operations: Array\n  },\n  data () {\n    return {\n      dataLoading: false,\n      graphData: {\n        graphInit: false,\n        graph: null,\n        currentLink: null,\n        mhaNameRequested: new Set(),\n        mhaNameShown: new Set(),\n        replicationIdShown: new Set(),\n        isShowNodeMenuPanel: false,\n        isShowNodeTipsPanel: false,\n        nodeMenuPanelPosition: { x: 0, y: 0, fixed: false },\n        linkMenuPanelPosition: { x: 0, y: 0 },\n        rootId: '',\n        nodes: [\n          // { id: '3365', text: '节点-1', myicon: 'el-icon-star-on' },\n          // { id: '2', text: '节点-2', myicon: 'el-icon-setting' }\n        ],\n        lines: [\n          // { from: '3365', to: '2', text: '投资 双向' },\n          // { from: '2', to: '3365', text: '投资 双向' }\n        ],\n        clear: function () {\n          this.nodes = []\n          this.lines = []\n        },\n        reset: function () {\n          this.graphInit = false\n          this.mhaNameRequested.clear()\n          this.mhaNameShown.clear()\n          this.replicationIdShown.clear()\n          this.nodes = []\n          this.lines = []\n        },\n        isEmpty: function () {\n          return this.nodes == null || this.lines == null || this.nodes.length === 0 || this.lines.length === 0\n        },\n        appendNode: function (mha) {\n          if (!this.mhaNameShown.has(mha.name + '')) {\n            this.mhaNameShown.add(mha.name + '')\n            this.nodes.push({\n              id: mha.id + '',\n              text: mha.name + '\\n' + mha.regionName,\n              data: {\n                mha: mha\n              },\n              width: 100,\n              height: 100,\n              styleClass: 'c-g-center'\n            })\n          }\n        },\n        appendLine: function (replication) {\n          if (!this.replicationIdShown.has(replication.replicationId + '')) {\n            this.replicationIdShown.add(replication.replicationId + '')\n            this.lines.push({\n              from: replication.srcMha.id + '',\n              to: replication.dstMha.id + '',\n              selected: true,\n              color: '#2c2c2c',\n              styleClass: 'node-line',\n              data: {\n                replication: replication\n              }\n            })\n          }\n        },\n        appendDataToGraph (queryAll) {\n          const graph = this.graph\n          // eslint-disable-next-line camelcase\n          if (!this.graphInit) {\n            this.graphInit = true\n            graph.setJsonData(this, (graphInstance) => {\n              // 这些写上当图谱初始化完成后需要执行的代码\n              this.deepenClickedNode(null, queryAll)\n              console.log('init graph success')\n            })\n          } else {\n            graph.appendJsonData(this, (graphInstance) => {\n              // 更新图\n              console.log('refresh graph success')\n            })\n          }\n        },\n        hasShow (mhaName) {\n          if (this.mhaNameRequested.has(mhaName)) {\n            return true\n          } else {\n            this.mhaNameRequested.add(mhaName)\n            return false\n          }\n        },\n        deepenClickedNode (nodeObject, queryAll) {\n          const color = 'rgb(0,166,81)'\n          if (nodeObject != null) {\n            nodeObject.color = color\n          } else {\n            // refresh all\n            const nodes = this.graph.getNodes()\n            nodes.forEach(e => {\n              if (queryAll || this.mhaNameRequested.has(e.data.mha.name)) {\n                e.color = color\n              }\n            })\n          }\n        }\n      },\n      graphOptions: {\n        defaultLineColor: '#333333',\n        defaultLineWidth: 1,\n        defaultNodeBorderWidth: 1,\n        defaultNodeShape: 0,\n        defaultNodeBorderColor: 'rgb(194,194,194)',\n        defaultNodeColor: 'rgba(66,66,66)',\n        allowSwitchLineShape: true,\n        allowSwitchNodeShape: true,\n        checkedLineColor: 'rgba(30, 144, 255, 1)', // 当线条被选中时的颜色\n        defaultLineShape: 1,\n        moveToCenterWhenRefresh: true,\n        useAnimationWhenRefresh: true,\n        layouts: [\n          {\n            label: '自动布局',\n            layoutName: 'force',\n            layoutClassName: 'seeks-layout-force'\n          }\n        ],\n        defaultJunctionPoint: 'border'\n        // 这里可以参考\"Graph 图谱\"中的参数进行设置\n      },\n      current: {\n        node: {\n          mha: {}\n        },\n        link: {\n          srcMha: {},\n          dstMha: {},\n          replicationId: 0\n        }\n      },\n      queryParam: {\n        mhaNames: ''\n      }\n    }\n  },\n  mounted () {\n    const mhaIdList = this.mhaIdList\n    const mhaNameList = this.mhaNameList\n    console.log('mount mhaId: ' + mhaIdList)\n    this.graphData.graph = this.$refs.seeksRelationGraph\n    this.graphData.rootId = mhaIdList[0]\n    this.showMore(mhaNameList, false)\n  },\n  methods: {\n    showMore (mhaNameList, queryAll) {\n      if (queryAll) {\n        this.graphData.reset()\n      } else {\n        this.graphData.clear()\n      }\n      const filteredNameList = mhaNameList.filter(mhaName => {\n        return !this.graphData.hasShow(mhaName)\n      })\n      if (filteredNameList == null || filteredNameList.length === 0) {\n        return\n      }\n      const reqParam = {\n        relatedMhaNames: filteredNameList.join(','),\n        queryAll: queryAll\n      }\n      this.dataLoading = true\n      this.axios.get('/api/drc/v2/replication/queryMhaRelatedByNames', { params: reqParam })\n        .then(response => {\n          const replications = response.data.data\n          const emptyResult = replications == null || !Array.isArray(replications) || replications.length === 0\n          if (emptyResult) {\n            this.$Message.info('结果为空')\n            return\n          }\n          replications.forEach((replication) => {\n            this.graphData.appendNode(replication.srcMha)\n            this.graphData.appendNode(replication.dstMha)\n            this.graphData.appendLine(replication)\n          })\n          if (this.graphData.isEmpty()) {\n            return\n          }\n          if (queryAll) {\n            this.$Message.success('查询成功')\n          }\n          // refresh graph\n          this.graphData.appendDataToGraph(queryAll)\n          // query delay\n          this.getDelay(replications)\n        })\n        .catch(message => {\n          console.log(message)\n          this.$Message.error('查询异常: ' + message)\n        })\n        .finally(() => {\n          this.dataLoading = false\n        })\n    },\n    getDelay (replications) {\n      const param = {\n        replicationIds: replications.map(item =>\n          item.replicationId\n        ).join(',')\n      }\n      console.log(param)\n      this.axios.get('/api/drc/v2/replication/delay', { params: param })\n        .then(response => {\n          const delays = response.data.data\n          const emptyResult = delays == null || !Array.isArray(delays) || delays.length === 0\n          if (emptyResult) {\n            return\n          }\n          // append graph data\n          const dataMap = new Map(delays.map(e => [e.srcMha + '-' + e.dstMha, e.delay]))\n          const allLinks = this.graphData.graph.getLinks()\n          console.log(allLinks)\n          allLinks.forEach(link => {\n            link.relations.forEach(line => {\n              const repli = line.data.replication\n              const delay = dataMap.get(repli.srcMha.name + '-' + repli.dstMha.name)\n              let lineColor = 'rgb(3,119,63)'\n              let text = null\n              if (delay != null) {\n                console.log(delay)\n                text = prettyMilliseconds(delay, {\n                  compact: true\n                })\n                if (delay > 10000) {\n                  lineColor = 'rgb(238,0,0)'\n                }\n                line.text = text\n                line.color = lineColor\n              }\n            })\n          })\n          this.graphData.graph.getInstance().dataUpdated()\n        })\n        .catch(message => {\n          console.log(message)\n          this.$Message.error('查询延迟异常: ' + message)\n        })\n    },\n    onNodeClick (nodeObject, $event) {\n      console.log('onNodeClick:', nodeObject, $event)\n      this.showMore([nodeObject.data.mha.name], false)\n      this.graphData.deepenClickedNode(nodeObject)\n      const mhaName = nodeObject.data.mha.name\n      this.$copyText(mhaName).then(e => {\n        this.$Message.success('已复制 mha 名称: ' + e.text)\n        console.log(e)\n      })\n      this.showNodeTips(nodeObject, $event)\n      this.graphData.nodeMenuPanelPosition.fixed = true\n    },\n    onLineClick (lineObject, linkObject, $event) {\n      console.log(lineObject)\n      const replication = lineObject.data.replication\n      this.current.link = {\n        srcMha: replication.srcMha,\n        dstMha: replication.dstMha,\n        replicationId: replication.replicationId\n      }\n      this.showLineMenus(lineObject, $event)\n    },\n    showLineMenus (nodeObject, $event) {\n      if (this.operations.length == null || this.operations.length === 0) {\n        return\n      }\n      const basePosition = this.$refs.myPage.getBoundingClientRect()\n      this.graphData.linkMenuPanelPosition.x = $event.clientX - basePosition.x\n      this.graphData.linkMenuPanelPosition.y = $event.clientY - basePosition.y + 30\n      console.log('showLineMenus:', $event, basePosition)\n      setTimeout(() => {\n        this.graphData.isShowNodeMenuPanel = true\n      }, 10)\n    },\n    showNodeTips (nodeObject, $event) {\n      console.log('showNodeMenus:', nodeObject, $event)\n      this.current.node.mha = nodeObject.data.mha\n      const basePosition = this.$refs.myPage.getBoundingClientRect()\n      this.graphData.isShowNodeTipsPanel = true\n      this.graphData.nodeMenuPanelPosition.x = $event.clientX - basePosition.x\n      this.graphData.nodeMenuPanelPosition.y = $event.clientY - basePosition.y + 30\n    },\n    hideNodeTips (nodeObject, $event) {\n      console.log('hideNodeTips:', nodeObject, $event)\n      if (this.graphData.nodeMenuPanelPosition.fixed) {\n        return\n      }\n      this.graphData.isShowNodeTipsPanel = false\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n// line\n.node-line{\n  cursor: pointer;\n}\n\n// node\n.c-node-menu-item {\n  line-height: 30px;\n  padding-left: 10px;\n  cursor: pointer;\n  color: #444444;\n  font-size: 14px;\n  border-top: #efefef solid 1px;\n}\n\n.c-node-menu-item:hover {\n  background-color: rgba(66, 187, 66, 0.2);\n}\n\n.c-g-center {\n  text-align: center;\n  cursor: pointer;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mhaReplicationDetails.vue?vue&type=template&id=732eec18&scoped=true\"\nimport script from \"./mhaReplicationDetails.vue?vue&type=script&lang=js\"\nexport * from \"./mhaReplicationDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./mhaReplicationDetails.vue?vue&type=style&index=0&id=732eec18&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"732eec18\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}