{"version":3,"sources":["webpack:///./src/views/v2/resource/proxyRouteCluster.vue","webpack:///src/views/v2/resource/proxyRouteCluster.vue","webpack:///./src/views/v2/resource/proxyRouteCluster.vue?570c","webpack:///./src/views/v2/resource/proxyRouteCluster.vue?970f"],"names":["render","_vm","this","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","width","marginRight","model","value","searchCondition","routeOrgName","callback","$$v","$set","expression","srcDcName","dstDcName","tag","on","getRoutes","deleted","_l","searchOption","deleteOptions","item","key","_s","marginLeft","goToRouteManagementLink","columns","dataWithPage","scopedSlots","_u","fn","_ref","row","index","$event","goToDelete","_e","goToLink","goToRecover","routes","length","current","handleChangeSize","staticRenderFns","name","data","_this","title","align","h","params","size","renderHeader","text","domProps","innerHTML","resizable","color","props","slot","total","computed","start","end","_toConsumableArray","slice","methods","that","uri","flag","console","log","axios","get","then","response","val","alert","$router","push","path","query","srcProxyUris","relayProxyUris","dstProxyUris","updateStatus","_this2","post","id","status","_this3","created","_this4","component"],"mappings":"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","file":"js/chunk-2d0c203f.ea73087d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyRouteCluster\"}},[_vm._v(\"路由列表\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Card',[_vm._v(\" BU名：\"),_c('Input',{style:({width: '120px', marginRight: '10px'}),model:{value:(_vm.searchCondition.routeOrgName),callback:function ($$v) {_vm.$set(_vm.searchCondition, \"routeOrgName\", $$v)},expression:\"searchCondition.routeOrgName\"}}),_vm._v(\" 源端（Applier）机房：\"),_c('Input',{style:({width: '120px', marginRight: '10px'}),model:{value:(_vm.searchCondition.srcDcName),callback:function ($$v) {_vm.$set(_vm.searchCondition, \"srcDcName\", $$v)},expression:\"searchCondition.srcDcName\"}}),_vm._v(\" 目标（Replicator）机房：\"),_c('Input',{style:({width: '120px', marginRight: '10px'}),model:{value:(_vm.searchCondition.dstDcName),callback:function ($$v) {_vm.$set(_vm.searchCondition, \"dstDcName\", $$v)},expression:\"searchCondition.dstDcName\"}}),_vm._v(\" tag：\"),_c('Input',{style:({width: '120px', marginRight: '10px'}),model:{value:(_vm.searchCondition.tag),callback:function ($$v) {_vm.$set(_vm.searchCondition, \"tag\", $$v)},expression:\"searchCondition.tag\"}}),_vm._v(\" deleted：\"),_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"inUse\"},on:{\"on-change\":_vm.getRoutes},model:{value:(_vm.searchCondition.deleted),callback:function ($$v) {_vm.$set(_vm.searchCondition, \"deleted\", $$v)},expression:\"searchCondition.deleted\"}},_vm._l((_vm.searchOption.deleteOptions),function(item){return _c('Option',{key:item.key,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.key))])}),1),_c('Button',{style:({marginLeft: '10px'}),attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getRoutes}},[_vm._v(\"查询\")]),_c('Button',{style:({marginLeft: '10px'}),attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goToRouteManagementLink}},[_vm._v(\"添加路由\")]),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.dataWithPage},scopedSlots:_vm._u([{key:\"action\",fn:function({ row, index }){return [(row.deleted === 0)?_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDelete(row, index)}}},[_vm._v(\"下线\")]):_vm._e(),(row.deleted === 0)?_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToLink(row, index)}}},[_vm._v(\"修改\")]):_vm._e(),(row.deleted === 1)?_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToRecover(row, index)}}},[_vm._v(\"回滚\")]):_vm._e()]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.routes.length,\"current\":_vm.current,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/proxyRouteCluster\">路由列表</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div style=\"padding: 1px 1px\">\n        <Card>\n        BU名：<Input :style=\"{width: '120px', marginRight: '10px'}\" v-model=\"searchCondition.routeOrgName\" />\n        源端（Applier）机房：<Input :style=\"{width: '120px', marginRight: '10px'}\" v-model=\"searchCondition.srcDcName\" />\n        目标（Replicator）机房：<Input :style=\"{width: '120px', marginRight: '10px'}\" v-model=\"searchCondition.dstDcName\" />\n        tag：<Input :style=\"{width: '120px', marginRight: '10px'}\" v-model=\"searchCondition.tag\" />\n        deleted：<Select v-model=\"searchCondition.deleted\"  style=\"width: 200px\" placeholder=\"inUse\" @on-change=\"getRoutes\">\n          <Option v-for=\"item in searchOption.deleteOptions\" :value=\"item.value\" :key=\"item.key\" >{{ item.key }}</Option>\n        </Select>\n          <Button :style=\"{marginLeft: '10px'}\" type=\"primary\" @click=\"getRoutes\">查询</Button>\n          <Button :style=\"{marginLeft: '10px'}\" type=\"primary\" @click=\"goToRouteManagementLink\">添加路由</Button>\n          <Table stripe :columns=\"columns\" :data=\"dataWithPage\">\n            <template slot-scope=\"{ row, index }\" slot=\"action\">\n              <Button type=\"error\" size=\"small\" v-if=\"row.deleted === 0\" style=\"margin-right: 5px\" @click=\"goToDelete(row, index)\">下线</Button>\n              <Button type=\"primary\" size=\"small\" v-if=\"row.deleted === 0\" style=\"margin-right: 5px\" @click=\"goToLink(row, index)\">修改</Button>\n              <Button type=\"warning\" size=\"small\" v-if=\"row.deleted === 1\" style=\"margin-right: 5px\" @click=\"goToRecover(row, index)\">回滚</Button>\n            </template>\n          </Table>\n          <div style=\"text-align: center;margin: 16px 0\">\n            <Page\n                :transfer=\"true\"\n                :total=\"routes.length\"\n                :current.sync=\"current\"\n                show-sizer\n                show-elevator\n                @on-page-size-change=\"handleChangeSize\"></Page>\n          </div>\n        </Card>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'proxyRouteCluster',\n  data () {\n    return {\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1 + (this.current - 1) * this.size\n            )\n          }\n        },\n        {\n          title: 'BU',\n          key: 'routeOrgName'\n        },\n        {\n          title: '源端机房',\n          key: 'srcDcName',\n          renderHeader: (h, params) => {\n            var text = 'Applier<br/>源端机房'\n            return h('div', {\n              domProps: {\n                innerHTML: text\n              }\n            })\n          }\n        },\n        {\n          title: '目标机房',\n          key: 'dstDcName',\n          renderHeader: (h, params) => {\n            var text = 'Replicator<br/>目标机房'\n            return h('div', {\n              domProps: {\n                innerHTML: text\n              }\n            })\n          }\n        },\n        {\n          title: '源Region',\n          key: 'srcRegionName',\n          renderHeader: (h, params) => {\n            var text = 'Applier<br/>源Region'\n            return h('div', {\n              domProps: {\n                innerHTML: text\n              }\n            })\n          }\n        },\n        {\n          title: '目标Region',\n          key: 'dstRegionName',\n          renderHeader: (h, params) => {\n            var text = 'Replicator<br/>目标Region'\n            return h('div', {\n              domProps: {\n                innerHTML: text\n              }\n            })\n          }\n        },\n        {\n          title: '源端Proxy',\n          key: 'srcProxyUris'\n        },\n        {\n          title: '目标Proxy',\n          key: 'dstProxyUris'\n        },\n        {\n          title: '中继Proxy',\n          key: 'relayProxyUris'\n        },\n        {\n          title: 'tag',\n          key: 'tag'\n        },\n        {\n          title: '状态',\n          key: 'deleted',\n          align: 'center',\n          resizable: true,\n          render: (h, params) => {\n            const row = params.row\n            const color = row.deleted === 0 ? 'blue' : 'volcano'\n            const text = row.deleted === 0 ? 'inUse' : 'discard'\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center',\n          width: 200\n        }\n      ],\n      searchCondition: {\n        routeOrgName: '',\n        srcDcName: '',\n        dstDcName: '',\n        tag: '',\n        deleted: 0\n      },\n      routes: [],\n      total: 0,\n      current: 1,\n      size: 10,\n      searchOption: {\n        deleteOptions: [\n          {\n            value: 0,\n            key: 'inUse'\n          },\n          {\n            value: 1,\n            key: 'discard'\n          }\n        ]\n      }\n    }\n  },\n  computed: {\n    dataWithPage () {\n      const data = this.routes\n      const start = this.current * this.size - this.size\n      const end = start + this.size\n      return [...data].slice(start, end)\n    }\n  },\n  methods: {\n    getRoutes () {\n      const that = this\n      let uri = '/api/drc/v1/meta/routes'\n      let flag = false\n      if (this.searchCondition.routeOrgName !== '') {\n        if (flag === false) {\n          uri = uri + '?routeOrgName=' + this.searchCondition.routeOrgName\n          flag = true\n        } else {\n          uri = uri + '&routeOrgName=' + this.searchCondition.routeOrgName\n        }\n      }\n      if (this.searchCondition.srcDcName !== '') {\n        if (flag === false) {\n          uri = uri + '?srcDcName=' + this.searchCondition.srcDcName\n          flag = true\n        } else {\n          uri = uri + '&srcDcName=' + this.searchCondition.srcDcName\n        }\n      }\n      if (this.searchCondition.dstDcName !== '') {\n        if (flag === false) {\n          uri = uri + '?dstDcName=' + this.searchCondition.dstDcName\n          flag = true\n        } else {\n          uri = uri + '&dstDcName=' + this.searchCondition.dstDcName\n        }\n      }\n      if (this.searchCondition.tag !== '') {\n        if (flag === false) {\n          uri = uri + '?tag=' + this.searchCondition.tag\n          flag = true\n        } else {\n          uri = uri + '&tag=' + this.searchCondition.tag\n        }\n      }\n      if (flag === false) {\n        uri = uri + '?deleted=' + this.searchCondition.deleted\n        flag = true\n      } else {\n        uri = uri + '&deleted=' + this.searchCondition.deleted\n      }\n      console.log('uri: {}', uri)\n      that.axios.get(uri)\n        .then(response => {\n          console.log(response)\n          that.total = response.data.data.length\n          that.routes = response.data.data\n        })\n    },\n    handleChangeSize (val) {\n      this.size = val\n    },\n    goToLink (row, index) {\n      if (row.deleted === 1) {\n        alert('已经下线，请先回滚！')\n      } else {\n        console.log('go to manage route for' + row.routeOrgName + '-' + row.tag + ', from ' + row.srcDcName + ' to ' + row.dstDcName)\n        this.$router.push({\n          path: '/proxyRouteManagement',\n          query: {\n            routeOrgName: row.routeOrgName,\n            srcDcName: row.srcDcName,\n            dstDcName: row.dstDcName,\n            tag: row.tag,\n            srcProxyUris: row.srcProxyUris,\n            relayProxyUris: row.relayProxyUris,\n            dstProxyUris: row.dstProxyUris,\n            updateStatus: true\n          }\n        })\n      }\n    },\n    goToDelete (row, index) {\n      if (row.deleted === 1) {\n        // forbidden\n        alert('已经下线，无需操作！')\n      } else {\n        this.axios.post('/api/drc/v1/meta/routes', {\n          id: 0,\n          routeOrgName: row.routeOrgName,\n          srcDcName: row.srcDcName,\n          dstDcName: row.dstDcName,\n          srcProxyUris: row.srcProxyUris,\n          relayProxyUris: row.relayProxyUris,\n          dstProxyUris: row.dstProxyUris,\n          tag: row.tag,\n          deleted: 1\n        }).then(response => {\n          console.log(response.data)\n          console.log(response.data.data)\n          if (response.data.status === 0) {\n            alert('下线成功！')\n            this.searchCondition.deleted = 1\n            this.getRoutes()\n          } else {\n            alert('操作失败！')\n          }\n        })\n      }\n    },\n    goToRecover (row, index) {\n      if (row.deleted === 0) {\n        // forbidden\n        alert('正在使用中无需回滚！')\n      } else {\n        this.axios.post('/api/drc/v1/meta/routes', {\n          id: 0,\n          routeOrgName: row.routeOrgName,\n          srcDcName: row.srcDcName,\n          dstDcName: row.dstDcName,\n          srcProxyUris: row.srcProxyUris,\n          relayProxyUris: row.relayProxyUris,\n          dstProxyUris: row.dstProxyUris,\n          tag: row.tag,\n          deleted: 0\n        }).then(response => {\n          console.log(response.data)\n          console.log(response.data.data)\n          if (response.data.status === 0) {\n            alert('回滚成功！')\n            this.searchCondition.deleted = 0\n            this.getRoutes()\n          } else {\n            alert('操作失败！')\n          }\n        })\n      }\n    },\n    goToRouteManagementLink () {\n      console.log('go to manage route')\n      this.$router.push({\n        path: '/proxyRouteManagement',\n        query: {\n          updateStatus: false,\n          srcProxyUris: [],\n          relayProxyUris: [],\n          dstProxyUris: []\n        }\n      })\n    }\n  },\n  created () {\n    this.axios.get('/api/drc/v2/permission/resource/route').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      this.getRoutes()\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteCluster.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteCluster.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./proxyRouteCluster.vue?vue&type=template&id=1a9dd59a&scoped=true\"\nimport script from \"./proxyRouteCluster.vue?vue&type=script&lang=js\"\nexport * from \"./proxyRouteCluster.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a9dd59a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}