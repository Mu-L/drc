(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fd3670c"],{"057f":function(t,e,r){var o=r("fc6a"),i=r("241c").f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==n.call(t)?s(t):i(o(t))}},"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("3ca3");var o=r("6b75");function i(t,e){if(t){if("string"==typeof t)return Object(o["a"])(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(o["a"])(t,e):void 0}}},"25f0":function(t,e,r){"use strict";var o=r("6eeb"),i=r("825a"),n=r("d039"),a=r("ad6d"),s="toString",l=RegExp.prototype,c=l[s],d=n((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=s;(d||u)&&o(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),r=t.flags,o=String(void 0===r&&t instanceof RegExp&&!("flags"in l)?a.call(t):r);return"/"+e+"/"+o}),{unsafe:!0})},2909:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var o=r("6b75");function i(t){if(Array.isArray(t))return Object(o["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var a=r("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return i(t)||n(t)||Object(a["a"])(t)||s()}},"4df4":function(t,e,r){"use strict";var o=r("0366"),i=r("7b0b"),n=r("9bdd"),a=r("e95a"),s=r("50c4"),l=r("8418"),c=r("35a1");t.exports=function(t){var e,r,d,u,f,h,g=i(t),m="function"==typeof this?this:Array,p=arguments.length,C=p>1?arguments[1]:void 0,w=void 0!==C,F=c(g),b=0;if(w&&(C=o(C,p>2?arguments[2]:void 0,2)),void 0==F||m==Array&&a(F))for(e=s(g.length),r=new m(e);e>b;b++)h=w?C(g[b],b):g[b],l(r,b,h);else for(u=F.call(g),f=u.next,r=new m;!(d=f.call(u)).done;b++)h=w?n(u,C,[d.value,b],!0):d.value,l(r,b,h);return r.length=b,r}},"5fb7":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("base-component",[r("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[r("BreadcrumbItem",{attrs:{to:"/home"}},[t._v("首页")]),r("BreadcrumbItem",{attrs:{to:"/rowsFilterConfigs"}},[t._v("行过滤配置")])],1),r("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[r("Row",[r("Col",{attrs:{span:"22"}},[r("span",{staticStyle:{"margin-top":"10px",color:"#464c5b","font-weight":"600"}},[t._v(t._s(t.drc.srcMha)+"("+t._s(t.drc.srcDc)+")==>"+t._s(t.drc.destMha)+"("+t._s(t.drc.destDc)+")")])]),r("Col",{attrs:{span:"2"}},[r("Button",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"primary",ghost:""},on:{click:t.goToAddRowsFilter}},[t._v("添加")])],1)],1),r("div",{style:{padding:"1px 1px",height:"100%"}},[t.display.rowsFilterConfigs?[r("Table",{staticStyle:{"margin-top":"20px"},attrs:{stripe:"",columns:t.columns,data:t.rowsFilterConfigsData,border:""},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row,i=e.index;return[r("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.goToShowConfig(o,i)}}},[t._v("查看")]),r("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToUpdateConfig(o,i)}}},[t._v("修改")]),r("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteConfig(o,i)}}},[t._v("删除")])]}}],null,!1,89673703)})]:t._e()],2)],1),r("Modal",{attrs:{title:"行过滤配置",width:"1000px"},scopedSlots:t._u([{key:"footer",fn:function(){return[r("Button",{attrs:{type:"text",size:"large"},on:{click:t.cancelSubmit}},[t._v("取消")]),r("Button",{attrs:{type:"primary"},on:{click:t.submitConfig}},[t._v("提交")])]},proxy:!0}]),model:{value:t.display.rowsFilterModal,callback:function(e){t.$set(t.display,"rowsFilterModal",e)},expression:"display.rowsFilterModal"}},[r("Row",{attrs:{gutter:10}},[r("Col",{attrs:{span:"12"}},[r("Card",[r("div",{attrs:{slot:"title"},slot:"title"},[r("span",[t._v("配置")])]),r("Form",{ref:"rowsFilterConfig",staticStyle:{"margin-top":"10px"},attrs:{model:t.rowsFilterConfig,"label-width":100}},[r("FormItem",{attrs:{label:"数据源"}},[r("Input",{staticStyle:{width:"200px"},attrs:{readonly:""},model:{value:t.rowsFilterConfig.dataMediaSourceName,callback:function(e){t.$set(t.rowsFilterConfig,"dataMediaSourceName",e)},expression:"rowsFilterConfig.dataMediaSourceName"}})],1),r("FormItem",{attrs:{label:"库名"}},[r("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"支持正则  .*匹配全部"},model:{value:t.rowsFilterConfig.namespace,callback:function(e){t.$set(t.rowsFilterConfig,"namespace",e)},expression:"rowsFilterConfig.namespace"}})],1),r("FormItem",{attrs:{label:"表名"}},[r("Row",[r("Col",{attrs:{span:"16"}},[r("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"支持正则  .*匹配全部"},model:{value:t.rowsFilterConfig.name,callback:function(e){t.$set(t.rowsFilterConfig,"name",e)},expression:"rowsFilterConfig.name"}})],1),r("Col",{attrs:{span:"4"}},[r("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.checkTable}},[t._v("校验")])],1)],1)],1),r("FormItem",{attrs:{label:"模式"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择行过滤模式"},model:{value:t.rowsFilterConfig.mode,callback:function(e){t.$set(t.rowsFilterConfig,"mode",e)},expression:"rowsFilterConfig.mode"}},t._l(t.modesForChose,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),"trip_udl"!==t.rowsFilterConfig.mode||0===t.rowsFilterConfig.fetchMode?r("FormItem",{attrs:{label:"规则内容"}},["trip_udl"!==t.rowsFilterConfig.mode?r("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"请输入行过滤内容"},model:{value:t.rowsFilterConfig.context,callback:function(e){t.$set(t.rowsFilterConfig,"context",e)},expression:"rowsFilterConfig.context"}}):t._e(),"trip_udl"===t.rowsFilterConfig.mode&&0===t.rowsFilterConfig.fetchMode?r("Select",{staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"Region 选择"},model:{value:t.configInTripUid.regionsChosen,callback:function(e){t.$set(t.configInTripUid,"regionsChosen",e)},expression:"configInTripUid.regionsChosen"}},t._l(t.regionsForChose,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1):t._e()],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("FormItem",{attrs:{label:"空处理"}},[r("Checkbox",{model:{value:t.rowsFilterConfig.illegalArgument,callback:function(e){t.$set(t.rowsFilterConfig,"illegalArgument",e)},expression:"rowsFilterConfig.illegalArgument"}},[t._v("【字段为空时】同步")])],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("Divider",[t._v("UDL配置")]):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("FormItem",{attrs:{label:"UDL字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UDL配置"},on:{"on-create":t.handleCreateUDLColumn},model:{value:t.rowsFilterConfig.udlColumns,callback:function(e){t.$set(t.rowsFilterConfig,"udlColumns",e)},expression:"rowsFilterConfig.udlColumns"}},t._l(t.columnsForChose,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode&&0!==t.rowsFilterConfig.udlColumns.length?r("FormItem",{attrs:{label:"DRC UDL策略id"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择ucs策略id"},on:{"on-create":t.handleCreateDrcStrategyId},model:{value:t.rowsFilterConfig.drcStrategyId,callback:function(e){t.$set(t.rowsFilterConfig,"drcStrategyId",e)},expression:"rowsFilterConfig.drcStrategyId"}},t._l(t.drcStrategyIdsForChose,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("Divider",[t._v("UID配置")]):t._e(),"trip_udl"!==t.rowsFilterConfig.mode?r("FormItem",{attrs:{label:"相关字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":t.handleCreateColumn},model:{value:t.rowsFilterConfig.columns,callback:function(e){t.$set(t.rowsFilterConfig,"columns",e)},expression:"rowsFilterConfig.columns"}},t._l(t.columnsForChose,(function(t){return r("Option",{key:t,attrs:{value:t,lable:t}})})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("FormItem",{attrs:{label:"UID字段"}},[r("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UID配置"},on:{"on-create":t.handleCreateUIDColumn},model:{value:t.rowsFilterConfig.columns,callback:function(e){t.$set(t.rowsFilterConfig,"columns",e)},expression:"rowsFilterConfig.columns"}},t._l(t.columnsForChose,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?r("FormItem",{attrs:{label:"fetchMode"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择"},on:{"on-change":function(e){return t.fetchModeChange()}},model:{value:t.rowsFilterConfig.fetchMode,callback:function(e){t.$set(t.rowsFilterConfig,"fetchMode",e)},expression:"rowsFilterConfig.fetchMode"}},t._l(t.fetchModeForChose,(function(e){return r("Option",{key:e.k,attrs:{value:e.v}},[t._v(t._s(e.k))])})),1)],1):t._e()],1)],1)],1),r("Col",{attrs:{span:"12"}},[r("Card",[r("div",{attrs:{slot:"title"},slot:"title"},[r("span",[t._v("相关表")])]),r("Table",{attrs:{stripe:"",columns:t.columnsForTableCheck,data:t.dataWithPage,border:""}}),r("div",{staticStyle:{"text-align":"center",margin:"16px 0"}},[r("Page",{attrs:{transfer:!0,total:t.tableData.length,current:t.current,"page-size-opts":t.pageSizeOpts,"page-size":this.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(e){t.current=e},"on-page-size-change":t.handleChangeSize}})],1)],1)],1)],1)],1)],1)},i=[],n=r("2909"),a=(r("a15b"),r("fb6a"),r("b0c0"),{name:"rowsFilterConfigs",data:function(){var t=this;return{display:{rowsFilterConfigs:!0,rowsFilterModal:!1,showOnly:!1},drc:{srcMha:this.$route.query.srcMha,destMha:this.$route.query.destMha,srcDc:"",destDc:"",applierGroupId:0,srcMhaId:0},columns:[{title:"序号",width:75,align:"center",fixed:"left",render:function(t,e){return t("span",e.index+1)}},{title:"库名",key:"namespace"},{title:"表名",key:"name"},{title:"模式",key:"mode"},{title:"udl列（udl专用)",key:"udlColumns"},{title:"相关列/uid列",key:"columns"},{title:"内容",key:"context"},{title:"DRC UDL策略（udl专用)",key:"drcStrategyId"},{title:"默认同步（udl专用)",key:"illegalArgument"},{title:"校验模式（udl专用)",key:"fetchMode",width:100,render:function(t,e){var r=e.row,o="blue",i=0===r.fetchMode?"RPC":1===r.fetchMode?"BlackList":2===r.fetchMode?"WhiteList":"BlackListGlobal";return t("Tag",{props:{color:o}},i)}},{title:"操作",slot:"action",align:"center",width:200,fixed:"right"}],rowsFilterConfigsData:[],tableData:[],total:0,current:1,size:5,pageSizeOpts:[5,10,20,100],columnsForTableCheck:[{title:"序号",width:75,align:"center",render:function(e,r){return e("span",r.index+1+(t.current-1)*t.size)}},{title:"库名",key:"schema"},{title:"表名",key:"name"}],rowsFilterConfig:{mappingId:0,dataMediaId:0,namespace:"",name:"",dataMediaSourceId:0,dataMediaSourceName:"",rowsFilterId:0,mode:"trip_udl",drcStrategyId:0,routeStrategyId:0,udlColumns:[],columns:[],context:"",illegalArgument:!1,fetchMode:0},configInTripUid:{regionsChosen:[]},modesForChose:["aviator_regex","java_regex","trip_udl","custom"],columnsForChose:[],regionsForChose:["SGP","SIN","SH","FRA"],drcStrategyIdsForChose:[2000000002,20001],fetchModeForChose:[{k:"RPC调用",v:0},{k:"BlackList",v:1},{k:"WhiteList",v:2},{k:"BlackListGlobal",v:3}],columnForAdd:"",forceCommit:!1,conflictTables:[]}},computed:{dataWithPage:function(){var t=this.tableData,e=this.current*this.size-this.size,r=e+this.size;return Object(n["a"])(t).slice(e,r)}},methods:{getOrInitSimplexDrc:function(){var t=this;console.log(this.drc.srcMha+"/"+this.drc.destMha),this.axios.post("/api/drc/v1/build/simplexDrc?srcMha="+this.drc.srcMha+"&destMha="+this.drc.destMha).then((function(e){if(1===e.data.status)window.alert("获取或创建该方向同步失败!");else{var r=e.data.data;t.drc.srcDc=r.srcDc,t.drc.destDc=r.destDc,t.drc.applierGroupId=r.destApplierGroupId,t.drc.srcMhaId=r.srcMhaId,t.getRowsFilterConfigs()}}))},getRowsFilterConfigs:function(){var t=this;console.log(this.drc.applierGroupId),this.axios.get("/api/drc/v1/build/rowsFilterMappings/"+this.drc.applierGroupId).then((function(e){1===e.data.status?window.alert("查询行过滤配置失败!"):t.rowsFilterConfigsData=e.data.data}))},goToShowConfig:function(t,e){this.rowsFilterConfigInitFormRow(t,e),this.showMatchTables(),this.columnsForChose=t.columns,this.display.rowsFilterModal=!0,this.display.showOnly=!0},goToUpdateConfig:function(t,e){this.rowsFilterConfigInitFormRow(t,e),this.columnsForChose=t.columns,this.forceCommit=!1,this.display.showOnly=!1,this.display.rowsFilterModal=!0},deleteConfig:function(t,e){var r=this;this.axios.delete("/api/drc/v1/build/rowsFilterConfig/"+t.id).then((function(t){console.log(t.data),console.log(t.data.data),0===t.data.status?(alert("删除成功！"),r.getRowsFilterConfigs()):alert("操作失败！")}))},goToAddRowsFilter:function(){this.rowsFilterConfigInit(),this.columnsForChose=[],this.checkTable(),this.forceCommit=!1,this.display.showOnly=!1,this.display.rowsFilterModal=!0},rowsFilterConfigInitFormRow:function(t,e){"trip_udl"===t.mode?this.configInTripUid={regionsChosen:t.context.split(",")}:this.configInTripUid={regionsChosen:[]},this.rowsFilterConfig={mappingId:t.id,dataMediaId:t.dataMediaId,namespace:t.namespace,name:t.name,dataMediaSourceId:t.dataMediaSourceId,dataMediaSourceName:this.drc.srcMha,rowsFilterId:t.rowsFilterId,mode:t.mode,columns:t.columns,context:t.context,udlColumns:t.udlColumns,drcStrategyId:t.drcStrategyId,routeStrategyId:t.routeStrategyId,illegalArgument:t.illegalArgument,fetchMode:t.fetchMode},this.tableData=[]},rowsFilterConfigInit:function(){this.configInTripUid={regionsChosen:[]},this.rowsFilterConfig={mappingId:0,dataMediaId:0,namespace:".*",name:".*",dataMediaSourceId:0,dataMediaSourceName:this.drc.srcMha,rowsFilterId:0,mode:"trip_udl",columns:[],context:"",udlColumns:[],drcStrategyId:0,routeStrategyId:0,illegalArgument:!1,fetchMode:0},this.tableData=[]},submitConfig:function(){var t=this;if(console.log("before:"),console.log(this.rowsFilterConfig),"trip_udl"===this.rowsFilterConfig.mode){if(0===this.columns.length&&0===this.udlColumns.length)return void alert("uid 与 uld字段不能同时为空！");if(1===this.rowsFilterConfig.fetchMode||2===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.context="//filter by config":this.rowsFilterConfig.context=this.configInTripUid.regionsChosen.join(","),0===this.rowsFilterConfig.fetchMode&&(""===this.rowsFilterConfig.context||void 0===this.rowsFilterConfig.context||"//filter by config"===this.rowsFilterConfig.context))return void alert("context 不能为空！")}if(console.log("after:"),console.log(this.rowsFilterConfig),this.display.showOnly)window.alert("查看状态，禁止提交！");else if(""===this.rowsFilterConfig.namespace||void 0===this.rowsFilterConfig.namespace||""===this.rowsFilterConfig.name||void 0===this.rowsFilterConfig.name)alert("缺少表配置 禁止提交！");else if(""===this.rowsFilterConfig.mode||void 0===this.rowsFilterConfig.mode||0===this.rowsFilterConfig.columns.length&&0===this.rowsFilterConfig.udlColumns.length)alert("缺少行过滤配置 禁止提交");else if(0!==this.conflictTables.length)alert("存在匹配表已经了行过滤，禁止提交");else if(0!==this.tableData.length||this.forceCommit){var e={id:0===this.rowsFilterConfig.mappingId?null:this.rowsFilterConfig.mappingId,applierGroupId:this.drc.applierGroupId,dataMediaId:0===this.rowsFilterConfig.dataMediaId?null:this.rowsFilterConfig.dataMediaId,namespace:""===this.rowsFilterConfig.namespace?null:this.rowsFilterConfig.namespace,name:""===this.rowsFilterConfig.name?null:this.rowsFilterConfig.name,type:0,dataMediaSourceId:this.drc.srcMhaId,dataMediaSourceName:this.drc.srcMha,rowsFilterId:0===this.rowsFilterConfig.rowsFilterId?null:this.rowsFilterConfig.rowsFilterId,mode:this.rowsFilterConfig.mode,columns:0===this.rowsFilterConfig.columns.length?null:this.rowsFilterConfig.columns,udlColumns:0===this.rowsFilterConfig.udlColumns.length?null:this.rowsFilterConfig.udlColumns,drcStrategyId:this.rowsFilterConfig.drcStrategyId,routeStrategyId:this.rowsFilterConfig.routeStrategyId,illegalArgument:this.rowsFilterConfig.illegalArgument,fetchMode:this.rowsFilterConfig.fetchMode,context:""===this.rowsFilterConfig.context?null:this.rowsFilterConfig.context};console.log("dto:"),console.log(e),this.axios.post("/api/drc/v1/build/rowsFilterConfig",e).then((function(e){1===e.data.status?window.alert("提交失败!"+e.data.data):(window.alert("提交成功!"+e.data.data),t.display.rowsFilterModal=!1,t.getRowsFilterConfigs())}))}else this.forceCommit=!0,alert("无匹配表 下一次提交将强制执行！！")},cancelSubmit:function(){this.display.rowsFilterModal=!1},showMatchTables:function(){var t=this;console.log("/api/drc/v1/build/dataMedia/check?namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&mhaName="+this.drc.srcMha+"&type=0"),this.axios.get("/api/drc/v1/build/dataMedia/check?namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&mhaName="+this.drc.srcMha+"&type=0").then((function(e){1===e.data.status?window.alert("查询匹配表失败"+e.data.data):(console.log(e.data.data),t.tableData=e.data.data,0===t.tableData.length&&window.alert("无匹配表 或 查询匹配表失败"))}))},conflictCheck:function(){var t=this;console.log("/api/drc/v1/build/dataMedia/conflictCheck?applierGroupId="+this.drc.applierGroupId+"&dataMediaId="+this.rowsFilterConfig.dataMediaId+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&applierType=0"),this.axios.get("/api/drc/v1/build/dataMedia/conflictCheck?applierGroupId="+this.drc.applierGroupId+"&dataMediaId="+this.rowsFilterConfig.dataMediaId+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&applierType=0").then((function(e){1===e.data.status?window.alert("表匹配冲突校验失败，请勿配置重复表！！"):(console.log(e.data.data),t.conflictTables=e.data.data,0!==t.conflictTables.length&&window.alert("存在表已经配置行过滤规则,如下:"+t.conflictTables))}))},getCommonColumns:function(){var t=this;console.log("/api/drc/v1/build/rowsFilter/commonColumns?&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name),this.axios.get("/api/drc/v1/build/rowsFilter/commonColumns?&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name).then((function(e){1===e.data.status?(alert("查询公共列名失败，请手动添加！"+e.data.data),t.columnsForChose=[]):(console.log(e.data.data),t.columnsForChose=e.data.data,0===t.columnsForChose.length&&alert("查询无公共字段！"))}))},checkTable:function(){""!==this.rowsFilterConfig.namespace&&""!==this.rowsFilterConfig.name?(console.log("showMatchTables"),this.showMatchTables(),console.log("conflictCheck"),this.conflictCheck(),console.log("getCommonColumns"),this.getCommonColumns()):window.alert("库名表名不能为空！")},handleChangeSize:function(t){this.size=t},handleCreateDrcStrategyId:function(t){null==t||this.contains(this.drcStrategyIdForChose,t)?alert("已有项禁止创建"):this.drcStrategyIdForChose.push(t)},handleCreateUDLColumn:function(t){var e=this;"无UDL"===t||this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(r){if(1===r.data.status)alert("查询字段:"+t+"失败！"+r.data.data),e.columnsForChose.push(t);else{var o=r.data.data;0!==o.length&&alert("以下表无字段"+t+"如下:"+o),e.columnsForChose.push(t)}}))):alert("字段不能为空")},handleCreateUIDColumn:function(t){var e=this;"无UID"===t||this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(r){if(1===r.data.status)alert("查询字段:"+t+"失败！"+r.data.data),e.columnsForChose.push(t);else{var o=r.data.data;0!==o.length&&alert("以下表无字段"+t+"如下:"+o),e.columnsForChose.push(t)}}))):alert("字段不能为空")},handleCreateColumn:function(t){var e=this;this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(r){if(1===r.data.status)alert("查询字段:"+t+"失败！"+r.data.data),e.columnsForChose.push(t);else{var o=r.data.data;0!==o.length&&alert("以下表无字段"+t+"如下:"+o),e.columnsForChose.push(t)}}))):alert("字段不能为空")},contains:function(t,e){var r=t.length;while(r--)if(t[r]===e)return!0;return!1},fetchModeChange:function(){1===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.illegalArgument=!0:this.rowsFilterConfig.illegalArgument=!1}},created:function(){console.log(this.$route.query.srcMha),console.log(this.$route.query.destMha),this.drc.srcMha=this.$route.query.srcMha,this.drc.destMha=this.$route.query.destMha,this.getOrInitSimplexDrc()}}),s=a,l=r("2877"),c=Object(l["a"])(s,o,i,!1,null,"41b65ccc",null);e["default"]=c.exports},"6b75":function(t,e,r){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}r.d(e,"a",(function(){return o}))},"746f":function(t,e,r){var o=r("428f"),i=r("5135"),n=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});i(e,t)||a(e,t,{value:n.f(t)})}},8418:function(t,e,r){"use strict";var o=r("c04e"),i=r("9bf2"),n=r("5c6c");t.exports=function(t,e,r){var a=o(e);a in t?i.f(t,a,n(0,r)):t[a]=r}},9263:function(t,e,r){"use strict";var o=r("ad6d"),i=r("9f7f"),n=RegExp.prototype.exec,a=String.prototype.replace,s=n,l=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=l||d||c;u&&(s=function(t){var e,r,i,s,u=this,f=c&&u.sticky,h=o.call(u),g=u.source,m=0,p=t;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),p=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(g="(?: "+g+")",p=" "+p,m++),r=new RegExp("^(?:"+g+")",h)),d&&(r=new RegExp("^"+g+"$(?!\\s)",h)),l&&(e=u.lastIndex),i=n.call(f?r:u,p),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:l&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),d&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},"9f7f":function(t,e,r){"use strict";var o=r("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,r){"use strict";var o=r("23e7"),i=r("44ad"),n=r("fc6a"),a=r("a640"),s=[].join,l=i!=Object,c=a("join",",");o({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(n(this),void 0===t?",":t)}})},a4d3:function(t,e,r){"use strict";var o=r("23e7"),i=r("da84"),n=r("d066"),a=r("c430"),s=r("83ab"),l=r("4930"),c=r("fdbf"),d=r("d039"),u=r("5135"),f=r("e8b5"),h=r("861d"),g=r("825a"),m=r("7b0b"),p=r("fc6a"),C=r("c04e"),w=r("5c6c"),F=r("7c73"),b=r("df75"),y=r("241c"),v=r("057f"),x=r("7418"),I=r("06cf"),S=r("9bf2"),M=r("d1e7"),k=r("9112"),_=r("6eeb"),D=r("5692"),O=r("f772"),T=r("d012"),A=r("90e3"),R=r("b622"),N=r("e538"),U=r("746f"),j=r("d44e"),$=r("69f3"),E=r("b727").forEach,z=O("hidden"),P="Symbol",B="prototype",G=R("toPrimitive"),L=$.set,q=$.getterFor(P),W=Object[B],J=i.Symbol,K=n("JSON","stringify"),Y=I.f,H=S.f,Q=v.f,V=M.f,X=D("symbols"),Z=D("op-symbols"),tt=D("string-to-symbol-registry"),et=D("symbol-to-string-registry"),rt=D("wks"),ot=i.QObject,it=!ot||!ot[B]||!ot[B].findChild,nt=s&&d((function(){return 7!=F(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,r){var o=Y(W,e);o&&delete W[e],H(t,e,r),o&&t!==W&&H(W,e,o)}:H,at=function(t,e){var r=X[t]=F(J[B]);return L(r,{type:P,tag:t,description:e}),s||(r.description=e),r},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof J},lt=function(t,e,r){t===W&&lt(Z,e,r),g(t);var o=C(e,!0);return g(r),u(X,o)?(r.enumerable?(u(t,z)&&t[z][o]&&(t[z][o]=!1),r=F(r,{enumerable:w(0,!1)})):(u(t,z)||H(t,z,w(1,{})),t[z][o]=!0),nt(t,o,r)):H(t,o,r)},ct=function(t,e){g(t);var r=p(e),o=b(r).concat(gt(r));return E(o,(function(e){s&&!ut.call(r,e)||lt(t,e,r[e])})),t},dt=function(t,e){return void 0===e?F(t):ct(F(t),e)},ut=function(t){var e=C(t,!0),r=V.call(this,e);return!(this===W&&u(X,e)&&!u(Z,e))&&(!(r||!u(this,e)||!u(X,e)||u(this,z)&&this[z][e])||r)},ft=function(t,e){var r=p(t),o=C(e,!0);if(r!==W||!u(X,o)||u(Z,o)){var i=Y(r,o);return!i||!u(X,o)||u(r,z)&&r[z][o]||(i.enumerable=!0),i}},ht=function(t){var e=Q(p(t)),r=[];return E(e,(function(t){u(X,t)||u(T,t)||r.push(t)})),r},gt=function(t){var e=t===W,r=Q(e?Z:p(t)),o=[];return E(r,(function(t){!u(X,t)||e&&!u(W,t)||o.push(X[t])})),o};if(l||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),r=function(t){this===W&&r.call(Z,t),u(this,z)&&u(this[z],e)&&(this[z][e]=!1),nt(this,e,w(1,t))};return s&&it&&nt(W,e,{configurable:!0,set:r}),at(e,t)},_(J[B],"toString",(function(){return q(this).tag})),_(J,"withoutSetter",(function(t){return at(A(t),t)})),M.f=ut,S.f=lt,I.f=ft,y.f=v.f=ht,x.f=gt,N.f=function(t){return at(R(t),t)},s&&(H(J[B],"description",{configurable:!0,get:function(){return q(this).description}}),a||_(W,"propertyIsEnumerable",ut,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:J}),E(b(rt),(function(t){U(t)})),o({target:P,stat:!0,forced:!l},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var r=J(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),o({target:"Object",stat:!0,forced:!l,sham:!s},{create:dt,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:ft}),o({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ht,getOwnPropertySymbols:gt}),o({target:"Object",stat:!0,forced:d((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(m(t))}}),K){var mt=!l||d((function(){var t=J();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));o({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var o,i=[t],n=1;while(arguments.length>n)i.push(arguments[n++]);if(o=e,(h(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!st(e))return e}),i[1]=e,K.apply(null,i)}})}J[B][G]||k(J[B],G,J[B].valueOf),j(J,P),T[z]=!0},a630:function(t,e,r){var o=r("23e7"),i=r("4df4"),n=r("1c7e"),a=!n((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:a},{from:i})},a640:function(t,e,r){"use strict";var o=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&o((function(){r.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,r){"use strict";var o=r("23e7"),i=r("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var o=r("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,r){var o=r("83ab"),i=r("9bf2").f,n=Function.prototype,a=n.toString,s=/^\s*function ([^ (]*)/,l="name";o&&!(l in n)&&i(n,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},d28b:function(t,e,r){var o=r("746f");o("iterator")},e01a:function(t,e,r){"use strict";var o=r("23e7"),i=r("83ab"),n=r("da84"),a=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),d=n.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};c(f,d);var h=f.prototype=d.prototype;h.constructor=f;var g=h.toString,m="Symbol(test)"==String(d("test")),p=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=g.call(t);if(a(u,t))return"";var r=m?e.slice(7,-1):e.replace(p,"$1");return""===r?void 0:r}}),o({global:!0,forced:!0},{Symbol:f})}},e538:function(t,e,r){var o=r("b622");e.f=o},fb6a:function(t,e,r){"use strict";var o=r("23e7"),i=r("861d"),n=r("e8b5"),a=r("23cb"),s=r("50c4"),l=r("fc6a"),c=r("8418"),d=r("b622"),u=r("1dde"),f=r("ae40"),h=u("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),p=[].slice,C=Math.max;o({target:"Array",proto:!0,forced:!h||!g},{slice:function(t,e){var r,o,d,u=l(this),f=s(u.length),h=a(t,f),g=a(void 0===e?f:e,f);if(n(u)&&(r=u.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?i(r)&&(r=r[m],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(u,h,g);for(o=new(void 0===r?Array:r)(C(g-h,0)),d=0;h<g;h++,d++)h in u&&c(o,d,u[h]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-3fd3670c.7d87551a.js.map