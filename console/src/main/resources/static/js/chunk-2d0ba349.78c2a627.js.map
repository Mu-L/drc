{"version":3,"sources":["webpack:///./src/views/deletedDrcClusters.vue?5d40","webpack:///src/views/deletedDrcClusters.vue","webpack:///./src/views/deletedDrcClusters.vue?b3f9","webpack:///./src/views/deletedDrcClusters.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","columns","dataWithPage","handleSpan","scopedSlots","_u","key","fn","ref","row","index","on","$event","checkConfig","previewRecoverConfig","total","current","size","handleChangeSize","model","value","cluster","modal","callback","$$v","$set","expression","minRows","maxRows","recoverConfig","clearRecoverConfig","staticRenderFns","data","config","mhaAToBeRecovered","mhaBToBeRecovered","recover","recover2","mhaGroups","mergeColData","computed","end","mergeData","i","mergeCol","start","preI","methods","columnIndex","x","y","assembleData","forEach","names","includes","e","srcMha","push","nameNums","n","num","splice","indexOf","tmp","console","log","getDeletedMhaGroups","axios","get","length","val","destMha","$Spin","show","h","then","post","location","reload","goToLink","$router","moreOperation","name","query","created","component"],"mappings":"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","file":"js/chunk-2d0ba349.78c2a627.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/deletedDrcClusters\"}},[_vm._v(\"DRC软删除集群\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.dataWithPage,\"border\":\"\",\"span-method\":_vm.handleSpan},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.checkConfig(row, index)}}},[_vm._v(\"查看\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.previewRecoverConfig(row, index)}}},[_vm._v(\"恢复并配置drc\")])]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.total,\"current\":_vm.current,\"page-size\":_vm.size,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1),_c('Modal',{attrs:{\"title\":\"DRC历史配置\",\"width\":\"1200px\"},model:{value:(_vm.cluster.modal.config),callback:function ($$v) {_vm.$set(_vm.cluster.modal, \"config\", $$v)},expression:\"cluster.modal.config\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"集群配置\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.config),callback:function ($$v) {_vm.$set(_vm.cluster, \"config\", $$v)},expression:\"cluster.config\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"DRC历史配置\",\"width\":\"1200px\"},on:{\"on-ok\":_vm.recoverConfig,\"on-cancel\":_vm.clearRecoverConfig},model:{value:(_vm.cluster.modal.recover),callback:function ($$v) {_vm.$set(_vm.cluster.modal, \"recover\", $$v)},expression:\"cluster.modal.recover\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"确认恢复双向复制并进入Drc配置吗？\",\"id\":\"fontsize\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.cluster.config),callback:function ($$v) {_vm.$set(_vm.cluster, \"config\", $$v)},expression:\"cluster.config\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <base-component>\r\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\r\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\r\n      <BreadcrumbItem to=\"/deletedDrcClusters\">DRC软删除集群</BreadcrumbItem>\r\n    </Breadcrumb>\r\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\r\n      <div style=\"padding: 1px 1px\">\r\n        <Table stripe :columns=\"columns\" :data=\"dataWithPage\" border :span-method=\"handleSpan\" >\r\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n            <Button type=\"success\" size=\"small\" style=\"margin-right: 5px\" @click=\"checkConfig(row, index)\">查看</Button>\r\n            <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"previewRecoverConfig(row, index)\">恢复并配置drc</Button>\r\n          </template>\r\n        </Table>\r\n        <div style=\"text-align: center;margin: 16px 0\">\r\n          <Page\r\n            :transfer=\"true\"\r\n            :total=\"total\"\r\n            :current.sync=\"current\"\r\n            :page-size=\"size\"\r\n            show-sizer\r\n            show-elevator\r\n            @on-page-size-change=\"handleChangeSize\"></Page>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        v-model=\"cluster.modal.config\"\r\n        title=\"DRC历史配置\"\r\n        width=\"1200px\">\r\n        <Form style=\"width: 100%\">\r\n          <FormItem label=\"集群配置\">\r\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.config\" readonly/>\r\n          </FormItem>\r\n        </Form>\r\n      </Modal>\r\n      <Modal\r\n        v-model=\"cluster.modal.recover\"\r\n        title=\"DRC历史配置\"\r\n        width=\"1200px\"\r\n        @on-ok=\"recoverConfig\"\r\n        @on-cancel=\"clearRecoverConfig\">\r\n        <Form style=\"width: 100%\">\r\n          <FormItem label=\"确认恢复双向复制并进入Drc配置吗？\" id=\"fontsize\">\r\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"cluster.config\" readonly/>\r\n          </FormItem>\r\n        </Form>\r\n      </Modal>\r\n    </Content>\r\n  </base-component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      cluster: {\r\n        config: '',\r\n        mhaAToBeRecovered: '',\r\n        mhaBToBeRecovered: '',\r\n        modal: {\r\n          config: false,\r\n          recover: false,\r\n          recover2: false\r\n        }\r\n      },\r\n      columns: [\r\n        {\r\n          title: '序号',\r\n          width: 75,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h(\r\n              'span',\r\n              params.index + 1 + (this.current - 1) * this.size\r\n            )\r\n          }\r\n        },\r\n        {\r\n          title: '集群A',\r\n          key: 'srcMha'\r\n        },\r\n        {\r\n          title: '集群B',\r\n          key: 'destMha'\r\n        },\r\n        {\r\n          title: '删除状态',\r\n          key: 'deleted',\r\n          width: 150,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            const color = 'volcano'\r\n            const text = '已删除'\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          align: 'center'\r\n        }\r\n      ],\r\n      mhaGroups: [],\r\n      total: 0,\r\n      current: 1,\r\n      size: 10,\r\n      mergeColData: []\r\n    }\r\n  },\r\n  computed: {\r\n    dataWithPage () {\r\n      const data = this.mhaGroups\r\n      const mergeData = this.mergeColData\r\n      const start = this.current * this.size - this.size\r\n      let end = start + this.size\r\n      if (end >= this.total) {\r\n        end = this.total\r\n      }\r\n      for (let i = start; i < end; i++) {\r\n        if (mergeData[i] + i > end) {\r\n          data[i].mergeCol = end - i\r\n          // console.log('i: ' + i)\r\n          // console.log('data[i].mergeCol: ' + data[i].mergeCol)\r\n        } else {\r\n          data[i].mergeCol = mergeData[i]\r\n        }\r\n      }\r\n      if (start >= this.size) {\r\n        for (let preI = start - this.size; preI < start; preI++) {\r\n          // console.log('preI:' + preI)\r\n          // console.log('data[preI].mergeCol' + mergeData[preI])\r\n          if (mergeData[preI] + preI > start) {\r\n            data[start].mergeCol = mergeData[preI] + preI - start\r\n            break\r\n          }\r\n        }\r\n      }\r\n      // console.log('start: ' + start)\r\n      // console.log('end: ' + end)\r\n      return [...data].slice(start, end)\r\n    }\r\n  },\r\n  methods: {\r\n    handleSpan ({ row, column, rowIndex, columnIndex }) {\r\n      if (columnIndex === 1) {\r\n        const x = row.mergeCol === 0 ? 0 : row.mergeCol\r\n        const y = row.mergeCol === 0 ? 0 : 1\r\n        // console.log(x , y)\r\n        return [x, y]\r\n      }\r\n    },\r\n    assembleData (data) {\r\n      const names = []\r\n      data.forEach(e => {\r\n        if (!names.includes(e.srcMha)) {\r\n          names.push(e.srcMha)\r\n        }\r\n      })\r\n      const nameNums = []\r\n      names.forEach(e => {\r\n        nameNums.push({ srcMha: e, num: 0 })\r\n      })\r\n      data.forEach(e => {\r\n        nameNums.forEach(n => {\r\n          if (e.srcMha === n.srcMha) {\r\n            n.num++\r\n          }\r\n        })\r\n      })\r\n      data.forEach(e => {\r\n        nameNums.forEach(n => {\r\n          if (e.srcMha === n.srcMha) {\r\n            if (names.includes(e.srcMha)) {\r\n              e.mergeCol = n.num\r\n              this.mergeColData.push(e.mergeCol)\r\n              names.splice(names.indexOf(n.srcMha), 1)\r\n            } else {\r\n              e.mergeCol = 0\r\n              this.mergeColData.push(e.mergeCol)\r\n            }\r\n          }\r\n        })\r\n      })\r\n      const tmp = data\r\n      this.mhaGroups = tmp\r\n      console.log('assemble')\r\n    },\r\n    getDeletedMhaGroups () {\r\n      this.axios.get('/api/drc/v1/meta/orderedDeletedGroups/all')\r\n        .then(response => {\r\n          this.mhaGroups = response.data.data\r\n          this.total = this.mhaGroups.length\r\n          this.assembleData(this.mhaGroups)\r\n        })\r\n      this.total = this.mhaGroups.length\r\n      this.assembleData(this.mhaGroups)\r\n    },\r\n    handleChangeSize (val) {\r\n      this.size = val\r\n    },\r\n    checkConfig (row, index) {\r\n      console.log(row.srcMha)\r\n      console.log(row.destMha)\r\n      this.$Spin.show({\r\n        render: (h) => {\r\n          return h('div', [\r\n            h('Icon', {\r\n              class: 'demo-spin-icon-load',\r\n              props: {\r\n                size: 18\r\n              }\r\n            }),\r\n            h('div', '请稍等...')\r\n          ])\r\n        }\r\n      })\r\n      this.axios.get('/api/drc/v1/meta/config/deletedMhas/' + row.srcMha + ',' + row.destMha).then(response => {\r\n        const data = response.data.data\r\n        console.log(data)\r\n        this.cluster.config = data\r\n        this.$Spin.hide()\r\n        this.cluster.modal.config = true\r\n      })\r\n    },\r\n    previewRecoverConfig (row, index) {\r\n      console.log(row.srcMha)\r\n      console.log(row.destMha)\r\n      this.cluster.mhaAToBeRecovered = row.srcMha\r\n      this.cluster.mhaBToBeRecovered = row.destMha\r\n      this.$Spin.show({\r\n        render: (h) => {\r\n          return h('div', [\r\n            h('Icon', {\r\n              class: 'demo-spin-icon-load',\r\n              props: {\r\n                size: 18\r\n              }\r\n            }),\r\n            h('div', '请稍等...')\r\n          ])\r\n        }\r\n      })\r\n      this.axios.get('/api/drc/v1/meta/config/deletedMhas/' + row.srcMha + ',' + row.destMha).then(response => {\r\n        const data = response.data.data\r\n        console.log(data)\r\n        this.cluster.config = data\r\n        this.$Spin.hide()\r\n        this.cluster.modal.recover = true\r\n      })\r\n    },\r\n    recoverConfig () {\r\n      console.log('mhaAToBeRecovered', this.cluster.mhaAToBeRecovered)\r\n      console.log('mhaBToBeRecovered', this.cluster.mhaBToBeRecovered)\r\n      this.$Spin.show({\r\n        render: (h) => {\r\n          return h('div', [\r\n            h('Icon', {\r\n              class: 'demo-spin-icon-load',\r\n              props: {\r\n                size: 18\r\n              }\r\n            }),\r\n            h('div', '请稍等...进入drc配置选择页面')\r\n          ])\r\n        }\r\n      })\r\n      this.axios.post('/api/drc/v1/meta/config/recoverMhas/' + this.cluster.mhaAToBeRecovered + ',' + this.cluster.mhaBToBeRecovered).then(response => {\r\n        const data = response.data.data\r\n        console.log(data)\r\n        if (data) {\r\n          location.reload()\r\n        }\r\n        this.$Spin.hide()\r\n      }).then(this.goToLink({ srcMha: this.cluster.mhaAToBeRecovered, destMha: this.cluster.mhaBToBeRecovered }))\r\n      this.clearRecoverConfig()\r\n    },\r\n    goToLink (data) {\r\n      console.log('go to change config for ' + data.srcMha + ' and ' + data.destMha)\r\n      this.$router.push({ path: '/access', query: { step: '3', clustername: data.srcMha, newclustername: data.destMha } })\r\n    },\r\n    clearRecoverConfig () {\r\n      console.log('clear mhaAToBeRecovered', this.cluster.mhaAToBeRecovered)\r\n      console.log('clear mhaBToBeRecovered', this.cluster.mhaBToBeRecovered)\r\n      this.cluster.mhaAToBeRecovered = ''\r\n      this.cluster.mhaBToBeRecovered = ''\r\n    },\r\n    moreOperation (row) {\r\n      this.$router.push({\r\n        name: 'incrementDataConsistencyCheck',\r\n        query: { clusterA: row.srcMha, clusterB: row.destMha }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getDeletedMhaGroups()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deletedDrcClusters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deletedDrcClusters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deletedDrcClusters.vue?vue&type=template&id=96f1a430&\"\nimport script from \"./deletedDrcClusters.vue?vue&type=script&lang=js&\"\nexport * from \"./deletedDrcClusters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}