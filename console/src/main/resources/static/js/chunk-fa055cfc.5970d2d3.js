(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa055cfc"],{"0251":function(e,t,o){"use strict";o.r(t);o("b0c0");var n=function(){var e=this,t=e._self._c;return t("base-component",[t("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[t("BreadcrumbItem",{attrs:{to:{path:"/v2/mhaReplications",query:{srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,preciseSearchMode:!0}}}},[e._v("首页 ")]),t("BreadcrumbItem",{attrs:{to:{path:"/drcV2",query:{step:3,srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,srcDc:this.commonInfo.srcDc,dstDc:this.commonInfo.dstDc,order:this.commonInfo.order}}}},[e._v("DRC-MHA 配置 ")]),t("BreadcrumbItem",{attrs:{to:"/v2/mhaDbReplications"}},[e._v("DB 复制链路")]),t("BreadcrumbItem",{attrs:{to:{path:"/dbTables",query:{srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,srcDc:this.commonInfo.srcDc,dstDc:this.commonInfo.dstDc}}}},[e._v("同步表 ")]),t("BreadcrumbItem",[e._v("同步表配置")])],1),t("Content",{staticClass:"content",style:{padding:"10px",background:"#ffffff",margin:"50px 0 1px 185px",zIndex:"1"}},[t("span",{staticStyle:{"margin-top":"10px",color:"#464c5b","font-weight":"600"}},[e._v(e._s(e.commonInfo.srcMhaName)+"("+e._s(e.commonInfo.srcDc)+") ==> "+e._s(e.commonInfo.dstMhaName)+"("+e._s(e.commonInfo.dstDc)+")")]),t("br"),t("br"),e.showMsg?t("Alert",{attrs:{type:"warning","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.message))]},proxy:!0}],null,!1,964728714)},[e._v(" "+e._s(e.title)+" ")]):e._e(),t("Row",{attrs:{gutter:10,align:"middle"}},[t("Col",{attrs:{span:"13"}},[t("Form",{ref:"commonInfo",attrs:{model:e.commonInfo,rules:e.ruleInline,"label-width":100}},[t("FormItem",{attrs:{prop:"dbName",label:"库名",required:!0}},[t("Input",{attrs:{type:"text",readonly:e.update,placeholder:"请输入库名（支持正则）"},model:{value:e.commonInfo.dbName,callback:function(t){e.$set(e.commonInfo,"dbName",t)},expression:"commonInfo.dbName"}})],1),t("FormItem",{attrs:{prop:"tableName",label:"表名",required:!0}},[t("Input",{attrs:{type:"text",readonly:e.show,placeholder:"请输入表名（支持正则）"},model:{value:e.commonInfo.tableName,callback:function(t){e.$set(e.commonInfo,"tableName",t)},expression:"commonInfo.tableName"}})],1),t("FormItem",{attrs:{label:"行过滤"}},[t("i-switch",{attrs:{disabled:e.show,size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[t("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[t("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.rowsFilter,callback:function(t){e.$set(e.formItem.switch,"rowsFilter",t)},expression:"formItem.switch.rowsFilter"}})],1),e.formItem.switch.rowsFilter?t("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"md-settings"}}),e._v(" 行过滤配置 ")]},proxy:!0}],null,!1,2915474430)},[t("FormItem",{attrs:{label:"模式"}},[t("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择行过滤模式"},model:{value:e.rowsFilterConfig.mode,callback:function(t){e.$set(e.rowsFilterConfig,"mode",t)},expression:"rowsFilterConfig.mode"}},e._l(e.rowsFilterConfig.modes,(function(o){return t("Option",{key:o.mode,attrs:{value:o.mode}},[e._v(e._s(o.name)+" ")])})),1)],1),e.useTripUdlOrUidMode?t("div",[e.fillContextByRegion?t("FormItem",{attrs:{label:"规则内容"}},[t("Select",{staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"Region 选择"},model:{value:e.configInTripUid.regionsChosen,callback:function(t){e.$set(e.configInTripUid,"regionsChosen",t)},expression:"configInTripUid.regionsChosen"}},e._l(e.constants.regionsForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1):e._e(),e.showUdlConfigDetail?t("div",[t("Divider",[e._v("UDL配置")]),t("FormItem",{attrs:{label:"UDL字段"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UDL配置"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.udlColumns,callback:function(t){e.$set(e.rowsFilterConfig,"udlColumns",t)},expression:"rowsFilterConfig.udlColumns"}},e._l(e.columnsForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1),e.hasUdlColumn?t("FormItem",{attrs:{label:"DRC UDL策略id"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择ucs策略id"},model:{value:e.rowsFilterConfig.drcStrategyId,callback:function(t){e.$set(e.rowsFilterConfig,"drcStrategyId",t)},expression:"rowsFilterConfig.drcStrategyId"}},e._l(e.constants.drcStrategyIdsForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o)+" ")])})),1)],1):e._e()],1):e._e(),e.showUidConfigDetail?t("div",[t("Divider",[e._v("UID配置")]),t("FormItem",{attrs:{label:"UID字段"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UID配置"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1),e.hasUidColumn?t("FormItem",{attrs:{label:"fetchMode"}},[t("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择"},on:{"on-change":function(t){return e.fetchModeChange()}},model:{value:e.rowsFilterConfig.fetchMode,callback:function(t){e.$set(e.rowsFilterConfig,"fetchMode",t)},expression:"rowsFilterConfig.fetchMode"}},e._l(e.rowsFilterConfig.fetchModeForChose,(function(o){return t("Option",{key:o.k,attrs:{value:o.v}},[e._v(e._s(o.k)+" ")])})),1)],1):e._e(),e.hasUidColumn?t("FormItem",{attrs:{label:"空处理"}},[t("Checkbox",{model:{value:e.rowsFilterConfig.illegalArgument,callback:function(t){e.$set(e.rowsFilterConfig,"illegalArgument",t)},expression:"rowsFilterConfig.illegalArgument"}},[e._v("【字段为空时】同步")])],1):e._e()],1):e._e()],1):e.useCustomSoaMode?t("div",[t("FormItem",{attrs:{label:"相关字段"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(e){return t("Option",{key:e,attrs:{value:e,lable:e}})})),1)],1),t("FormItem",{attrs:{label:"ServiceCode"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择soaServiceCode"},on:{"on-create":e.handleCreateSoaServiceCode},model:{value:e.rowsFilterConfig.drcStrategyId,callback:function(t){e.$set(e.rowsFilterConfig,"drcStrategyId",t)},expression:"rowsFilterConfig.drcStrategyId"}},e._l(e.rowsFilterConfig.serviceCodeForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o)+" ")])})),1)],1),t("FormItem",{attrs:{label:"服务名"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择服务名"},on:{"on-create":e.handleCreateSoaServiceName},model:{value:e.rowsFilterConfig.context,callback:function(t){e.$set(e.rowsFilterConfig,"context",t)},expression:"rowsFilterConfig.context"}},e._l(e.rowsFilterConfig.serviceNameForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o)+" ")])})),1)],1)],1):t("div",[t("FormItem",{attrs:{label:"规则内容"}},[t("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"请输入行过滤内容"},model:{value:e.rowsFilterConfig.context,callback:function(t){e.$set(e.rowsFilterConfig,"context",t)},expression:"rowsFilterConfig.context"}})],1),t("FormItem",{attrs:{label:"相关字段"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(e){return t("Option",{key:e,attrs:{value:e,lable:e}})})),1)],1)],1)],1):e._e(),t("FormItem",{attrs:{label:"字段过滤"}},[t("i-switch",{attrs:{disabled:e.show,size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[t("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[t("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.columnsFilter,callback:function(t){e.$set(e.formItem.switch,"columnsFilter",t)},expression:"formItem.switch.columnsFilter"}})],1),e.formItem.switch.columnsFilter?t("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"md-settings"}}),e._v(" 字段过滤配置 ")]},proxy:!0}],null,!1,495830608)},[t("FormItem",{attrs:{label:"模式"}},[t("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择字段过滤模式"},model:{value:e.columnsFilterConfig.mode,callback:function(t){e.$set(e.columnsFilterConfig,"mode",t)},expression:"columnsFilterConfig.mode"}},e._l(e.columnsFilterConfig.modes,(function(o){return t("Option",{key:o.mode,attrs:{value:o.mode}},[e._v(e._s(o.name)+" ")])})),1)],1),t("FormItem",{attrs:{label:"字段"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关的字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.columnsFilterConfig.columns,callback:function(t){e.$set(e.columnsFilterConfig,"columns",t)},expression:"columnsFilterConfig.columns"}},e._l(e.columnsForChose,(function(o){return t("Option",{key:o,attrs:{value:o}},[e._v(e._s(o))])})),1)],1)],1):e._e(),t("br"),e.show?e._e():t("FormItem",[t("Button",{attrs:{type:"primary",loading:e.dataLoading},on:{click:e.submitAll}},[e._v("提交")])],1)],1)],1),t("Col",{attrs:{span:"11"}},[t("Divider",{staticStyle:{"margin-top":"1px"}},[e._v("预览：同步表")]),t("Button",{attrs:{type:"primary",loading:e.tableLoading},on:{click:e.checkMysqlTablesInSrcMha}},[e._v("检查同步表")]),t("Table",{attrs:{size:"small",height:e.tableHeight,loading:e.tableLoading,stripe:"",columns:e.nameFilterCheck.columns,data:e.dataWithPage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.commonInfo.tableData.length,current:e.nameFilterCheck.current,"page-size-opts":e.nameFilterCheck.pageSizeOpts,"page-size":this.nameFilterCheck.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.nameFilterCheck,"current",t)},"on-page-size-change":e.handleChangeSize}})],1)],1)],1)],1)],1)},r=[],i=o("2909"),s=(o("caad"),o("a15b"),o("14d9"),o("fb6a"),o("a9e3"),o("b64b"),o("2532"),{data:function(){return{currentStep:0,dataLoading:!1,tableLoading:!1,update:!1,batchUpdate:!1,show:!1,message:"",showMsg:!1,title:"",tableHeight:80,submit:!0,constants:{regionsForChose:["SGP","SIN","SH","FRA"],drcStrategyIdsForChose:[2000000002],filterMode:{JAVA_REGEX:0,TRIP_UDL:1,AVIATOR_REGEX:3,TRIP_UDL_UID:5,CUSTOM_SOA:6},fetchMode:{RPC:0,BlackList:1,WhiteList:2,BlackList_Global:3}},rowsFilterConfig:{mode:1,drcStrategyId:2000000002,routeStrategyId:0,udlColumns:[],columns:[],context:"",illegalArgument:!1,fetchMode:0,modes:[{name:"trip_udl",mode:1},{name:"java_regex",mode:0},{name:"aviator_regex",mode:3},{name:"trip_udl_uid",mode:5},{name:"custom_soa",mode:6}],fetchModeForChose:[{k:"RPC调用",v:0},{k:"BlackList",v:1},{k:"WhiteList",v:2},{k:"BlackListGlobal",v:3}],serviceCodeForChose:[32578],serviceNameForChose:["DataSyncService","FilterRowService"]},columnsForChose:[],configInTripUid:{regionsChosen:[]},columnsFilterConfig:{mode:Number,columns:[],modes:[{name:"exclude",mode:0},{name:"include",mode:1},{name:"regex",mode:2}]},formItem:{switch:{rowsFilter:!1,columnsFilter:!1}},commonInfo:{srcMhaName:"",srcMhaId:0,dstMhaName:"",srcDc:"",dstDc:"",order:!0,testIds:[],dbReplicationIds:[],dbReplicationId:0,dbName:"",tableName:"",tableData:[],rowsFilterDetail:{mode:"trip-uld",row:null},colsFilterDetail:{mode:null,row:null},switch:{rowsFilter:!1,columnsFilter:!1}},ruleInline:{dbName:[{required:!0,message:"请输入库名",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"}]},nameFilterCheck:{columns:[{title:"序号",width:75,align:"center",fixed:"left",render:function(e,t){return e("span",t.index+1)}},{title:"库名",key:"schema",resizable:!0},{title:"表名",key:"table",resizable:!0},{title:"结果",align:"center",render:function(e,t){var o=t.row,n="ok"!==o.res?"volcano":"green",r=o.res;return e("Tag",{props:{color:n}},r)}}],total:0,current:1,size:10,pageSizeOpts:[10,20,50,100]}}},methods:{submitAll:function(){var e=this;console.log("dbReplicationId: "+this.commonInfo.dbReplicationId),console.log("dbReplicationIds: "+this.commonInfo.dbReplicationIds),console.log("testIds: "+this.commonInfo.testIds),this.submit=!0;var t=this.getRowsFilterParam(),o=this.getColumnsFilterParam();if(this.submit){this.dataLoading=!0;var n={dbReplicationIds:this.commonInfo.dbReplicationIds,srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,dbName:this.commonInfo.dbName,tableName:this.commonInfo.tableName,rowsFilterCreateParam:t,columnsFilterCreateParam:o};this.axios.post("/api/drc/v2/config/dbReplications",n).then((function(t){e.dataLoading=!1,1===t.data.status?e.$Message.error({content:"提交失败! "+t.data.message,duration:2}):(e.update=!0,e.show=!0,e.$Message.success("提交成功！"))}))}},checkMysqlTablesInSrcMha:function(){this.nameFilterCheck.current=1,this.getCommonColumns(),this.checkMySqlTables(this.commonInfo.srcMhaName,this.commonInfo.dbName+"\\."+this.commonInfo.tableName)},checkMySqlTables:function(e,t){var o=this;console.log("nameFilter:"+t),null==t&&(t=""),this.tableLoading=!0,this.axios.get("/api/drc/v2/mysql/preCheckMySqlTables?mha="+e+"&nameFilter="+t).then((function(e){o.tableLoading=!1,o.commonInfo.tableData=e.data.data,o.commonInfo.tableData.length<10?o.tableHeight=40*(o.commonInfo.tableData.length+1):o.tableHeight=440}))},handleChangeSize:function(e){this.nameFilterCheck.size=e},getRowsFilterParam:function(){if(!this.formItem.switch.rowsFilter)return null;if(this.useTripUdlOrUidMode){if(!this.hasUidColumn&&!this.hasUdlColumn)return this.$Message.warning("uid 与 uld字段不能同时为空！"),void(this.submit=!1);if(this.fillContextByRegion?this.rowsFilterConfig.context=this.configInTripUid.regionsChosen.join(","):this.rowsFilterConfig.context="//filter by config",this.fillContextByRegion&&(""===this.rowsFilterConfig.context||void 0===this.rowsFilterConfig.context||"//filter by config"===this.rowsFilterConfig.context))return this.$Message.warning("context 不能为空！"),void(this.submit=!1)}if(""!==this.rowsFilterConfig.mode&&void 0!==this.rowsFilterConfig.mode&&(0!==this.rowsFilterConfig.columns.length||0!==this.rowsFilterConfig.udlColumns.length)){var e={dbName:this.dbName,tableName:this.tableName,mode:this.rowsFilterConfig.mode,columns:0===this.rowsFilterConfig.columns.length?null:this.rowsFilterConfig.columns,udlColumns:0===this.rowsFilterConfig.udlColumns.length?null:this.rowsFilterConfig.udlColumns,drcStrategyId:0!==this.rowsFilterConfig.udlColumns.length||this.useCustomSoaMode?this.rowsFilterConfig.drcStrategyId:null,routeStrategyId:this.rowsFilterConfig.routeStrategyId,illegalArgument:this.rowsFilterConfig.illegalArgument,fetchMode:this.rowsFilterConfig.fetchMode,context:""===this.rowsFilterConfig.context?null:this.rowsFilterConfig.context};return e}this.$Message.warning("缺少行过滤配置 禁止提交"),this.submit=!1},getRowsFilterConfig:function(){var e=this;this.axios.get("/api/drc/v2/config/rowsFilter?dbReplicationId="+this.commonInfo.dbReplicationId).then((function(t){if(1===t.data.status)e.$Message.error("查询行过滤配置失败!");else{var o=t.data.data;null==o||(e.formItem.switch.rowsFilter=!0,e.rowsFilterConfig.context=o.context,e.rowsFilterConfig.mode=o.mode,e.useTripUdlOrUidMode?e.configInTripUid.regionsChosen=o.context.split(","):e.configInTripUid={regionsChosen:[]},e.rowsFilterConfig.columns=null===o.columns?[]:o.columns,null!==o.udlColumns&&(e.rowsFilterConfig.udlColumns=o.udlColumns),e.rowsFilterConfig.drcStrategyId=0===o.drcStrategyId?null:o.drcStrategyId,e.rowsFilterConfig.routeStrategyId=o.routeStrategyId,e.rowsFilterConfig.illegalArgument=o.illegalArgument,e.rowsFilterConfig.fetchMode=o.fetchMode)}}))},getCommonColumns:function(){var e=this;this.axios.get("/api/drc/v2/mysql/commonColumns?&mhaName="+this.commonInfo.srcMhaName+"&namespace="+this.commonInfo.dbName+"&name="+this.commonInfo.tableName).then((function(t){1===t.data.status?(e.$Message.error("查询公共列名失败，请手动添加！"),e.columnsForChose=[]):(console.log(t.data.data),e.columnsForChose=t.data.data,0===e.columnsForChose.length&&e.$Message.warning("查询无公共字段！"))}))},fetchModeChange:function(){1===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.illegalArgument=!0:this.rowsFilterConfig.illegalArgument=!1},getColumnsFilterParam:function(){if(this.formItem.switch.columnsFilter){var e={mode:this.columnsFilterConfig.mode,columns:this.columnsFilterConfig.columns};return e}return null},getColumnsFilterConfig:function(){var e=this;this.axios.get("/api/drc/v2/config/columnsFilter?dbReplicationId="+this.commonInfo.dbReplicationId).then((function(t){if(1===t.data.status)e.$Message.error("查询字段过滤配置失败!");else{var o=t.data.data;null==o||(e.columnsFilterConfig.mode=o.mode,e.columnsFilterConfig.columns=o.columns,e.formItem.switch.columnsFilter=!0)}}))},contains:function(e,t){var o=e.length;while(o--)if(e[o]===t)return!0;return!1},handleCreateUDLColumn:function(e){var t=this;this.showMsg=!1,"无UDL"===e||this.contains(this.columnsForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.axios.get("/api/drc/v2/mysql//columnCheck?mhaName="+this.commonInfo.srcMhaName+"&namespace="+this.commonInfo.dbName+"&name="+this.commonInfo.tableName+"&column="+e).then((function(o){if(1===o.data.status)t.$Message.error("查询字段:"+e+"失败！"+o.data.data),t.columnsForChose.push(e);else{var n=o.data.data;0!==n.length&&(t.showMsg=!0,t.title="以下表无字段"+e,t.message=n),t.columnsForChose.push(e)}})):alert("字段不能为空")},handleCreateColumn:function(e){this.contains(this.columnsForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.columnsForChose.push(e):alert("字段不能为空")},handleCreateSoaServiceCode:function(e){this.contains(this.rowsFilterConfig.serviceCodeForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e&&0!==e?this.rowsFilterConfig.serviceCodeForChose.push(e):alert("serviceCode不能为空")},handleCreateSoaServiceName:function(e){this.contains(this.rowsFilterConfig.serviceNameForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.rowsFilterConfig.serviceNameForChose.push(e):alert("serviceName不能为空")},notice:function(){this.batchUpdate&&void 0!==this.commonInfo.dbReplicationIds&&this.$Message.info("共选中"+this.commonInfo.dbReplicationIds.length+"行")},init:function(){this.notice(),void 0!==this.commonInfo.dbReplicationId&&(this.getRowsFilterConfig(),this.getColumnsFilterConfig())}},computed:{dataWithPage:function(){var e=this.commonInfo.tableData,t=this.nameFilterCheck.current*this.nameFilterCheck.size-this.nameFilterCheck.size,o=t+this.nameFilterCheck.size;return Object(i["a"])(e).slice(t,o)},useTripUdlOrUidMode:function(){return[this.constants.filterMode.TRIP_UDL,this.constants.filterMode.TRIP_UDL_UID].includes(this.rowsFilterConfig.mode)},useCustomSoaMode:function(){return[this.constants.filterMode.CUSTOM_SOA].includes(this.rowsFilterConfig.mode)},hasUdlColumn:function(){return 0!==this.rowsFilterConfig.udlColumns.length},fillContextByRegion:function(){return this.rowsFilterConfig.fetchMode===this.constants.fetchMode.RPC},hasUidColumn:function(){return 0!==this.rowsFilterConfig.columns.length},showUdlConfigDetail:function(){return this.rowsFilterConfig.mode===this.constants.filterMode.TRIP_UDL_UID||this.hasUdlLegalConfig||!this.hasUidLegalConfig},showUidConfigDetail:function(){return this.rowsFilterConfig.mode===this.constants.filterMode.TRIP_UDL_UID||this.hasUidLegalConfig||!this.hasUdlLegalConfig},hasUdlLegalConfig:function(){return 0!==this.rowsFilterConfig.udlColumns.length&&null!=this.rowsFilterConfig.drcStrategyId&&this.rowsFilterConfig.drcStrategyId>0},hasUidLegalConfig:function(){return this.hasUidColumn}},created:function(){var e=this;this.axios.get("/api/drc/v2/permission/meta/mhaReplication/modify").then((function(t){if(403!==t.data.status){var o=[];void 0!==e.$route.query.dbReplicationIds&&(o=JSON.parse(e.$route.query.dbReplicationIds)),console.log("dbReplicationIds:"+o),e.commonInfo={srcMhaName:e.$route.query.srcMhaName,srcMhaId:e.$route.query.srcMhaId,dstMhaName:e.$route.query.dstMhaName,srcDc:e.$route.query.srcDc,dstDc:e.$route.query.dstDc,dbName:e.$route.query.dbName,tableName:e.$route.query.tableName,dbReplicationId:e.$route.query.dbReplicationId,dbReplicationIds:o,tableData:[]},e.update=!0===e.$route.query.update||"true"===e.$route.query.update,e.batchUpdate=!0===e.$route.query.batchUpdate||"true"===e.$route.query.batchUpdate,e.show=!0===e.$route.query.show||"true"===e.$route.query.show;var n=void 0!==e.commonInfo.dbName&&void 0!==e.commonInfo.tableName;n&&e.checkMysqlTablesInSrcMha(),console.log("commonInfo"),console.log(e.commonInfo),e.init()}else e.$router.push("/nopermission")}))}}),a=s,l=o("2877"),c=Object(l["a"])(a,n,r,!1,null,null,null);t["default"]=c.exports},2532:function(e,t,o){"use strict";var n=o("23e7"),r=o("e330"),i=o("5a34"),s=o("1d80"),a=o("577e"),l=o("ab13"),c=r("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"408a":function(e,t,o){"use strict";var n=o("e330");e.exports=n(1..valueOf)},"44e7":function(e,t,o){"use strict";var n=o("861d"),r=o("c6b6"),i=o("b622"),s=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===r(e))}},5899:function(e,t,o){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,o){"use strict";var n=o("e330"),r=o("1d80"),i=o("577e"),s=o("5899"),a=n("".replace),l=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),m=function(e){return function(t){var o=i(r(t));return 1&e&&(o=a(o,l,"")),2&e&&(o=a(o,c,"$1")),o}};e.exports={start:m(1),end:m(2),trim:m(3)}},"5a34":function(e,t,o){"use strict";var n=o("44e7"),r=TypeError;e.exports=function(e){if(n(e))throw new r("The method doesn't accept regular expressions");return e}},a15b:function(e,t,o){"use strict";var n=o("23e7"),r=o("e330"),i=o("44ad"),s=o("fc6a"),a=o("a640"),l=r([].join),c=i!==Object,m=c||!a("join",",");n({target:"Array",proto:!0,forced:m},{join:function(e){return l(s(this),void 0===e?",":e)}})},a640:function(e,t,o){"use strict";var n=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){return 1},1)}))}},a9e3:function(e,t,o){"use strict";var n=o("23e7"),r=o("c430"),i=o("83ab"),s=o("cfe9"),a=o("428f"),l=o("e330"),c=o("94ca"),m=o("1a2d"),u=o("7156"),d=o("3a9b"),h=o("d9b5"),f=o("c04e"),g=o("d039"),C=o("241c").f,p=o("06cf").f,b=o("9bf2").f,F=o("408a"),I=o("58a8").trim,w="Number",v=s[w],y=a[w],x=v.prototype,_=s.TypeError,S=l("".slice),M=l("".charCodeAt),N=function(e){var t=f(e,"number");return"bigint"==typeof t?t:k(t)},k=function(e){var t,o,n,r,i,s,a,l,c=f(e,"number");if(h(c))throw new _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=I(c),t=M(c,0),43===t||45===t){if(o=M(c,2),88===o||120===o)return NaN}else if(48===t){switch(M(c,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=S(c,2),s=i.length,a=0;a<s;a++)if(l=M(i,a),l<48||l>r)return NaN;return parseInt(i,n)}return+c},U=c(w,!v(" 0o1")||!v("0b1")||v("+0x1")),D=function(e){return d(x,e)&&g((function(){F(e)}))},R=function(e){var t=arguments.length<1?0:v(N(e));return D(this)?u(Object(t),this,R):t};R.prototype=x,U&&!r&&(x.constructor=R),n({global:!0,constructor:!0,wrap:!0,forced:U},{Number:R});var $=function(e,t){for(var o,n=i?C(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0;n.length>r;r++)m(t,o=n[r])&&!m(e,o)&&b(e,o,p(t,o))};r&&y&&$(a[w],y),(U||r)&&$(a[w],v)},ab13:function(e,t,o){"use strict";var n=o("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}}}]);
//# sourceMappingURL=chunk-fa055cfc.5970d2d3.js.map