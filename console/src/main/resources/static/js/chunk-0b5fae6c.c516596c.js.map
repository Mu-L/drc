{"version":3,"sources":["webpack:///./src/views/v2/meta/dbMqBuildV2.vue?3abe","webpack:///./src/components/v2/mhaMessengers/drcConfig.vue","webpack:///src/components/v2/mhaMessengers/drcConfig.vue","webpack:///./src/components/v2/mhaMessengers/drcConfig.vue?c1ea","webpack:///./src/components/v2/mhaMessengers/drcConfig.vue?29c4","webpack:///./src/views/v2/meta/dbMqBuildV2.vue","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue","webpack:///src/components/v2/dbDrcBuild/dbMqConfig.vue","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue?6ec2","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue?ab6d","webpack:///src/components/v2/dbDrcBuild/mqTables.vue","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue?9c46","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue?356f","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue","webpack:///src/components/v2/dbDrcBuild/mhaDbMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue?0b54","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue?1210","webpack:///src/components/v2/dbDrcBuild/mhaMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue?da43","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue?73f4","webpack:///src/views/v2/meta/dbMqBuildV2.vue","webpack:///./src/views/v2/meta/dbMqBuildV2.vue?3589","webpack:///./src/views/v2/meta/dbMqBuildV2.vue?e408"],"names":["render","_vm","this","_c","_self","ref","staticStyle","attrs","drc","model","value","mhaName","callback","$$v","$set","expression","replicators","_l","replicatorList","item","key","ip","_v","_s","az","on","autoConfigReplicator","showMhaApplierConfig","messengers","messengerList","autoConfigMessenger","_e","rGtidExecuted","queryMhaMachineGtid","hasTest1","testSuccess1","queryMhaGtidCheckRes","goToMqConfigs","showDbMhaApplierConfig","getMhaDbMessenger","aGtidExecuted","$event","handleReset","preCheckConfigure","submitConfig","reviewModal","minRows","maxRows","resultModal","result","reviewConfigure","warnModal","directives","name","rawName","conflictMha","domProps","target","composing","share","conflictCurrent","gtidCheck","modal","resVo","legal","mha","configGtid","purgedGtid","staticRenderFns","props","String","dc","data","dbMessengerSwitch","dbMessengerList","methods","_this","axios","get","then","response","console","log","forEach","push","_this2","getResources","_this3","getResourcesInUse","_this4","params","$router","path","query","$refs","resetFields","_this5","replicatorIps","join","messengerIps","preCheckRes","status","workingReplicatorIps","window","alert","_this6","that","$Message","warning","message","catch","error","_this7","hasAppliers","dbApplierDtos","_step","_iterator","_createForOfIteratorHelper","s","n","done","x","ips","length","err","e","f","_this8","post","content","duration","created","component","style","margin","position","staticClass","padding","background","zIndex","formItem","meta","fixDb","getExistDb","dataLoading","selectDb","dbName","dbOptions","option","index","afterSelectExistReplication","selectedExistReplication","existReplicationRegionOptions","items","srcRegionName","goToCreateReplication","createModal","open","drcConfig","logicTableSummaryDtos","configDataLoading","dstRegionName","dbNames","getDrcConfig","mhaMqDtos","height","columns","tableData","scopedSlots","_u","fn","_ref","row","goToUpdateConfig","goToDeleteConfig","goToInsertConfig","actionTitle","editModal","selectedRow","srcRegion","action","finishConfig","formAction","alertInfo","show","proxy","title","successShow","bu","constants","buForChosen","type","indexOf","_k","keyCode","preventDefault","afterEnterTableName","tableName","refreshTopicBu","topic","switch","order","commonColumnLoading","getCommonColumns","handleCreateColumn","orderKey","columnsForChose","buildMode","Number","buttonTypeMap","submitAll","buttonTextMap","components","DbTablesPreview","FORM_ACTION_OPTION","CREATE","EDIT","DELETE","configData","dstRegion","Array","emits","rowsFilterId","colsFilterId","dbReplicationIds","originLogicTableConfig","checkTableDataList","table","dbMhaTableLoading","dbMhaTableColumn","h","srcMha","float","color","regionName","dcName","dstMha","dbMhaTablePage","total","current","size","pageSizeOpts","dbTableLoading","dbTableColumn","width","align","fixed","resizable","res","text","dbTablePage","Map","successSubmit","getParams","param","buName","tag","mode","replicationType","gtidConfigurable","gtidInit","tblsFilterDetail","tableNames","getEditParams","logicTableConfig","logicTable","dstLogicTable","mqConfig","mqType","serialization","persistent","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","flattenObj","info","finally","stop","val","contains","undefined","split","_callee2","_context2","getTableInfo","ob","i","_typeof","isArray","temp","j","refresh","_callee3","_context3","JSON","stringify","config","originMyConfig","getBuListFromQmq","_callee4","_context4","success","$emit","rowsFilterCreateParamInit","drcStrategyId","routeStrategyId","udlColumns","context","illegalArgument","fetchMode","columnsFilterCreateParamInit","computed","preCheckTablePage","start","end","_toConsumableArray","slice","useTripUdlOrUidMode","rowsFilter","filterMode","TRIP_UDL","TRIP_UDL_UID","includes","rowsFilterCreateParam","hasUdlColumn","fillContextByRegion","RPC","hasUidColumn","showUdlConfigDetail","hasUdlLegalConfig","hasUidLegalConfig","showUidConfigDetail","DbMqConfig","Boolean","actionTitleMap","slot","mhaMqDto","openModal","openDetailModal","refInFor","mhaDbReplications","goToSwitchAppliers","mhaMessengerDto","mhaColumns","delayDataLoading","disabled","transmissionType","click","showModal","renderHeader","replicationIds","_click","getMhaMessengerDelay","apply","arguments","loading","shape","icon","drcStatus","delay","prettyMilliseconds","compact","src","dbMessengerDto","_click2","map","mhas","dbs","delays","delayInfoDto","filter","id","DrcConfig","MhaDbMqPanel","$Modal","confirm","onOk","switchMessengers","getSwitchParams","remove","srcMhaName","mhaDbReplication","fill","MhaMqPanel","MqTables","MhaPreview","$route","regionOptions","abrupt","getExistReplicationRegionOptions","resetPath","trim","_callee5","_context5","_callee6","_context6","replace"],"mappings":"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","file":"js/chunk-0b5fae6c.c516596c.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=style&index=0&id=8a03bef6&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Row',[_c('Form',{ref:\"drc1\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.drc,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"集群名\",\"prop\":\"mhaName\"}},[_c('Input',{attrs:{\"readonly\":\"\",\"placeholder\":\"请输入集群名\"},model:{value:(_vm.drc.mhaName),callback:function ($$v) {_vm.$set(_vm.drc, \"mhaName\", $$v)},expression:\"drc.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择Replicator\",\"prop\":\"replicator\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择Replicator\"},model:{value:(_vm.drc.replicators),callback:function ($$v) {_vm.$set(_vm.drc, \"replicators\", $$v)},expression:\"drc.replicators\"}},_vm._l((_vm.drc.replicatorList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigReplicator}},[_vm._v(\"自动录入\")])],1),(_vm.showMhaApplierConfig())?_c('FormItem',{attrs:{\"label\":\"选择Messenger\",\"prop\":\"messenger\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择集群Messenger\"},model:{value:(_vm.drc.messengers),callback:function ($$v) {_vm.$set(_vm.drc, \"messengers\", $$v)},expression:\"drc.messengers\"}},_vm._l((_vm.drc.messengerList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigMessenger}},[_vm._v(\"自动录入\")])],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始拉取位点R\"}},[_c('Input',{attrs:{\"placeholder\":\"变更replicator机器时，请输入binlog拉取位点\"},model:{value:(_vm.drc.rGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"rGtidExecuted\", $$v)},expression:\"drc.rGtidExecuted\"}}),_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{on:{\"click\":_vm.queryMhaMachineGtid}},[_vm._v(\"查询mha位点\")]),(_vm.hasTest1)?_c('span',[_c('Icon',{attrs:{\"type\":_vm.testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle',\"color\":_vm.testSuccess1 ? 'green' : 'red'}}),_vm._v(\" \"+_vm._s(_vm.testSuccess1 ? '查询实时位点成功' : '连接查询失败')+\" \")],1):_vm._e()],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.queryMhaGtidCheckRes}},[_vm._v(\"位点校验\")])],1)],1)],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"mq配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.goToMqConfigs}},[_vm._v(\"mq配置\")])],1),(_vm.showDbMhaApplierConfig())?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"DB Applier 配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getMhaDbMessenger}},[_vm._v(\"Db Applier 管理\")])],1):_vm._e(),(_vm.showMhaApplierConfig())?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始同步位点A\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入DRC同步起始位点\"},model:{value:(_vm.drc.aGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"aGtidExecuted\", $$v)},expression:\"drc.aGtidExecuted\"}})],1):_vm._e()],1)],1),_c('Form',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"label-width\":250}},[_c('FormItem',[_c('Row',[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('drc1')}}},[_vm._v(\"重置\")])],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.preCheckConfigure ()}}},[_vm._v(\"提交\")])],1)],1)],1),_c('Modal',{attrs:{\"title\":\"确认配置信息\",\"width\":\"900px\"},on:{\"on-ok\":_vm.submitConfig},model:{value:(_vm.drc.reviewModal),callback:function ($$v) {_vm.$set(_vm.drc, \"reviewModal\", $$v)},expression:\"drc.reviewModal\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"集群名\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.mhaName),callback:function ($$v) {_vm.$set(_vm.drc, \"mhaName\", $$v)},expression:\"drc.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"集群Replicator\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.replicators),callback:function ($$v) {_vm.$set(_vm.drc, \"replicators\", $$v)},expression:\"drc.replicators\"}})],1),_c('FormItem',{attrs:{\"label\":\"集群Messenger\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.messengers),callback:function ($$v) {_vm.$set(_vm.drc, \"messengers\", $$v)},expression:\"drc.messengers\"}})],1),_c('FormItem',{attrs:{\"label\":\"新增Replicator的新增binlog拉取位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.rGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"rGtidExecuted\", $$v)},expression:\"drc.rGtidExecuted\"}})],1),_c('FormItem',{attrs:{\"label\":\"Messenger集群的起始位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.aGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"aGtidExecuted\", $$v)},expression:\"drc.aGtidExecuted\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"配置结果\",\"width\":\"1200px\"},model:{value:(_vm.drc.resultModal),callback:function ($$v) {_vm.$set(_vm.drc, \"resultModal\", $$v)},expression:\"drc.resultModal\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"集群配置\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"存在一对多共用运行配置请确认\",\"width\":\"900px\"},on:{\"on-ok\":_vm.reviewConfigure},model:{value:(_vm.drc.warnModal),callback:function ($$v) {_vm.$set(_vm.drc, \"warnModal\", $$v)},expression:\"drc.warnModal\"}},[_c('label',{staticStyle:{\"color\":\"black\"}},[_vm._v(\"共用replicator配置的集群: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.drc.conflictMha),expression:\"drc.conflictMha\"}],domProps:{\"value\":(_vm.drc.conflictMha)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.drc, \"conflictMha\", $event.target.value)}}}),_c('Divider'),_c('div',[_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"线上一对多replicator配置\")]),_c('ul',_vm._l((_vm.drc.replicators.share),function(item){return _c('ol',{key:item},[_vm._v(_vm._s(item))])}),0)]),_c('Divider'),_c('div',[_c('p',{staticStyle:{\"color\":\"black\"}},[_vm._v(\"修改后replicator配置\")]),_c('ul',_vm._l((_vm.drc.replicators.conflictCurrent),function(item){return _c('ol',{key:item},[_vm._v(_vm._s(item))])}),0)])],1),_c('Modal',{attrs:{\"title\":\"gitd位点校验结果\",\"width\":\"900px\"},model:{value:(_vm.gtidCheck.modal),callback:function ($$v) {_vm.$set(_vm.gtidCheck, \"modal\", $$v)},expression:\"gtidCheck.modal\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"校验结果\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.legal),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"legal\", $$v)},expression:\"gtidCheck.resVo.legal\"}})],1),_c('FormItem',{attrs:{\"label\":\"当前Mha\"}},[_c('Input',{attrs:{\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.mha),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"mha\", $$v)},expression:\"gtidCheck.resVo.mha\"}})],1),_c('FormItem',{attrs:{\"label\":\"配置位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.configGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"configGtid\", $$v)},expression:\"gtidCheck.resVo.configGtid\"}})],1),_c('FormItem',{attrs:{\"label\":\"purgedGtid\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.purgedGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"purgedGtid\", $$v)},expression:\"gtidCheck.resVo.purgedGtid\"}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Row>\n      <Form ref=\"drc1\" :model=\"drc\" :label-width=\"250\" style=\"float: left; margin-top: 50px\">\n        <FormItem label=\"集群名\" prop=\"mhaName\" style=\"width: 600px\">\n          <Input v-model=\"drc.mhaName\" readonly placeholder=\"请输入集群名\"/>\n        </FormItem>\n        <FormItem label=\"选择Replicator\" prop=\"replicator\">\n          <Select v-model=\"drc.replicators\" multiple style=\"width: 250px\" placeholder=\"选择Replicator\">\n            <Option v-for=\"item in drc.replicatorList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az}}\n            </Option>\n          </Select>\n          &nbsp;\n          <Button type=\"success\" @click=\"autoConfigReplicator\">自动录入</Button>\n        </FormItem>\n        <FormItem  v-if=\"showMhaApplierConfig()\" label=\"选择Messenger\" prop=\"messenger\">\n          <Select v-model=\"drc.messengers\" multiple style=\"width: 250px\" placeholder=\"选择集群Messenger\">\n            <Option v-for=\"item in drc.messengerList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az }}\n            </Option>\n          </Select>\n          &nbsp;\n          <Button type=\"success\" @click=\"autoConfigMessenger\">自动录入</Button>\n        </FormItem>\n        <FormItem label=\"初始拉取位点R\" style=\"width: 600px\">\n          <Input v-model=\"drc.rGtidExecuted\" placeholder=\"变更replicator机器时，请输入binlog拉取位点\"/>\n          <Row>\n            <Col span=\"12\">\n              <Button @click=\"queryMhaMachineGtid\">查询mha位点</Button>\n              <span v-if=\"hasTest1\">\n                  <Icon :type=\"testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle'\"\n                        :color=\"testSuccess1 ? 'green' : 'red'\"/>\n                    {{ testSuccess1 ? '查询实时位点成功' : '连接查询失败' }}\n                </span>\n            </Col>\n            <Col span=\"12\">\n              <Button type=\"success\" @click=\"queryMhaGtidCheckRes\">位点校验</Button>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem label=\"mq配置\" style=\"width: 600px\">\n          <Button type=\"primary\" ghost @click=\"goToMqConfigs\">mq配置</Button>\n        </FormItem>\n        <FormItem v-if=\"showDbMhaApplierConfig()\" label=\"DB Applier 配置\"  style=\"width: 600px\">\n          <Button type=\"primary\" ghost @click=\"getMhaDbMessenger\">Db Applier 管理</Button>\n        </FormItem>\n        <FormItem v-if=\"showMhaApplierConfig()\"  label=\"初始同步位点A\" style=\"width: 600px\">\n          <Input v-model=\"drc.aGtidExecuted\" placeholder=\"请输入DRC同步起始位点\"/>\n        </FormItem>\n        <!--      <FormItem label=\"行过滤\" style=\"width: 600px\">-->\n        <!--        <Button type=\"primary\" ghost @click=\"goToConfigRowsFiltersInSrcApplier\">配置行过滤</Button>-->\n        <!--      </FormItem>-->\n      </Form>\n    </Row>\n    <Form :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem>\n        <Row>\n          <Col span=\"6\">\n            <Button @click=\"handleReset('drc1')\">重置</Button>\n          </Col>\n          <Col span=\"6\">\n            <Button type=\"primary\" @click=\"preCheckConfigure ()\">提交</Button>\n          </Col>\n        </Row>\n      </FormItem>\n      <Modal\n        v-model=\"drc.reviewModal\"\n        title=\"确认配置信息\"\n        width=\"900px\"\n        @on-ok=\"submitConfig\">\n        <Form style=\"width: 80%\">\n          <FormItem label=\"集群名\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.mhaName\" readonly/>\n          </FormItem>\n          <FormItem label=\"集群Replicator\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.replicators\" readonly/>\n          </FormItem>\n          <FormItem label=\"集群Messenger\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.messengers\" readonly/>\n          </FormItem>\n          <FormItem label=\"新增Replicator的新增binlog拉取位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.rGtidExecuted\" readonly/>\n          </FormItem>\n          <FormItem label=\"Messenger集群的起始位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.aGtidExecuted\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <Modal\n        v-model=\"drc.resultModal\"\n        title=\"配置结果\"\n        width=\"1200px\">\n        <Form style=\"width: 100%\">\n          <FormItem label=\"集群配置\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"result\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <!--             v-model=\"drc.warnModal\"-->\n      <Modal\n        v-model=\"drc.warnModal\"\n        title=\"存在一对多共用运行配置请确认\"\n        width=\"900px\"\n        @on-ok=\"reviewConfigure\">\n        <label style=\"color: black\">共用replicator配置的集群: </label>\n        <input v-model=\"drc.conflictMha\"></input>\n        <Divider/>\n        <div>\n          <p style=\"color: red\">线上一对多replicator配置</p>\n          <ul>\n            <ol v-for=\"item in drc.replicators.share\" :key=\"item\">{{ item }}</ol>\n          </ul>\n        </div>\n        <Divider/>\n        <div>\n          <p style=\"color: black\">修改后replicator配置</p>\n          <ul>\n            <ol v-for=\"item in drc.replicators.conflictCurrent\" :key=\"item\">{{ item }}</ol>\n          </ul>\n        </div>\n      </Modal>\n      <Modal\n        v-model=\"gtidCheck.modal\"\n        title=\"gitd位点校验结果\"\n        width=\"900px\">\n        <Form style=\"width: 80%\">\n          <FormItem label=\"校验结果\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.legal\" readonly/>\n          </FormItem>\n          <FormItem label=\"当前Mha\">\n            <Input :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.mha\" readonly/>\n          </FormItem>\n          <FormItem label=\"配置位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.configGtid\" readonly/>\n          </FormItem>\n          <FormItem label=\"purgedGtid\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.purgedGtid\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n    </Form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'drcConfig',\n  props: {\n    mhaName: String,\n    dc: String\n  },\n  data () {\n    return {\n      hasTest1: false,\n      testSuccess1: false,\n      result: false,\n      gtidCheck: {\n        modal: false,\n        resVo: {\n          mha: '',\n          legal: '',\n          configGtid: '',\n          purgedGtid: ''\n        }\n      },\n      drc: {\n        reviewModal: false,\n        warnModal: false,\n        mhaName: this.mhaName,\n        rGtidExecuted: '',\n        aGtidExecuted: '',\n        replicators: {},\n        messengers: {},\n        replicatorList: {},\n        messengerList: {},\n        dbMessengerSwitch: true,\n        dbMessengerList: []\n      }\n    }\n  },\n  methods: {\n    autoConfigReplicator () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.drc.mhaName + '&type=0' + '&selectedIps=' + this.drc.replicators)\n        .then(response => {\n          console.log(response.data)\n          this.drc.replicators = []\n          response.data.data.forEach(ip => this.drc.replicators.push(ip.ip))\n        })\n    },\n    autoConfigMessenger () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.drc.mhaName + '&type=1' + '&selectedIps=' + this.drc.messengers)\n        .then(response => {\n          console.log(response.data)\n          this.drc.messengers = []\n          response.data.data.forEach(ip => this.drc.messengers.push(ip.ip))\n        })\n    },\n    getResources () {\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.drc.mhaName + '&type=0')\n        .then(response => {\n          console.log(response.data)\n          this.drc.replicatorList = response.data.data\n        })\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.drc.mhaName + '&type=1')\n        .then(response => {\n          this.drc.messengerList = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/dbMessenger?mhaName=' + this.drc.mhaName + '&type=1')\n        .then(response => {\n          this.drc.dbMessengerList = response.data.data\n        })\n    },\n    getResourcesInUse () {\n      this.axios.get('/api/drc/v2/mha/replicator', { params: { mhaName: this.drc.mhaName } })\n        .then(response => {\n          console.log(this.drc.mhaName + ' replicators ' + response.data.data)\n          this.drc.replicators = []\n          response.data.data.forEach(ip => this.drc.replicators.push(ip))\n        })\n      this.axios.get('/api/drc/v2/mha/messenger', { params: { mhaName: this.drc.mhaName } })\n        .then(response => {\n          console.log(this.drc.mhaName + ' messengers ' + response.data.data)\n          this.drc.messengers = []\n          response.data.data.forEach(ip => this.drc.messengers.push(ip))\n        })\n      this.axios.get('/api/drc/v2/messenger/initGtid?mhaName=' + this.drc.mhaName)\n        .then(response => {\n          console.log('aGtidExecuted:' + response.data.data)\n          this.drc.aGtidExecuted = response.data.data\n        })\n    },\n    goToMqConfigs () {\n      console.log('go to change mq config for ' + this.drc.mhaName)\n      this.$router.push({ path: '/v2/mqConfigs', query: { mhaName: this.drc.mhaName } })\n    },\n    getMhaDbMessenger () {\n      this.$router.push({\n        path: '/dbMessengers',\n        query: {\n          mhaName: this.drc.mhaName\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    preCheckConfigure () {\n      const params = {\n        mhaName: this.drc.mhaName,\n        replicatorIps: this.drc.replicators.join(','),\n        messengerIps: this.drc.messengers.join(',')\n      }\n      console.log(params)\n      this.axios.get('/api/drc/v2/mha/replicatorIps/check', {\n        params: params\n      }).then(response => {\n        const preCheckRes = response.data.data\n        if (preCheckRes.status === 0) {\n          // 无风险继续\n          this.drc.reviewModal = true\n        } else if (preCheckRes.status === 1) {\n          // 有风险，进入确认页面\n          this.drc.replicators.share = preCheckRes.workingReplicatorIps\n          this.drc.replicators.conflictCurrent = this.drc.replicators\n          this.drc.conflictMha = preCheckRes.conflictMha\n          this.drc.warnModal = true\n        } else {\n          // 响应失败\n          window.alert('config preCheck fail')\n        }\n      })\n    },\n    queryMhaMachineGtid () {\n      this.hasTest1 = false\n      this.drc.rGtidExecuted = ''\n      const that = this\n      console.log('/api/drc/v2/mha/gtid/executed?mha=' + this.drc.mhaName)\n      that.axios.get('/api/drc/v2/mha/gtid/executed?mha=' + this.drc.mhaName)\n        .then(response => {\n          this.hasTest1 = true\n          if (response.data.status === 0) {\n            this.drc.rGtidExecuted = response.data.data\n            this.testSuccess1 = true\n          } else {\n            this.testSuccess1 = false\n            this.$Message.warning('查询位点失败: ' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询位点异常: ' + message)\n        })\n    },\n    queryMhaGtidCheckRes () {\n      if (this.drc.rGtidExecuted == null || this.drc.rGtidExecuted === '') {\n        this.$Message.warning('位点为空！')\n        return\n      }\n      const that = this\n      console.log('/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n        '&configGtid=' + this.drc.rGtidExecuted)\n      that.axios.get('/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n        '&configGtid=' + this.drc.rGtidExecuted)\n        .then(response => {\n          if (response.data.status === 0) {\n            this.gtidCheck.resVo = {\n              mha: this.drc.mhaName,\n              legal: response.data.data.legal === true ? '合理位点' : 'binlog已经被purge',\n              configGtid: this.drc.rGtidExecuted,\n              purgedGtid: response.data.data.purgedGtid\n            }\n            this.gtidCheck.modal = true\n          } else {\n            console.log('api fail:' + '/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n              '&configGtid=' + this.drc.rGtidExecuted)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('校验位点异常: ' + message)\n        })\n    },\n    showDbMhaApplierConfig () {\n      return this.drc.dbMessengerSwitch || this.hasAppliers(this.drc.dbMessengerList)\n    },\n    showMhaApplierConfig () {\n      return true\n      // return !this.hasAppliers(this.drc.dbMessengerList)\n    },\n    hasAppliers (dbApplierDtos) {\n      for (const x of dbApplierDtos) {\n        if (x.ips && x.ips.length > 0) {\n          return true\n        }\n      }\n      return false\n    },\n    submitConfig () {\n      const that = this\n      this.axios.post('/api/drc/v2/config/messenger/submitConfig', {\n        mhaName: this.drc.mhaName,\n        replicatorIps: this.drc.replicators,\n        messengerIps: this.drc.messengers,\n        aGtidExecuted: this.drc.aGtidExecuted,\n        rGtidExecuted: this.drc.rGtidExecuted\n      }).then(response => {\n        console.log(response.data)\n        if (response.data.status === 1) {\n          this.$Message.warning({\n            content: '提交失败：' + response.data.message,\n            duration: 10\n          })\n          return\n        }\n        that.result = response.data.data\n        that.drc.reviewModal = false\n        that.drc.resultModal = true\n      }).catch(message => {\n        this.$Message.error({\n          content: '提交异常: ' + message,\n          duration: 10\n        })\n      })\n    },\n    reviewConfigure () {\n      this.drc.reviewModal = true\n    }\n  },\n  created () {\n    this.getResources()\n    this.getResourcesInUse()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcConfig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcConfig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./drcConfig.vue?vue&type=template&id=5dc38a6e&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0\"\nimport script from \"./drcConfig.vue?vue&type=script&lang=js\"\nexport * from \"./drcConfig.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dc38a6e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/v2/dbMqBuildV2\"}},[_vm._v(\"DB粒度 Mq\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"18\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"数据库\",\"required\":true}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":!!_vm.meta.fixDb,\"placeholder\":\"请搜索数据库信息\",\"remote-method\":_vm.getExistDb,\"loading\":_vm.dataLoading},on:{\"on-change\":_vm.selectDb},model:{value:(_vm.meta.dbName),callback:function ($$v) {_vm.$set(_vm.meta, \"dbName\", $$v)},expression:\"meta.dbName\"}},_vm._l((_vm.meta.dbOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.dbName}},[_vm._v(_vm._s(option.dbName))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"同步方向\",\"required\":true}},[_c('RadioGroup',{attrs:{\"button-style\":\"solid\"},on:{\"on-change\":_vm.afterSelectExistReplication},model:{value:(_vm.selectedExistReplication),callback:function ($$v) {_vm.selectedExistReplication=$$v},expression:\"selectedExistReplication\"}},_vm._l((_vm.meta.existReplicationRegionOptions),function(items){return _c('Radio',{key:items.srcRegionName,attrs:{\"label\":items.srcRegionName,\"border\":\"\"}},[_vm._v(\" \"+_vm._s(items.srcRegionName)+\" \")])}),1),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"ghost\":\"\"},on:{\"click\":_vm.goToCreateReplication}},[_vm._v(\"新增\")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":\"创建同步\"},model:{value:(_vm.createModal.open),callback:function ($$v) {_vm.$set(_vm.createModal, \"open\", $$v)},expression:\"createModal.open\"}},[(_vm.createModal.open)?_c('mha-preview',{attrs:{\"db-name\":_vm.meta.dbName,\"replication-type\":1,\"exist-replication-region-options\":_vm.meta.existReplicationRegionOptions},on:{\"updated\":_vm.selectDb}}):_vm._e()],1)],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"消息投递配置\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[_c('mq-tables',{attrs:{\"table-data\":_vm.drcConfig.logicTableSummaryDtos,\"data-loading\":_vm.configDataLoading,\"src-region\":_vm.meta.srcRegionName,\"dst-region\":_vm.meta.dstRegionName,\"db-name\":_vm.meta.dbName,\"db-names\":_vm.drcConfig.dbNames},on:{\"updated\":_vm.getDrcConfig}})],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"DB\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[(_vm.drcConfig.mhaMqDtos)?_c('mha-mq-panel',{attrs:{\"mha-mq-dtos\":_vm.drcConfig.mhaMqDtos},on:{\"updated\":_vm.getDrcConfig}}):_vm._e()],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Table',{ref:\"multipleTable\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.dataLoading,\"border\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ row, index }){return [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdateConfig(row, index)}}},[_vm._v(\"修改 \")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDeleteConfig(row, index)}}},[_vm._v(\"删除 \")])]}}])}),_c('br'),_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"md-add\"},on:{\"click\":_vm.goToInsertConfig}},[_vm._v(\" 新增 \")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":_vm.actionTitle},model:{value:(_vm.editModal.open),callback:function ($$v) {_vm.$set(_vm.editModal, \"open\", $$v)},expression:\"editModal.open\"}},[(_vm.editModal.open)?_c('db-mq-config',{ref:\"dbReplicationConfigComponent\",attrs:{\"config-data\":_vm.selectedRow,\"src-region\":_vm.srcRegion,\"dst-region\":_vm.srcRegion,\"db-names\":_vm.dbNames,\"form-action\":_vm.action},on:{\"finished\":_vm.finishConfig}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"13\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"disabled\":_vm.formAction === 'delete',\"label-width\":100}},[(_vm.alertInfo.show)?_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),(_vm.alertInfo.successShow)?_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),_c('FormItem',{attrs:{\"label\":\"部门\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"选择部门\"},model:{value:(_vm.formItem.bu),callback:function ($$v) {_vm.$set(_vm.formItem, \"bu\", $$v)},expression:\"formItem.bu\"}},_vm._l((_vm.formItem.constants.buForChosen),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"prop\":\"dbName\",\"label\":\"库名\",\"required\":true}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":true,\"readonly\":true,\"border\":false,\"placeholder\":\"请输入库名（支持正则）\"},model:{value:(_vm.formItem.dbName),callback:function ($$v) {_vm.$set(_vm.formItem, \"dbName\", $$v)},expression:\"formItem.dbName\"}})],1),_c('FormItem',{attrs:{\"label\":\"同步表\",\"required\":true}},[_c('Input',{attrs:{\"placeholder\":\"请输入正则表达式\"},on:{\"on-keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.preventDefault();},\"on-blur\":_vm.afterEnterTableName},model:{value:(_vm.formItem.tableName),callback:function ($$v) {_vm.$set(_vm.formItem, \"tableName\", $$v)},expression:\"formItem.tableName\"}})],1),_c('FormItem',{attrs:{\"label\":\"MQ主题\"}},[_c('Input',{staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"请输入自定义Topic\"},on:{\"on-blur\":_vm.refreshTopicBu},model:{value:(_vm.formItem.topic),callback:function ($$v) {_vm.$set(_vm.formItem, \"topic\", $$v)},expression:\"formItem.topic\"}})],1),_c('FormItem',{attrs:{\"label\":\"有序消息\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.order),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"order\", $$v)},expression:\"formItem.switch.order\"}})],1),(_vm.formItem.switch.order)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 有序消息字段 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,4117777808)},[_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"选择有序相关字段\"},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.formItem.orderKey),callback:function ($$v) {_vm.$set(_vm.formItem, \"orderKey\", $$v)},expression:\"formItem.orderKey\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1)],1):_vm._e()],1)],1),_c('Col',{attrs:{\"span\":\"11\"}},[_c('db-tables-preview',{attrs:{\"src-region-name\":_vm.srcRegion,\"dst-region-name\":null,\"db-name\":_vm.formItem.dbName,\"table-names\":_vm.formItem.tableName,\"mode\":_vm.formItem.buildMode,\"replication-type\":Number(1)}})],1)],1),_c('Divider'),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"type\":_vm.buttonTypeMap.get(_vm.formAction),\"loading\":_vm.dataLoading || _vm.commonColumnLoading},on:{\"click\":_vm.submitAll}},[_vm._v(_vm._s(_vm.buttonTextMap.get(_vm.formAction))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Row :gutter=10 align=\"middle\">\n      <Col span=\"13\">\n        <Form :model=\"formItem\" :disabled=\"formAction === 'delete'\" :label-width=\"100\"\n              style=\"margin-right: 20px;margin-top: 10px\">\n          <Alert type=\"warning\" show-icon v-if=\"alertInfo.show\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <Alert type=\"success\" show-icon v-if=\"alertInfo.successShow\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <FormItem label=\"部门\">\n            <Select v-model=\"formItem.bu\" filterable placeholder=\"选择部门\">\n              <Option v-for=\"item in formItem.constants.buForChosen\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem prop=\"dbName\" label=\"库名\" :required=true>\n            <Input type=\"textarea\" v-model=\"formItem.dbName\" :autosize=\"true\" :readonly=\"true\" :border=\"false\"\n                   placeholder=\"请输入库名（支持正则）\"/>\n          </FormItem>\n          <FormItem label=\"同步表\" :required=true>\n            <Input @on-keydown.space.prevent v-model=\"formItem.tableName\" placeholder=\"请输入正则表达式\"\n                   @on-blur=\"afterEnterTableName\"></Input>\n          </FormItem>\n\n          <FormItem label=\"MQ主题\">\n            <Input v-model=\"formItem.topic\" style=\"width:350px\" placeholder=\"请输入自定义Topic\"\n                   @on-blur=\"refreshTopicBu\"\n            />\n          </FormItem>\n          <FormItem label=\"有序消息\">\n            <i-switch v-model=\"formItem.switch.order\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.order\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              有序消息字段\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"字段\">\n              <Select v-model=\"formItem.orderKey\" filterable allow-create @on-create=\"handleCreateColumn\"\n                      style=\"width: 200px\" placeholder=\"选择有序相关字段\">\n                <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n              </Select>\n            </FormItem>\n          </Card>\n        </Form>\n      </Col>\n      <Col span=\"11\">\n        <db-tables-preview :src-region-name=\"srcRegion\"\n                           :dst-region-name=\"null\"\n                           :db-name=\"formItem.dbName\"\n                           :table-names=\"formItem.tableName\"\n                           :mode=\"formItem.buildMode\"\n                           :replication-type=\"Number(1)\"\n        />\n      </Col>\n    </Row>\n    <Divider></Divider>\n    <Button :type=\"buttonTypeMap.get(formAction)\" @click=\"submitAll\" style=\"margin-left: 50px\"\n            :loading=\"dataLoading || commonColumnLoading\">{{\n        buttonTextMap.get(formAction)\n      }}\n    </Button>\n  </div>\n</template>\n\n<script>\n\nimport DbTablesPreview from '@/components/v2/dbDrcBuild/dbTablesPreview.vue'\n\nexport default {\n  components: { DbTablesPreview },\n  FORM_ACTION_OPTION: {\n    CREATE: 'create',\n    EDIT: 'edit',\n    DELETE: 'delete'\n  },\n  name: 'dbMqConfig',\n  props: {\n    configData: {},\n    srcRegion: String,\n    dstRegion: String,\n    dbNames: Array,\n    formAction: String\n  },\n  emits: ['finished'],\n  data () {\n    return {\n      meta: {\n        rowsFilterId: null,\n        colsFilterId: null,\n        dbReplicationIds: [],\n        originLogicTableConfig: {}\n      },\n      formItem: {\n        bu: null,\n        buildMode: 2,\n        dbName: null,\n        tableName: null,\n        topic: null,\n        orderKey: null,\n        switch: {\n          order: false\n        },\n        constants: {\n          columnsForChose: [],\n          buForChosen: []\n        }\n      },\n      checkTableDataList: [],\n      table: {\n        dbMhaTableLoading: false,\n        dbMhaTableColumn: [\n          {\n            title: 'DB名',\n            key: 'dbName'\n          },\n          {\n            title: '源集群',\n            key: 'srcMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.srcMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                        {\n                          float: 'right',\n                          color: '#ababab'\n                        }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          },\n          {\n            title: '目标集群',\n            key: 'dstMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.dstMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                        {\n                          float: 'right',\n                          color: '#ababab'\n                        }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          }\n        ],\n        dbMhaTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        },\n        dbTableLoading: false,\n        dbTableColumn: [\n          {\n            title: '序号',\n            width: 75,\n            align: 'center',\n            fixed: 'left',\n            render: (h, params) => {\n              return h(\n                'span',\n                params.index + 1\n              )\n            }\n          },\n          {\n            title: '库名',\n            key: 'schema',\n            resizable: true\n          },\n          {\n            title: '表名',\n            key: 'table',\n            resizable: true\n          },\n          {\n            title: '结果',\n            align: 'center',\n            render: (h, params) => {\n              const row = params.row\n              const color = row.res !== 'ok' ? 'volcano' : 'green'\n              const text = row.res\n              return h('Tag', {\n                props: {\n                  color: color\n                }\n              }, text)\n            }\n          }\n        ],\n        dbTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      },\n      alertInfo: {\n        show: false,\n        successShow: false,\n        title: null,\n        message: null\n      },\n      buttonTextMap: new Map([\n        ['create', '新增 MQ投递'],\n        ['edit', '更新 MQ投递'],\n        ['delete', '删除 MQ投递']\n      ]),\n      buttonTypeMap: new Map([\n        ['create', 'success'],\n        ['edit', 'primary'],\n        ['delete', 'error']\n      ]),\n      dataLoading: false,\n      successSubmit: false,\n      commonColumnLoading: false\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.buName = this.formItem.buName\n      param.tag = this.formItem.tag\n      param.mode = this.formItem.buildMode\n      param.srcRegionName = this.srcRegion\n      param.replicationType = 1\n\n      if (this.gtidConfigurable) {\n        param.gtidInit = this.formItem.gtidInit\n      }\n\n      param.tblsFilterDetail = {\n        tableNames: this.formItem.tableName\n      }\n      param.dbName = this.formItem.dbName\n      return param\n    },\n    getEditParams: function () {\n      const param = {}\n      param.dbReplicationIds = this.meta.dbReplicationIds\n      param.dbNames = this.dbNames\n      param.srcRegionName = this.srcRegion\n\n      param.logicTableConfig = {\n        logicTable: this.formItem.tableName,\n        dstLogicTable: this.formItem.topic\n      }\n      param.originLogicTableConfig = this.meta.originLogicTableConfig\n      param.mqConfig = {\n        bu: this.formItem.bu,\n        mqType: 'qmq',\n        // table: this.mqConfig.table,\n        // topic: this.mqConfig.topic,\n        serialization: 'json',\n        persistent: false,\n        order: this.formItem.switch.order,\n        orderKey: this.formItem.switch.orderKey === '' ? null : this.formItem.orderKey\n      }\n      console.log(param)\n      return param\n    },\n    async getCommonColumns () {\n      const params = this.getParams()\n      this.formItem.constants.columnsForChose = []\n      this.commonColumnLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/commonColumns', {\n        params: this.flattenObj(params)\n      }).then(response => {\n        if (response.data.status === 1) {\n          this.$Message.error('查询公共列名失败，请手动添加：' + response.data.message)\n        } else {\n          this.formItem.constants.columnsForChose = response.data.data\n          this.$Message.info('查询公共列名数：' + response.data.data.length)\n        }\n      }).catch(message => {\n        this.$Message.error('查询公共列名异常: ' + message)\n      }).finally(() => {\n        this.commonColumnLoading = false\n      })\n    },\n    handleCreateColumn (val) {\n      if (this.contains(this.formItem.constants.columnsForChose, val)) {\n        alert('已有项禁止创建')\n        return\n      }\n      if (val === '' || val === undefined || val === null) {\n        alert('字段不能为空')\n        return\n      }\n      this.formItem.constants.columnsForChose.push(val)\n    },\n    refreshTopicBu () {\n      if (this.formItem.topic) {\n        this.formItem.bu = this.formItem.topic.split('.')[0]\n      }\n    },\n    async afterEnterTableName () {\n      await this.getTableInfo()\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    async refresh () {\n      this.formItem.dbName = this.dbNames.join(',')\n      if (this.configData) {\n        console.log('edit panel ', JSON.stringify(this.configData))\n        this.formItem.tableName = this.configData.config.logicTable\n        this.formItem.topic = this.configData.config.dstLogicTable\n        this.formItem.orderKey = this.configData.orderKey\n        this.formItem.switch.order = this.configData.order\n        this.refreshTopicBu()\n        this.getCommonColumns()\n        this.meta.dbReplicationIds = this.configData.dbReplicationIds\n        this.meta.originLogicTableConfig = this.configData.config\n        this.meta.originMyConfig = this.configData.config\n      } else {\n        console.log('insert new config')\n      }\n    },\n    getBuListFromQmq () {\n      this.axios.get('/api/drc/v2/messenger/qmq/bus')\n        .then(response => {\n          if (response.data.status === 1) {\n            window.alert('从查询qmq 部门信息失败!')\n          } else {\n            this.formItem.constants.buForChosen = response.data.data\n          }\n        })\n    },\n    async submitAll () {\n      const that = this\n      that.alertInfo.show = false\n      that.alertInfo.successShow = false\n      that.successSubmit = false\n      const params = this.getEditParams()\n      // if (!this.checkParam(params)) {\n      //   return\n      // }\n      that.dataLoading = true\n      await that.axios.post('/api/drc/v2/autoconfig/dbMq/' + this.formAction, params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            that.$Message.success('提交成功')\n            that.successSubmit = true\n            that.alertInfo.successShow = true\n            that.alertInfo.message = null\n            that.alertInfo.title = '提交成功'\n            that.$emit('finished')\n          } else {\n            that.$Message.warning('提交失败: ' + data.message)\n            that.alertInfo.show = true\n            that.alertInfo.title = '提交失败'\n            that.alertInfo.message = data.message\n          }\n        })\n        .catch(message => {\n          that.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    rowsFilterCreateParamInit () {\n      return {\n        mode: 1,\n        drcStrategyId: 2000000002,\n        routeStrategyId: 0,\n        udlColumns: [],\n        columns: [],\n        context: '',\n        illegalArgument: false,\n        fetchMode: 0\n      }\n    },\n    columnsFilterCreateParamInit () {\n      return {\n        mode: null,\n        columns: []\n      }\n    }\n  },\n  computed: {\n    preCheckTablePage () {\n      const data = this.checkTableDataList\n      const start = this.table.dbTablePage.current * this.table.dbTablePage.size - this.table.dbTablePage.size\n      const end = start + this.table.dbTablePage.size\n      return [...data].slice(start, end)\n    },\n    useTripUdlOrUidMode () {\n      return [this.formItem.constants.rowsFilter.filterMode.TRIP_UDL, this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(this.formItem.rowsFilterCreateParam.mode)\n    },\n    hasUdlColumn () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0\n    },\n    fillContextByRegion () {\n      return this.formItem.rowsFilterCreateParam.fetchMode === this.formItem.constants.rowsFilter.fetchMode.RPC\n    },\n    hasUidColumn () {\n      return this.formItem.rowsFilterCreateParam.columns.length !== 0\n    },\n    showUdlConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUdlLegalConfig || !this.hasUidLegalConfig\n    },\n    showUidConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUidLegalConfig || !this.hasUdlLegalConfig\n    },\n    hasUdlLegalConfig () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0 && this.formItem.rowsFilterCreateParam.drcStrategyId != null && this.formItem.rowsFilterCreateParam.drcStrategyId > 0\n    },\n    hasUidLegalConfig () {\n      return this.hasUidColumn\n    }\n  },\n  created () {\n    this.getBuListFromQmq()\n    this.refresh()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqConfig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqConfig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dbMqConfig.vue?vue&type=template&id=5740dbc0&scoped=true\"\nimport script from \"./dbMqConfig.vue?vue&type=script&lang=js\"\nexport * from \"./dbMqConfig.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5740dbc0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Table style=\"margin-top: 20px\" stripe :columns=\"columns\" :data=\"tableData\" :loading=\"dataLoading\" border\n           ref=\"multipleTable\">\n      <template slot=\"action\" slot-scope=\"{ row, index }\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdateConfig(row, index)\">修改\n        </Button>\n        <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToDeleteConfig(row, index)\">删除\n        </Button>\n      </template>\n    </Table>\n    <br/>\n    <Button type=\"success\" @click=\"goToInsertConfig\" icon=\"md-add\">\n      新增\n    </Button>\n    <Modal v-model=\"editModal.open\" width=\"1200px\" :footer-hide=\"true\" :title=\"actionTitle\">\n      <db-mq-config ref=\"dbReplicationConfigComponent\" @finished=\"finishConfig\"\n                             v-if=\"editModal.open\"\n                             :config-data=\"selectedRow\"\n                             :src-region=\"srcRegion\"\n                             :dst-region=\"srcRegion\"\n                             :db-names=\"dbNames\"\n                             :form-action=\"action\"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport DbMqConfig from '@/components/v2/dbDrcBuild/dbMqConfig.vue'\n\nexport default {\n  name: 'mqTables',\n  components: { DbMqConfig },\n  props: {\n    dbName: String,\n    dbNames: Array,\n    srcRegion: String,\n    dstRegion: String,\n    tableData: Array,\n    dataLoading: Boolean\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      selectedRow: {},\n      action: null,\n      actionTitleMap: new Map([\n        ['create', '新增 MQ投递配置'],\n        ['edit', '更新 MQ投递配置'],\n        ['delete', '⚠️删除 MQ投递配置']\n      ]),\n      editModal: {\n        open: false\n      },\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          fixed: 'left',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1\n            )\n          }\n        },\n        {\n          title: '表名',\n          key: 'config.logicTable',\n          render: (h, params) => {\n            const config = params.row.config\n            return h(\n              'span',\n              config.logicTable\n            )\n          }\n        },\n        {\n          title: '主题',\n          key: 'topic',\n          render: (h, params) => {\n            const config = params.row.config\n            return h(\n              'span',\n              config.dstLogicTable\n            )\n          }\n        },\n        {\n          title: '有序',\n          key: 'order',\n          width: 100,\n          render: (h, params) => {\n            const row = params.row\n            const color = 'blue'\n            const text = row.order ? '有序' : '无序'\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '有序相关字段',\n          key: 'orderKey'\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center',\n          fixed: 'right'\n        }\n      ]\n    }\n  },\n  methods: {\n    async goToInsertConfig () {\n      this.selectedRow = null\n      this.action = DbMqConfig.FORM_ACTION_OPTION.CREATE\n      this.editModal.open = true\n    },\n    async goToUpdateConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbMqConfig.FORM_ACTION_OPTION.EDIT\n      this.editModal.open = true\n    },\n    async goToDeleteConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbMqConfig.FORM_ACTION_OPTION.DELETE\n      this.editModal.open = true\n    },\n    finishConfig () {\n      this.selectedRow = null\n      this.editModal.open = false\n      this.$emit('updated')\n    }\n  },\n  computed: {\n    actionTitle () {\n      return this.actionTitleMap.get(this.action)\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqTables.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqTables.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mqTables.vue?vue&type=template&id=0a816a41&scoped=true\"\nimport script from \"./mqTables.vue?vue&type=script&lang=js\"\nexport * from \"./mqTables.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a816a41\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Collapse',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.mhaMqDtos),function(mhaMqDto,index){return _c('Panel',{key:mhaMqDto.srcMha.name +'-> mq',attrs:{\"name\":String(index)},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"icon\":\"ios-open-outline\"},on:{\"click\":function($event){return _vm.openModal(index)}}},[_vm._v(\" 打开详情\")]),_c('mha-db-mq-panel',{attrs:{\"mha-mq-dtos\":mhaMqDto}}),_c('Modal',{attrs:{\"width\":\"1500px\",\"footer-hide\":true},model:{value:(_vm.openDetailModal[index]),callback:function ($$v) {_vm.$set(_vm.openDetailModal, index, $$v)},expression:\"openDetailModal[index]\"}},[(_vm.openDetailModal[index])?_c('drc-config',{ref:\"dbReplicationConfigComponent\",refInFor:true,attrs:{\"mha-name\":mhaMqDto.srcMha.name,\"dc\":mhaMqDto.srcMha.dcName}}):_vm._e()],1)]},proxy:true}],null,true)},[_vm._v(\" \"+_vm._s(mhaMqDto.srcMha.name + ' ------ ' + ([mhaMqDto.mhaDbReplications.length] + 'DB'))+\" \")])}),1),_c('br'),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-sync\"},on:{\"click\":_vm.goToSwitchAppliers}},[_vm._v(\" 切换Messenger生效配置 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.mhaMqDtos.mhaMessengerDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.mhaDbReplications}}):_vm._e(),(_vm.mhaMqDtos.mhaMessengerDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.mhaColumns,\"data\":[_vm.mhaMqDtos]}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div>\n    <Table stripe border :columns=\"columns\" :data=\"mhaDbReplications\" v-if=\"!mhaMqDtos.mhaMessengerDto\">\n    </Table>\n    <Table stripe border :columns=\"mhaColumns\" :data=\"[mhaMqDtos]\" v-if=\"mhaMqDtos.mhaMessengerDto\">\n    </Table>\n  </div>\n\n</template>\n\n<script>\nimport prettyMilliseconds from 'pretty-ms'\n\nexport default {\n  name: 'mhaDbMqPanel',\n  props: {\n    mhaMqDtos: {}\n  },\n  data () {\n    return {\n      mhaDbReplications: this.mhaMqDtos.mhaDbReplications,\n      value: ['1'],\n      delayDataLoading: false,\n      columns: [\n        {\n          title: '类型',\n          width: 80,\n          render: (h, params) => {\n            const row = params.row\n            let text = 'none'\n            let type = 'error'\n            let disabled = false\n            switch (row.transmissionType) {\n              case 'simplex':\n                text = '单'\n                type = 'info'\n                break\n              case 'duplex':\n                text = '双'\n                type = 'success'\n                break\n              default:\n                text = '无'\n                disabled = true\n                break\n            }\n            return h('Button', {\n              props: {\n                type: type,\n                size: 'small',\n                disabled: disabled\n              },\n              on: {\n                click: () => {\n                  this.showModal(row)\n                }\n              }\n            }, text)\n          }\n        },\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.replicationIds && this.replicationIds.length !== 0 && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getMhaMessengerDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.drcStatus === true) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.src.dbName)\n          }\n        },\n        {\n          title: 'messenger',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.dbMessengerDto ? params.row.dbMessengerDto.ips.join(', ') : null)\n          }\n        }\n      ],\n      mhaColumns: [\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.mhaMqDtos.mhaMessengerDto.ips && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getMhaMessengerDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.mhaMessengerDto.ips) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '类型',\n          width: 100,\n          key: '',\n          render: (h, params) => {\n            return h('p', 'mha 同步')\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.mhaDbReplications.map(item => item.src.dbName).join(','))\n          }\n        },\n        {\n          title: 'messenger',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaMessengerDto.ips.join(','))\n          }\n        },\n        {\n          title: 'initGtid',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaMessengerDto.gtidInit)\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    showModal (row) {\n      this.$Message.info('还未上线，敬请期待')\n    },\n    async getMhaMessengerDelay () {\n      const param = {\n        mhas: this.mhaMqDtos.srcMha.name,\n        dbs: this.mhaMqDtos.mhaDbReplications.map(item => item.src.dbName).join(',')\n      }\n      this.delayDataLoading = true\n      this.axios.get('/api/drc/v2/messenger/delay', { params: param })\n        .then(response => {\n          const delays = response.data.data[0].delayInfoDto.delay\n          this.$set(this.mhaMqDtos, 'delay', delays)\n        })\n        .catch(message => {\n          console.log(message)\n          // this.$Message.error('查询 MHA 延迟异常: ' + message)\n        })\n        .finally(() => {\n          this.delayDataLoading = false\n        })\n    }\n  },\n  computed: {\n    replicationIds () {\n      return this.mhaDbReplications\n        .filter(item => item.drcStatus === true)\n        .map(item => item.id)\n        .join(',')\n    }\n  },\n  created () {\n    this.getMhaMessengerDelay()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbMqPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbMqPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mhaDbMqPanel.vue?vue&type=template&id=8ef54f68&scoped=true\"\nimport script from \"./mhaDbMqPanel.vue?vue&type=script&lang=js\"\nexport * from \"./mhaDbMqPanel.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ef54f68\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Collapse v-model=\"value\">\n      <Panel v-for=\"(mhaMqDto, index) in mhaMqDtos\"\n             :key=\"mhaMqDto.srcMha.name +'-> mq'\"\n             :name=\"String(index)\">\n        {{ mhaMqDto.srcMha.name + ' ------ ' + ([mhaMqDto.mhaDbReplications.length] + 'DB') }}\n        <template #content>\n          <Button icon=\"ios-open-outline\" @click=\"openModal(index)\" style=\"margin-bottom: 10px\"> 打开详情</Button>\n          <mha-db-mq-panel :mha-mq-dtos=\"mhaMqDto\"/>\n              <Modal v-model=\"openDetailModal[index]\" width=\"1500px\" :footer-hide=\"true\">\n                <drc-config ref=\"dbReplicationConfigComponent\" v-if=\"openDetailModal[index]\"\n                              :mha-name=\"mhaMqDto.srcMha.name\"\n                              :dc=\"mhaMqDto.srcMha.dcName\"\n                />\n              </Modal>\n        </template>\n      </Panel>\n    </Collapse>\n    <br/>\n    <Button type=\"primary\" @click=\"goToSwitchAppliers\" icon=\"md-sync\">\n      切换Messenger生效配置\n    </Button>\n  </div>\n</template>\n\n<script>\n\nimport MhaDbMqPanel from '@/components/v2/dbDrcBuild/mhaDbMqPanel.vue'\nimport DrcConfig from '@/components/v2/mhaMessengers/drcConfig.vue'\n\nexport default {\n  name: 'mhaMqPanel',\n  components: { DrcConfig, MhaDbMqPanel },\n  props: {\n    mhaMqDtos: Array\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      value: [],\n      openDetailModal: [],\n      dataLoading: false\n    }\n  },\n  methods: {\n    openModal (index) {\n      this.$set(this.openDetailModal, index, true)\n    },\n    goToSwitchAppliers () {\n      this.$Modal.confirm({\n        title: '切换Messenger',\n        content: '<p>请确认</p>',\n        loading: true,\n        onOk: () => {\n          this.switchMessengers()\n        }\n      })\n    },\n    switchMessengers () {\n      const params = this.getSwitchParams()\n      console.log(params)\n      this.dataLoading = true\n      this.axios.post('/api/drc/v2/autoconfig/switchMessengers', params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            this.$Message.success('提交成功')\n          } else {\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.$Modal.remove()\n          this.dataLoading = false\n          this.$emit('updated')\n        })\n    },\n    getSwitchParams () {\n      return this.mhaMqDtos.map((item) => {\n        return {\n          srcMhaName: item.srcMha.name,\n          dbNames: item.mhaDbReplications.map((mhaDbReplication) => {\n            return mhaDbReplication.src.dbName\n          })\n        }\n      })\n    }\n  },\n  created () {\n    console.log('mhaMqDtos', this.mhaMqDtos)\n    this.openDetailModal = Array(this.mhaMqDtos.length).fill(false)\n    if (this.mhaMqDtos.length === 1) {\n      this.value = ['0']\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaMqPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaMqPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mhaMqPanel.vue?vue&type=template&id=f7709c88&scoped=true\"\nimport script from \"./mhaMqPanel.vue?vue&type=script&lang=js\"\nexport * from \"./mhaMqPanel.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7709c88\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/v2/dbMqBuildV2\">DB粒度 Mq</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\"\n             :style=\"{padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'}\">\n      <Row :gutter=10 align=\"middle\">\n        <Col span=\"18\">\n          <Form :model=\"formItem\" :label-width=\"100\" style=\"margin-right: 20px;margin-top: 10px\">\n            <FormItem label=\"数据库\" :required=true>\n              <Select\n                v-model=\"meta.dbName\"\n                filterable\n                :disabled=\"!!meta.fixDb\"\n                placeholder=\"请搜索数据库信息\"\n                @on-change=\"selectDb\"\n                :remote-method=\"getExistDb\"\n                :loading=\"dataLoading\">\n                <Option v-for=\"(option, index) in meta.dbOptions\" :value=\"option.dbName\" :key=\"index\">{{ option.dbName }}</Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"同步方向\" :required=true>\n              <RadioGroup v-model=\"selectedExistReplication\" button-style=\"solid\"\n                          @on-change=\"afterSelectExistReplication\">\n                <Radio v-for=\"items in meta.existReplicationRegionOptions\"\n                       :key=\"items.srcRegionName\"\n                       :label=\"items.srcRegionName\" border>\n                  {{ items.srcRegionName  }}\n                </Radio>\n              </RadioGroup>\n              <Button type=\"primary\" icon=\"md-add\" ghost @click=\"goToCreateReplication\">新增</Button>\n              <Modal v-model=\"createModal.open\" width=\"1200px\" :footer-hide=\"true\" title=\"创建同步\">\n                <mha-preview v-if=\"createModal.open\" :db-name=\"meta.dbName\" :replication-type=1 @updated=\"selectDb\"\n                             :exist-replication-region-options=\"meta.existReplicationRegionOptions\"></mha-preview>\n              </Modal>\n            </FormItem>\n            <Divider orientation=\"left\">消息投递配置</Divider>\n            <Card style=\"width:100%\">\n              <mq-tables :table-data=\"drcConfig.logicTableSummaryDtos\" :data-loading=\"configDataLoading\"\n                      :src-region=\"meta.srcRegionName\" :dst-region=\"meta.dstRegionName\" :db-name=\"meta.dbName\"\n                      :db-names=\"drcConfig.dbNames\" @updated=\"getDrcConfig\"\n              />\n            </Card>\n            <Divider orientation=\"left\">DB</Divider>\n            <Card style=\"width:100%\">\n              <mha-mq-panel v-if=\"drcConfig.mhaMqDtos\" :mha-mq-dtos=\"drcConfig.mhaMqDtos\"  @updated=\"getDrcConfig\"/>\n            </Card>\n          </Form>\n        </Col>\n      </Row>\n    </Content>\n  </base-component>\n</template>\n<script>\n\nimport MhaPreview from '@/components/v2/dbDrcBuild/mhaPreview.vue'\nimport MqTables from '@/components/v2/dbDrcBuild/mqTables.vue'\nimport MhaMqPanel from '@/components/v2/dbDrcBuild/mhaMqPanel.vue'\n\nexport default {\n  components: { MhaMqPanel, MqTables, MhaPreview },\n  data () {\n    return {\n      createModal: {\n        open: false\n      },\n      dataLoading: false,\n      configDataLoading: false,\n      selectedExistReplication: this.$route.query.srcRegionName,\n      formItem: {\n        srcRegionName: null,\n        dstRegionName: null\n      },\n      drcConfig: {},\n      meta: {\n        dbName: this.$route.query.dbName,\n        srcRegionName: this.$route.query.srcRegionName,\n        dstRegionName: this.$route.query.dstRegionName,\n        fixDb: this.$route.query.fixDb,\n        regionOptions: [],\n        dbOptions: [],\n        existReplicationRegionOptions: []\n      }\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.dbName = this.meta.dbName\n      param.srcRegionName = this.meta.srcRegionName\n      param.dstRegionName = this.meta.dstRegionName\n      return param\n    },\n    async getExistDb (dbName) {\n      if (dbName === null || dbName.length === null || dbName.length <= 0) {\n        return []\n      }\n      const that = this\n      that.dataLoading = true\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDb', {\n        params: {\n          dbName: dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          if (data) {\n            that.meta.dbOptions = data\n          } else {\n            that.$Message.warning('查询DB失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询DB异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async selectDb () {\n      await this.getExistReplicationRegionOptions()\n      await this.getDrcConfig()\n    },\n    async getDrcConfig () {\n      this.createModal.open = false\n      this.resetPath()\n      const params = this.getParams()\n      this.drcConfig = {}\n      if (!params.dbName) {\n        this.$Message.warning('请先填写数据库')\n        return\n      }\n      if (!params.srcRegionName) {\n        return\n      }\n      this.configDataLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/getDbMqConfig', {\n        params: {\n          dbName: params.dbName,\n          srcRegionName: params.srcRegionName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.drcConfig = data\n            this.$Message.success('查询DRC配置成功 ')\n          } else {\n            this.$Message.warning('查询失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询异常: ' + message)\n        })\n        .finally(() => {\n          this.configDataLoading = false\n        })\n    },\n    async afterSelectExistReplication () {\n      console.log('afterSelectExistReplication ', this.selectedExistReplication)\n      this.meta.srcRegionName = this.selectedExistReplication.trim()\n      this.getDrcConfig()\n    },\n    async getExistReplicationRegionOptions () {\n      const that = this\n      that.dataLoading = true\n      that.meta.existReplicationRegionOptions = []\n      const params = this.getParams()\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDbMqConfigDcOption', {\n        params: {\n          dbName: params.dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            that.meta.existReplicationRegionOptions = data\n            if (that.meta.existReplicationRegionOptions.length > 0) {\n              that.$Message.success('查询到 ' + that.meta.existReplicationRegionOptions.length + ' 个可选同步方向')\n            }\n          } else {\n            that.meta.srcRegionName = null\n            that.meta.dstRegionName = null\n            that.$Message.warning('查询可选地域失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询可选地域失败: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async goToCreateReplication () {\n      this.createModal.open = true\n    },\n    resetPath () {\n      this.$router.replace({\n        query: {\n          dbName: this.meta.dbName,\n          srcRegionName: this.meta.srcRegionName,\n          dstRegionName: this.meta.dstRegionName,\n          fixDb: this.meta.fixDb\n        }\n        // eslint-disable-next-line handle-callback-err\n      }).catch(() => {\n      })\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    }\n  },\n  computed: {},\n  created () {\n    // this.getRegions()\n    this.axios.get('/api/drc/v2/permission/meta/mhaReplication/modify').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      if (this.meta.dbName) {\n        this.getExistReplicationRegionOptions()\n        this.getDrcConfig()\n      }\n    })\n  }\n}\n</script>\n\n<style>\n.drawer-footer {\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dbMqBuildV2.vue?vue&type=template&id=8a03bef6\"\nimport script from \"./dbMqBuildV2.vue?vue&type=script&lang=js\"\nexport * from \"./dbMqBuildV2.vue?vue&type=script&lang=js\"\nimport style0 from \"./dbMqBuildV2.vue?vue&type=style&index=0&id=8a03bef6&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}