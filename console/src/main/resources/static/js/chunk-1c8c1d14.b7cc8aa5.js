(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c8c1d14"],{"0cb2":function(e,t,a){"use strict";var r=a("e330"),n=a("7b0b"),i=Math.floor,s=r("".charAt),o=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,a,r,f,d){var b=a+e.length,p=r.length,g=u;return void 0!==f&&(f=n(f),g=l),o(d,g,(function(n,o){var l;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,a);case"'":return c(t,b);case"<":l=f[c(o,1,-1)];break;default:var u=+o;if(0===u)return n;if(u>p){var d=i(u/10);return 0===d?n:d<=p?void 0===r[d-1]?s(o,1):r[d-1]+s(o,1):n}l=r[u-1]}return void 0===l?"":l}))}},"14c3":function(e,t,a){"use strict";var r=a("c65b"),n=a("825a"),i=a("1626"),s=a("c6b6"),o=a("9263"),c=TypeError;e.exports=function(e,t){var a=e.exec;if(i(a)){var l=r(a,e,t);return null!==l&&n(l),l}if("RegExp"===s(e))return r(o,e,t);throw new c("RegExp#exec called on incompatible receiver")}},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||i(e)||Object(s["a"])(e)||o()}},"408a":function(e,t,a){"use strict";var r=a("e330");e.exports=r(1..valueOf)},"498a":function(e,t,a){"use strict";var r=a("23e7"),n=a("58a8").trim,i=a("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},"4ec9":function(e,t,a){"use strict";a("6f48")},"4fad":function(e,t,a){"use strict";var r=a("d039"),n=a("861d"),i=a("c6b6"),s=a("d86b"),o=Object.isExtensible,c=r((function(){o(1)}));e.exports=c||s?function(e){return!!n(e)&&((!s||"ArrayBuffer"!==i(e))&&(!o||o(e)))}:o},5319:function(e,t,a){"use strict";var r=a("2ba4"),n=a("c65b"),i=a("e330"),s=a("d784"),o=a("d039"),c=a("825a"),l=a("1626"),u=a("7234"),f=a("5926"),d=a("50c4"),b=a("577e"),p=a("1d80"),g=a("8aa5"),m=a("dc4a"),h=a("0cb2"),v=a("14c3"),y=a("b622"),x=y("replace"),w=Math.max,T=Math.min,N=i([].concat),k=i([].push),O=i("".indexOf),M=i("".slice),I=function(e){return void 0===e?e:String(e)},R=function(){return"$0"==="a".replace(/./,"$0")}(),_=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),S=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,a){var i=_?"$":"$0";return[function(e,a){var r=p(this),i=u(e)?void 0:m(e,x);return i?n(i,e,r,a):n(t,b(r),e,a)},function(e,n){var s=c(this),o=b(e);if("string"==typeof n&&-1===O(n,i)&&-1===O(n,"$<")){var u=a(t,s,o,n);if(u.done)return u.value}var p=l(n);p||(n=b(n));var m,y=s.global;y&&(m=s.unicode,s.lastIndex=0);var x,R=[];while(1){if(x=v(s,o),null===x)break;if(k(R,x),!y)break;var _=b(x[0]);""===_&&(s.lastIndex=g(o,d(s.lastIndex),m))}for(var S="",z=0,D=0;D<R.length;D++){x=R[D];for(var P,L=b(x[0]),$=w(T(f(x.index),o.length),0),E=[],j=1;j<x.length;j++)k(E,I(x[j]));var C=x.groups;if(p){var A=N([L],E,$,o);void 0!==C&&k(A,C),P=b(r(n,void 0,A))}else P=h(L,o,$,E,C,n);$>=z&&(S+=M(o,z,$)+P,z=$+L.length)}return S+M(o,z)}]}),!S||!R||_)},5899:function(e,t,a){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){"use strict";var r=a("e330"),n=a("1d80"),i=a("577e"),s=a("5899"),o=r("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(e){return function(t){var a=i(n(t));return 1&e&&(a=o(a,c,"")),2&e&&(a=o(a,l,"$1")),a}};e.exports={start:u(1),end:u(2),trim:u(3)}},6566:function(e,t,a){"use strict";var r=a("7c73"),n=a("edd0"),i=a("6964"),s=a("0366"),o=a("19aa"),c=a("7234"),l=a("2266"),u=a("c6d2"),f=a("4754"),d=a("2626"),b=a("83ab"),p=a("f183").fastKey,g=a("69f3"),m=g.set,h=g.getterFor;e.exports={getConstructor:function(e,t,a,u){var f=e((function(e,n){o(e,d),m(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),b||(e.size=0),c(n)||l(n,e[u],{that:e,AS_ENTRIES:a})})),d=f.prototype,g=h(t),v=function(e,t,a){var r,n,i=g(e),s=y(e,t);return s?s.value=a:(i.last=s={index:n=p(t,!0),key:t,value:a,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=s),r&&(r.next=s),b?i.size++:e.size++,"F"!==n&&(i.index[n]=s)),e},y=function(e,t){var a,r=g(e),n=p(t);if("F"!==n)return r.index[n];for(a=r.first;a;a=a.next)if(a.key===t)return a};return i(d,{clear:function(){var e=this,t=g(e),a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),a=a.next;t.first=t.last=void 0,t.index=r(null),b?t.size=0:e.size=0},delete:function(e){var t=this,a=g(t),r=y(t,e);if(r){var n=r.next,i=r.previous;delete a.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),a.first===r&&(a.first=n),a.last===r&&(a.last=i),b?a.size--:t.size--}return!!r},forEach:function(e){var t,a=g(this),r=s(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),i(d,a?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),b&&n(d,"size",{configurable:!0,get:function(){return g(this).size}}),f},setStrong:function(e,t,a){var r=t+" Iterator",n=h(t),i=h(r);u(e,t,(function(e,t){m(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?f("keys"===t?a.key:"values"===t?a.value:[a.key,a.value],!1):(e.target=void 0,f(void 0,!0))}),a?"entries":"values",!a,!0),d(t)}}},6964:function(e,t,a){"use strict";var r=a("cb2d");e.exports=function(e,t,a){for(var n in t)r(e,n,t[n],a);return e}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),n=a("cfe9"),i=a("e330"),s=a("94ca"),o=a("cb2d"),c=a("f183"),l=a("2266"),u=a("19aa"),f=a("1626"),d=a("7234"),b=a("861d"),p=a("d039"),g=a("1c7e"),m=a("d44e"),h=a("7156");e.exports=function(e,t,a){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),x=v?"set":"add",w=n[e],T=w&&w.prototype,N=w,k={},O=function(e){var t=i(T[e]);o(T,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(y&&!b(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return y&&!b(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(y&&!b(e))&&t(this,0===e?0:e)}:function(e,a){return t(this,0===e?0:e,a),this})},M=s(e,!f(w)||!(y||T.forEach&&!p((function(){(new w).entries().next()}))));if(M)N=a.getConstructor(t,e,v,x),c.enable();else if(s(e,!0)){var I=new N,R=I[x](y?{}:-0,1)!==I,_=p((function(){I.has(1)})),S=g((function(e){new w(e)})),z=!y&&p((function(){var e=new w,t=5;while(t--)e[x](t,t);return!e.has(-0)}));S||(N=t((function(e,t){u(e,T);var a=h(new w,e,N);return d(t)||l(t,a[x],{that:a,AS_ENTRIES:v}),a})),N.prototype=T,T.constructor=N),(_||z)&&(O("delete"),O("has"),v&&O("get")),(z||R)&&O(x),y&&T.clear&&delete T.clear}return k[e]=N,r({global:!0,constructor:!0,forced:N!==w},k),m(N,e),y||a.setStrong(N,e,v),N}},"6f48":function(e,t,a){"use strict";var r=a("6d61"),n=a("6566");r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},7252:function(e,t,a){"use strict";e.exports=function(e){if("number"!==typeof e)throw new TypeError("Expected a number");var t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3}}},"7d78":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{style:{padding:"1px 1px",height:"100%"}},[t("Row",[e.alertInfo.show?t("Alert",{attrs:{type:"warning","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),e.alertInfo.successShow?t("Alert",{attrs:{type:"success","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.alertInfo.message))]},proxy:!0}],null,!1,3041357252)},[e._v(" "+e._s(e.alertInfo.title)+" ")]):e._e(),e.replicationType===e.meta.replicationType.DB_TO_DB?t("div",[t("Col",{attrs:{span:"12"}},[t("Row",{staticStyle:{"margin-right":"20px"}},[t("Divider",[e._v("1. 选择同步方向")]),t("Col",{attrs:{span:"11"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 源 region ")]},proxy:!0}],null,!1,2156775476)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.srcRegionName,callback:function(t){e.$set(e.formItem,"srcRegionName",t)},expression:"formItem.srcRegionName"}},e._l(e.meta.regionOptions,(function(a){return t("Option",{key:a,attrs:{value:a,label:a}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1),t("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t("Button",{attrs:{size:"small",shape:"circle",type:"default",loading:e.dataLoading},on:{click:e.getRegionOptions}},[e._v(" -> ")])],1),t("Col",{attrs:{span:"11"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 目标 region ")]},proxy:!0}],null,!1,4278622733)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.dstRegionName,callback:function(t){e.$set(e.formItem,"dstRegionName",t)},expression:"formItem.dstRegionName"}},e._l(e.meta.regionOptions,(function(a){return t("Option",{key:a,attrs:{value:a,label:a}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1)],1)],1),t("Col",{attrs:{span:"12"}},[t("Row",[t("Divider",[e._v("2. 预览：同步集群")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbMhaTableLoading},on:{click:e.getDalInfo}},[e._v(" 检查同步集群 ")]),t("Table",{attrs:{size:"small",loading:e.table.dbMhaTableLoading,stripe:"",columns:e.table.dbMhaTableColumn,data:e.preCheckMhaReplicationPage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.previewDataList.length,current:e.table.dbMhaTablePage.current,"page-size-opts":e.table.dbMhaTablePage.pageSizeOpts,"page-size":e.table.dbMhaTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbMhaTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbMhaTablePage.size=t}}})],1)],1)],1)],1):e._e(),e.replicationType===e.meta.replicationType.DB_TO_MQ?t("div",[t("Col",{attrs:{span:"12"}},[t("Row",{staticStyle:{"margin-right":"20px"}},[t("Divider",[e._v("1. 选择消息投递Region")]),t("Col",{attrs:{span:"24"}},[t("Card",{attrs:{bordered:!0},scopedSlots:e._u([{key:"title",fn:function(){return[t("Icon",{attrs:{type:"ios-pin"}}),e._v(" 源 region "),t("Button",{staticStyle:{"margin-left":"50px"},attrs:{size:"small",shape:"circle",type:"default",loading:e.dataLoading},on:{click:e.getRegionOptions}},[e._v("刷新 ")])]},proxy:!0}],null,!1,1193028979)},[t("Select",{attrs:{filterable:"",clearable:"",placeholder:"地域"},on:{"on-change":e.afterSwitchRegion},model:{value:e.formItem.srcRegionName,callback:function(t){e.$set(e.formItem,"srcRegionName",t)},expression:"formItem.srcRegionName"}},e._l(e.meta.regionOptions,(function(a){return t("Option",{key:a,attrs:{value:a,label:a}},[e._v(" "+e._s(a)+" ")])})),1)],1)],1)],1)],1),t("Col",{attrs:{span:"12"}},[t("Row",[t("Divider",[e._v("2. 预览：消息投递集群")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.table.dbMhaTableLoading},on:{click:e.getDalInfo}},[e._v(" 检查同步集群 ")]),t("Table",{attrs:{size:"small",loading:e.table.dbMhaTableLoading,stripe:"",columns:e.table.dbMhaMqTableColumn,data:e.preCheckMhaReplicationPage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.previewDataList.length,current:e.table.dbMhaTablePage.current,"page-size-opts":e.table.dbMhaTablePage.pageSizeOpts,"page-size":e.table.dbMhaTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbMhaTablePage,"current",t)},"on-page-size-change":function(t){e.table.dbMhaTablePage.size=t}}})],1)],1)],1)],1):e._e()],1),t("Divider"),t("Button",{attrs:{loading:e.dataLoading,type:"primary"},on:{click:e.createReplication}},[e._v("提交")])],1)},n=[],i=a("2909"),s=a("c7eb"),o=a("1da1"),c=(a("fb6a"),a("b0c0"),a("a9e3"),a("d3b7"),{name:"mhaPreview",components:{},props:{replicationType:Number,dbName:String,existReplicationRegionOptions:Array},emits:["updated"],data:function(){return{meta:{regionOptions:[],existReplicationRegionOptions:[],replicationType:{DB_TO_DB:0,DB_TO_MQ:1}},alertInfo:{show:!1,successShow:!1,title:null,message:null},formItem:{srcRegionName:null,dstRegionName:null},dataLoading:!1,constants:{DAL_CLUSTER_MODE:1},previewDataList:[],table:{dbMhaTableLoading:!1,dbMhaTableColumn:[{title:"DB名",key:"dbName"},{title:"源集群",key:"srcMhaName",render:function(e,t){var a=t.row,r=a.srcMha;if(null!=r)return e("div",[e("span",r.name),e("span",{style:{float:"right",color:"#ababab"}},r.regionName+"("+r.dcName+")")])}},{title:"目标集群",key:"dstMhaName",render:function(e,t){var a=t.row,r=a.dstMha;if(null!=r)return e("div",[e("span",r.name),e("span",{style:{float:"right",color:"#ababab"}},r.regionName+"("+r.dcName+")")])}}],dbMhaMqTableColumn:[{title:"DB名",key:"dbName"},{title:"源集群",key:"srcMhaName",render:function(e,t){var a=t.row,r=a.srcMha;if(null!=r)return e("div",[e("span",r.name),e("span",{style:{float:"right",color:"#ababab"}},r.regionName+"("+r.dcName+")")])}}],dbMhaTablePage:{total:0,current:1,size:5,pageSizeOpts:[5,10,20,100]}}}},methods:{getRegionOptions:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataLoading=!0,e.meta.regionOptions=[],t.next=4,e.axios.get("/api/drc/v2/autoconfig/regionOptions",{params:{mode:e.constants.DAL_CLUSTER_MODE,dbName:e.dbName}}).then((function(t){var a=t.data.data,r=a&&0===t.data.status;r?(e.meta.regionOptions=a,-1===a.indexOf(e.formItem.srcRegionName)&&(e.formItem.srcRegionName=null),-1===a.indexOf(e.formItem.dstRegionName)&&(e.formItem.dstRegionName=null)):(e.formItem.srcRegionName=null,e.formItem.dstRegionName=null,e.$Message.warning("查询可选地域失败"))})).catch((function(t){e.$Message.error("查询可选地域失败: "+t)})).finally((function(){e.dataLoading=!1}));case 4:case"end":return t.stop()}}),t)})))()},getDalInfo:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.previewDataList=[],e.table.dbMhaTablePage.current=1,e.table.dbMhaTableLoading=!0,t.next=5,e.axios.get("/api/drc/v2/autoconfig/preCheck",{params:{mode:e.constants.DAL_CLUSTER_MODE,dbName:e.dbName,srcRegionName:e.formItem.srcRegionName,dstRegionName:e.formItem.dstRegionName,replicationType:e.replicationType}}).then((function(t){var a=t.data.data,r=a&&0===t.data.status;r?(e.previewDataList=a,console.log("total: "+e.previewDataList.length),e.$Message.success("同步集群检测成功, 共找到 "+a.length+" 个DB")):e.$Message.warning("同步集群检测失败："+t.data.message)})).catch((function(t){e.$Message.error("查询dalcluster异常: "+t)})).finally((function(){e.table.dbMhaTableLoading=!1}));case 5:case"end":return t.stop()}}),t)})))()},createReplication:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var a,r;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={srcRegionName:e.formItem.srcRegionName,dstRegionName:e.formItem.dstRegionName,dbName:e.dbName,replicationType:e.replicationType},e.alertInfo.show=!1,e.alertInfo.successShow=!1,e.dataLoading=!0,r=e.replicationType===e.meta.replicationType.DB_TO_MQ?"mhaDbReplicationForMq":"mhaDbReplication",t.next=7,e.axios.post("/api/drc/v2/autoconfig/"+r+"/create",a).then((function(t){var a=t.data,r=0===a.status;r?(e.alertInfo.successShow=!0,e.alertInfo.message=null,e.alertInfo.title="提交成功",e.$Message.warning("提交成功"),e.$emit("updated")):(e.alertInfo.show=!0,e.alertInfo.title="提交失败",e.alertInfo.message=a.message,e.$Message.warning("提交失败: "+a.message))})).catch((function(t){e.$Message.error("提交异常: "+t)})).finally((function(){e.dataLoading=!1}));case 7:case"end":return t.stop()}}),t)})))()},afterSwitchRegion:function(){return Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},computed:{preCheckMhaReplicationPage:function(){var e=this.previewDataList,t=this.table.dbMhaTablePage.current*this.table.dbMhaTablePage.size-this.table.dbMhaTablePage.size,a=t+this.table.dbMhaTablePage.size;return Object(i["a"])(e).slice(t,a)}},created:function(){this.getRegionOptions()}}),l=c,u=a("2877"),f=Object(u["a"])(l,r,n,!1,null,"6faf35a6",null);t["a"]=f.exports},"81d5":function(e,t,a){"use strict";var r=a("7b0b"),n=a("23cb"),i=a("07fa");e.exports=function(e){var t=r(this),a=i(t),s=arguments.length,o=n(s>1?arguments[1]:void 0,a),c=s>2?arguments[2]:void 0,l=void 0===c?a:n(c,a);while(l>o)t[o++]=e;return t}},"86aa":function(e){e.exports=JSON.parse('{"addendum":"addenda","aircraft":"aircraft","alga":"algae","alumna":"alumnae","alumnus":"alumni","amoeba":"amoebae","analysis":"analyses","antenna":"antennae","antithesis":"antitheses","apex":"apices","appendix":"appendices","automaton":"automata","axis":"axes","bacillus":"bacilli","bacterium":"bacteria","barracks":"barracks","basis":"bases","beau":"beaux","bison":"bison","buffalo":"buffalo","bureau":"bureaus","cactus":"cacti","calf":"calves","carp":"carp","census":"censuses","chassis":"chassis","cherub":"cherubim","child":"children","château":"châteaus","cod":"cod","codex":"codices","concerto":"concerti","corpus":"corpora","crisis":"crises","criterion":"criteria","curriculum":"curricula","datum":"data","deer":"deer","diagnosis":"diagnoses","die":"dice","dwarf":"dwarfs","echo":"echoes","elf":"elves","elk":"elk","ellipsis":"ellipses","embargo":"embargoes","emphasis":"emphases","erratum":"errata","faux pas":"faux pas","fez":"fezes","firmware":"firmware","fish":"fish","focus":"foci","foot":"feet","formula":"formulae","fungus":"fungi","gallows":"gallows","genus":"genera","goose":"geese","graffito":"graffiti","grouse":"grouse","half":"halves","hero":"heroes","hoof":"hooves","hovercraft":"hovercraft","hypothesis":"hypotheses","index":"indices","kakapo":"kakapo","knife":"knives","larva":"larvae","leaf":"leaves","libretto":"libretti","life":"lives","loaf":"loaves","locus":"loci","louse":"lice","man":"men","matrix":"matrices","means":"means","medium":"media","memorandum":"memoranda","millennium":"millennia","minutia":"minutiae","moose":"moose","mouse":"mice","nebula":"nebulae","nemesis":"nemeses","neurosis":"neuroses","news":"news","nucleus":"nuclei","oasis":"oases","offspring":"offspring","opus":"opera","ovum":"ova","ox":"oxen","paralysis":"paralyses","parenthesis":"parentheses","person":"people","phenomenon":"phenomena","phylum":"phyla","pike":"pike","polyhedron":"polyhedra","potato":"potatoes","prognosis":"prognoses","quiz":"quizzes","radius":"radii","referendum":"referenda","salmon":"salmon","scarf":"scarves","self":"selves","series":"series","sheep":"sheep","shelf":"shelves","shrimp":"shrimp","spacecraft":"spacecraft","species":"species","spectrum":"spectra","squid":"squid","stimulus":"stimuli","stratum":"strata","swine":"swine","syllabus":"syllabi","symposium":"symposia","synopsis":"synopses","synthesis":"syntheses","tableau":"tableaus","that":"those","thesis":"theses","thief":"thieves","this":"these","tomato":"tomatoes","tooth":"teeth","trout":"trout","tuna":"tuna","vertebra":"vertebrae","vertex":"vertices","veto":"vetoes","vita":"vitae","vortex":"vortices","watercraft":"watercraft","wharf":"wharves","wife":"wives","wolf":"wolves","woman":"women"}')},"8aa5":function(e,t,a){"use strict";var r=a("6547").charAt;e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},a3b8:function(e,t,a){"use strict";const r=a("7252"),n=a("afa5");e.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError("Expected a finite number");if(t=t||{},e<1e3){const a="number"===typeof t.msDecimalDigits?t.msDecimalDigits:0;return(a?e.toFixed(a):Math.ceil(e))+(t.verbose?" "+n("millisecond",Math.ceil(e)):"ms")}const a=[],i=(e,r,i,s)=>{if(0===e)return;const o=t.verbose?" "+n(r,e):i;a.push((s||e)+o)},s=r(e);if(i(Math.trunc(s.days/365),"year","y"),i(s.days%365,"day","d"),i(s.hours,"hour","h"),i(s.minutes,"minute","m"),t.compact)return i(s.seconds,"second","s"),"~"+a[0];const o=e/1e3%60,c="number"===typeof t.secDecimalDigits?t.secDecimalDigits:1,l=o.toFixed(c).replace(/\.0$/,"");return i(o,"second","s",l),a.join(" ")}},a9e3:function(e,t,a){"use strict";var r=a("23e7"),n=a("c430"),i=a("83ab"),s=a("cfe9"),o=a("428f"),c=a("e330"),l=a("94ca"),u=a("1a2d"),f=a("7156"),d=a("3a9b"),b=a("d9b5"),p=a("c04e"),g=a("d039"),m=a("241c").f,h=a("06cf").f,v=a("9bf2").f,y=a("408a"),x=a("58a8").trim,w="Number",T=s[w],N=o[w],k=T.prototype,O=s.TypeError,M=c("".slice),I=c("".charCodeAt),R=function(e){var t=p(e,"number");return"bigint"==typeof t?t:_(t)},_=function(e){var t,a,r,n,i,s,o,c,l=p(e,"number");if(b(l))throw new O("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=x(l),t=I(l,0),43===t||45===t){if(a=I(l,2),88===a||120===a)return NaN}else if(48===t){switch(I(l,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=M(l,2),s=i.length,o=0;o<s;o++)if(c=I(i,o),c<48||c>n)return NaN;return parseInt(i,r)}return+l},S=l(w,!T(" 0o1")||!T("0b1")||T("+0x1")),z=function(e){return d(k,e)&&g((function(){y(e)}))},D=function(e){var t=arguments.length<1?0:T(R(e));return z(this)?f(Object(t),this,D):t};D.prototype=k,S&&!n&&(k.constructor=D),r({global:!0,constructor:!0,wrap:!0,forced:S},{Number:D});var P=function(e,t){for(var a,r=i?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0;r.length>n;n++)u(t,a=r[n])&&!u(e,a)&&v(e,a,h(t,a))};n&&N&&P(o[w],N),(S||n)&&P(o[w],T)},afa5:function(e,t,a){"use strict";var r=a("86aa");e.exports=function(e,t,a){return"number"===typeof t&&(a=t),e in r?t=r[e]:"string"!==typeof t&&(t=(e.replace(/(?:s|x|z|ch|sh)$/i,"$&e").replace(/([^aeiou])y$/i,"$1ie")+"s").replace(/i?e?s$/i,(function(t){var a=e.slice(-1)===e.slice(-1).toLowerCase();return a?t.toLowerCase():t.toUpperCase()}))),1===a?e:t}},bb2f:function(e,t,a){"use strict";var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c8d2:function(e,t,a){"use strict";var r=a("5e77").PROPER,n=a("d039"),i=a("5899"),s="​᠎";e.exports=function(e){return n((function(){return!!i[e]()||s[e]()!==s||r&&i[e].name!==e}))}},cb29:function(e,t,a){"use strict";var r=a("23e7"),n=a("81d5"),i=a("44d2");r({target:"Array",proto:!0},{fill:n}),i("fill")},d784:function(e,t,a){"use strict";a("ac1f");var r=a("c65b"),n=a("cb2d"),i=a("9263"),s=a("d039"),o=a("b622"),c=a("9112"),l=o("species"),u=RegExp.prototype;e.exports=function(e,t,a,f){var d=o(e),b=!s((function(){var t={};return t[d]=function(){return 7},7!==""[e](t)})),p=b&&!s((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return t=!0,null},a[d](""),!t}));if(!b||!p||a){var g=/./[d],m=t(d,""[e],(function(e,t,a,n,s){var o=t.exec;return o===i||o===u.exec?b&&!s?{done:!0,value:r(g,t,a,n)}:{done:!0,value:r(e,a,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(u,d,m[1])}f&&c(u[d],"sham",!0)}},d86b:function(e,t,a){"use strict";var r=a("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},efa3:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{style:{padding:"1px 1px",height:"100%"}},[t("Divider",{staticStyle:{"margin-top":"50px"}},[e._v("预览：同步表")]),t("Button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",loading:e.dbTableLoading},on:{click:e.getTableInfo}},[e._v(" 检查同步表 ")]),t("Table",{attrs:{size:"small",loading:e.dbTableLoading,stripe:"",columns:e.table.dbTableColumn,data:e.preCheckTablePage,border:""}}),t("div",[t("Page",{attrs:{transfer:!0,total:e.checkTableDataList.length,current:e.table.dbTablePage.current,"page-size-opts":e.table.dbTablePage.pageSizeOpts,"page-size":e.table.dbTablePage.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.table.dbTablePage,"current",t)},"on-change":function(t){e.table.dbTablePage.current=t},"on-page-size-change":function(t){e.table.dbTablePage.size=t}}})],1)],1)},n=[],i=a("2909"),s=a("53ca"),o=a("c7eb"),c=a("3835"),l=a("b85c"),u=a("1da1"),f=(a("fb6a"),a("a9e3"),a("d3b7"),a("498a"),a("ddb0"),{name:"dbTablesPreview",props:{mode:Number,dbName:String,srcRegionName:String,dstRegionName:String,tableNames:String,replicationType:Number},emits:["updated"],data:function(){return{checkTableDataList:[],dbTableLoading:!1,table:{dbTableColumn:[{title:"序",width:50,key:"indexForShow"},{title:"库名",key:"schema",resizable:!0},{title:"表名",key:"table",resizable:!0},{title:"结果",align:"center",render:function(e,t){var a=t.row,r="ok"!==a.res?"volcano":"green",n=a.res;return e("Tag",{props:{color:r}},n)}}],dbTablePage:{total:0,current:1,size:10,pageSizeOpts:[5,10,20,100]}}}},methods:{getTableInfo:function(){var e=this;return Object(u["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkTableDataList=[],e.table.dbTablePage.current=1,1!==e.mode){t.next=8;break}if(e.dalClusterName){t.next=6;break}return e.$Message.warning("请先填写 dalcluster"),t.abrupt("return");case 6:t.next=11;break;case 8:if(e.dbName){t.next=11;break}return e.$Message.warning("请先填写数据库"),t.abrupt("return");case 11:if(e.srcRegionName&&(0!==e.replicationType||e.dstRegionName)){t.next=14;break}return e.$Message.warning("请先填写同步方向"),t.abrupt("return");case 14:if(e.tableNames){t.next=17;break}return e.$Message.warning("请先填写表名"),t.abrupt("return");case 17:return e.dbTableLoading=!0,t.next=20,e.axios.get("/api/drc/v2/autoconfig/preCheckTable",{params:e.flattenObj({mode:e.mode,dbName:e.dbName,srcRegionName:e.srcRegionName,dstRegionName:e.dstRegionName,replicationType:e.replicationType,tblsFilterDetail:{tableNames:e.tableNames}})}).then((function(t){var a=t.data.data;if(a){var r,n=Object(l["a"])(a.entries());try{for(n.s();!(r=n.n()).done;){var i=Object(c["a"])(r.value,2),s=i[0],o=i[1];o.indexForShow=s}}catch(u){n.e(u)}finally{n.f()}e.checkTableDataList=a,e.$Message.success("同步表检测成功, 共找到 "+a.length+" 个表")}else e.$Message.warning("同步表检测失败："+t.data.message)})).catch((function(t){e.$Message.error("查询dalcluster异常: "+t)})).finally((function(){e.dbTableLoading=!1}));case 20:case"end":return t.stop()}}),t)})))()},flattenObj:function(e){var t={};for(var a in e)if("object"!==Object(s["a"])(e[a])||Array.isArray(e[a]))t[a]=e[a];else{var r=this.flattenObj(e[a]);for(var n in r)t[a+"."+n]=r[n]}return t}},computed:{preCheckTablePage:function(){var e=this.checkTableDataList,t=(this.table.dbTablePage.current-1)*this.table.dbTablePage.size,a=t+this.table.dbTablePage.size;return Object(i["a"])(e).slice(t,a)}},created:function(){this.tableNames&&this.tableNames.trim().length>0&&this.getTableInfo()}}),d=f,b=a("2877"),p=Object(b["a"])(d,r,n,!1,null,"647b2baf",null);t["a"]=p.exports},f183:function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),i=a("d012"),s=a("861d"),o=a("1a2d"),c=a("9bf2").f,l=a("241c"),u=a("057f"),f=a("4fad"),d=a("90e3"),b=a("bb2f"),p=!1,g=d("meta"),m=0,h=function(e){c(e,g,{value:{objectID:"O"+m++,weakData:{}}})},v=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,g)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[g].objectID},y=function(e,t){if(!o(e,g)){if(!f(e))return!0;if(!t)return!1;h(e)}return e[g].weakData},x=function(e){return b&&p&&f(e)&&!o(e,g)&&h(e),e},w=function(){T.enable=function(){},p=!0;var e=l.f,t=n([].splice),a={};a[g]=1,e(a).length&&(l.f=function(a){for(var r=e(a),n=0,i=r.length;n<i;n++)if(r[n]===g){t(r,n,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},T=e.exports={enable:w,fastKey:v,getWeakData:y,onFreeze:x};i[g]=!0}}]);
//# sourceMappingURL=chunk-1c8c1d14.b7cc8aa5.js.map