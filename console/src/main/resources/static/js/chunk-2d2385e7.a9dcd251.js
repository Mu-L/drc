(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2385e7"],{fea3:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("base-component",[o("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[o("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")]),o("BreadcrumbItem",{attrs:{to:"/proxyResource"}},[e._v("Proxy资源管理")])],1),o("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[o("div",{style:{padding:"1px 1px",height:"100%"}},[o("Row",[o("i-col",{attrs:{span:"12"}},[o("Form",{ref:"proxyResource",staticStyle:{float:"left","margin-top":"50px"},attrs:{model:e.proxyResource,rules:e.ruleproxyResource,"label-width":250}},[o("FormItem",{attrs:{label:"机房",prop:"dc"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择资源所在机房"},on:{"on-create":e.handleCreateDc},model:{value:e.proxyResource.dc,callback:function(t){e.$set(e.proxyResource,"dc",t)},expression:"proxyResource.dc"}},e._l(e.drcZoneList,(function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),o("FormItem",{staticStyle:{width:"450px"},attrs:{label:"IP",prop:"ip"}},[o("Input",{attrs:{placeholder:"请输入Proxy IP"},model:{value:e.proxyResource.ip,callback:function(t){e.$set(e.proxyResource,"ip",t)},expression:"proxyResource.ip"}})],1),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.inputResource()}}},[e._v("录入")])],1),o("Modal",{attrs:{title:"录入结果"},model:{value:e.proxyResource.resultModal,callback:function(t){e.$set(e.proxyResource,"resultModal",t)},expression:"proxyResource.resultModal"}},[e._v(" "+e._s(this.result)+" ")])],1)],1)],1)],1)])],1)},s=[],a={name:"proxyResource",data:function(){return{proxyResource:{dc:"",ip:""},ruleproxyResource:{dc:[{required:!0,message:"机房不能为空",trigger:"blur"}],ip:[{required:!0,message:"IP不能为空",trigger:"blur"}]},drcZoneList:this.constant.dcList,result:""}},methods:{inputResource:function(){var e=this;console.log("do input: dc: %s, protocol: %s, ip: %s, port: %s",this.proxyResource.dc,this.proxyResource.protocol,this.proxyResource.ip,this.proxyResource.port),this.axios.post("/api/drc/v2/meta/proxy?dc="+this.proxyResource.dc+"&ip="+this.proxyResource.ip).then((function(t){console.log("result: %s",t.data),e.result=t.data.data,e.proxyResource.resultModal=!0}))},handleCreateDc:function(e){console.log("customize add dc: "+e),this.drcZoneList.push({value:e,label:e}),console.log(this.drcZoneList)},getBus:function(){var e=this;this.axios.get("/api/drc/v2/meta/bus/all").then((function(t){e.bus=t.data.data}))}},created:function(){var e=this;this.axios.get("/api/drc/v2/permission/resource/proxy").then((function(t){403===t.data.status&&e.$router.push("/nopermission")}))}},c=a,i=o("2877"),u=Object(i["a"])(c,r,s,!1,null,"f378bdbc",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2385e7.a9dcd251.js.map