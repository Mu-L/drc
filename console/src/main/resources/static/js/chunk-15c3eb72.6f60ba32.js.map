{"version":3,"sources":["webpack:///./src/views/access.vue?cf18","webpack:///./src/components/access/build.vue?aa0b","webpack:///src/components/access/build.vue","webpack:///./src/components/access/build.vue?0b6c","webpack:///./src/components/access/build.vue","webpack:///./src/components/access/copy.vue?cd69","webpack:///src/components/access/copy.vue","webpack:///./src/components/access/copy.vue?86bd","webpack:///./src/components/access/copy.vue","webpack:///./src/components/access/dns.vue?598e","webpack:///src/components/access/dns.vue","webpack:///./src/components/access/dns.vue?be58","webpack:///./src/components/access/dns.vue","webpack:///./src/components/access/dal.vue?686b","webpack:///src/components/access/dal.vue","webpack:///./src/components/access/dal.vue?5083","webpack:///./src/components/access/dal.vue","webpack:///src/views/access.vue","webpack:///./src/views/access.vue?db31","webpack:///./src/views/access.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","top","staticStyle","current","cursor","nativeOn","$event","jumpTo","_b","on","updateOld","updateNew","updateZone","clusterPair","_e","updateEnv","prev","next","staticRenderFns","status","_s","title","domProps","message","slot","ref","build","ruleBuild","changeOld","model","value","callback","$$v","$set","expression","changeNewZone","_l","item","key","label","changeBu","changeDalClusterName","changeAppId","handleReset","changeModal","postBuild","oldClusterName","drcZone","bu","dalclustername","appid","name","props","String","newClusterName","data","hasResp","modal","drcZoneList","constant","dcList","methods","that","$refs","validate","valid","axios","post","clustername","drczone","response","drcCluster","$emit","$Message","error","resetFields","start","$Loading","finish","component","copy","ruleCopy","checkCopy","disabledDisconnect","disconnect","OriginalCluster","DrcCluster","rplswitch","dns","ruleDns","changeEnv","getAllDbs","columns","dbNames","changeSelection","postDns","env","needread","selectedDbs","envList","cluster","dbnames","dbs","success","get","selection","getSelection","created","dal","ruleDal","scopedSlots","_u","fn","index","isShard","shardStartNo","postDal","newDrcZone","modal1","modal2","modal3","dalClusterName","release","i","dalName","db","dbname","basedbname","dalname","isshard","shardstartno","changeIsShard","components","drc","complete","$route","query","newclustername","oldZoneId","zoneId","n","e","console","log","Number","curStep","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-15c3eb72.6f60ba32.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/access\"}},[_vm._v(\"搭建DRC\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#ffffff', margin: '50px 0 1px 185px', zIndex: '1', top: '500px'})},[[_c('Steps',{staticStyle:{\"width\":\"90%\",\"margin-left\":\"50px\",\"margin-bottom\":\"15px\",\"margin-top\":\"50px\"},attrs:{\"current\":_vm.current}},[_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"新建集群\",\"content\":\"新建复制集群\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(0)}}}),_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"断开复制\",\"content\":\"查看复制状态/断开复制连接\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(1)}}}),_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"生成分机房域名\",\"content\":\"生成新/源集群两侧域名\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(2)}}}),_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"建立双向复制\",\"content\":\"配置Replicator和Applier建立集群双向复制\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(3)}}}),_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"录入DalCluster\",\"content\":\"新集群db录入dal cluster\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(4)}}}),_c('Step',{style:({cursor: 'pointer'}),attrs:{\"title\":\"完成\",\"content\":\"已完成DRC接入\"},nativeOn:{\"click\":function($event){return _vm.jumpTo(5)}}})],1)],(_vm.current === 0)?_c('build',_vm._b({on:{\"oldClusterChanged\":_vm.updateOld,\"newClusterChanged\":_vm.updateNew,\"newDrcZoneChanged\":_vm.updateZone}},'build',_vm.clusterPair,false)):_vm._e(),(_vm.current === 1)?_c('copy',_vm._b({on:{\"oldClusterChanged\":_vm.updateOld}},'copy',_vm.clusterPair,false)):_vm._e(),(_vm.current === 2)?_c('dns',_vm._b({on:{\"envChanged\":_vm.updateEnv,\"oldClusterChanged\":_vm.updateOld}},'dns',_vm.clusterPair,false)):_vm._e(),(_vm.current === 3)?_c('drc',_vm._b({on:{\"envChanged\":_vm.updateEnv,\"oldClusterChanged\":_vm.updateOld}},'drc',_vm.clusterPair,false)):_vm._e(),(_vm.current === 4)?_c('dal',_vm._b({on:{\"envChanged\":_vm.updateEnv,\"oldClusterChanged\":_vm.updateOld}},'dal',_vm.clusterPair,false)):_vm._e(),(_vm.current === 5)?_c('complete'):_vm._e(),_c('Divider'),_c('div',{staticStyle:{\"padding\":\"1px 1px\",\"height\":\"100px\",\"margin-top\":\"75px\"}},[_c('div',[(_vm.current > 0)?_c('Button',{staticStyle:{\"position\":\"absolute\",\"left\":\"465px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.prev}},[_vm._v(\" 上一步 \")]):_vm._e(),(_vm.current < 5)?_c('Button',{staticStyle:{\"position\":\"absolute\",\"left\":\"790px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一步 \")]):_vm._e()],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.hasResp)?_c('Alert',{staticStyle:{\"width\":\"65%\",\"margin-left\":\"250px\"},attrs:{\"type\":_vm.status,\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{attrs:{\"slot\":\"desc\"},domProps:{\"innerHTML\":_vm._s(_vm.message)},slot:\"desc\"})]):_vm._e(),_c('Form',{ref:\"build\",staticStyle:{\"margin-top\":\"50px\"},attrs:{\"model\":_vm.build,\"rules\":_vm.ruleBuild,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"源集群名\",\"prop\":\"oldClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入源集群名\"},on:{\"input\":_vm.changeOld},model:{value:(_vm.build.oldClusterName),callback:function ($$v) {_vm.$set(_vm.build, \"oldClusterName\", $$v)},expression:\"build.oldClusterName\"}})],1),_c('FormItem',{attrs:{\"label\":\"生成新集群机房区域\",\"prop\":\"drcZone\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择机房区域\"},on:{\"input\":_vm.changeNewZone},model:{value:(_vm.build.drcZone),callback:function ($$v) {_vm.$set(_vm.build, \"drcZone\", $$v)},expression:\"build.drcZone\"}},_vm._l((_vm.build.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"BU名\",\"prop\":\"bu\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入BU名\"},on:{\"input\":_vm.changeBu},model:{value:(_vm.build.bu),callback:function ($$v) {_vm.$set(_vm.build, \"bu\", $$v)},expression:\"build.bu\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"DAL Cluster名\",\"prop\":\"dalclustername\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入DAL Cluster名\"},on:{\"input\":_vm.changeDalClusterName},model:{value:(_vm.build.dalclustername),callback:function ($$v) {_vm.$set(_vm.build, \"dalclustername\", $$v)},expression:\"build.dalclustername\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"appid\",\"prop\":\"appid\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入appid\"},on:{\"input\":_vm.changeAppId},model:{value:(_vm.build.appid),callback:function ($$v) {_vm.$set(_vm.build, \"appid\", $$v)},expression:\"build.appid\"}})],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('build')}}},[_vm._v(\"重置\")]),_c('Button',{staticStyle:{\"margin-left\":\"150px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeModal('build')}}},[_vm._v(\"新建集群\")]),_c('Modal',{attrs:{\"title\":\"创建新集群\"},on:{\"on-ok\":function($event){return _vm.postBuild('build')}},model:{value:(_vm.build.modal),callback:function ($$v) {_vm.$set(_vm.build, \"modal\", $$v)},expression:\"build.modal\"}},[_c('p',[_vm._v(\"确定创建新集群 \\\"\"+_vm._s(_vm.build.oldClusterName + _vm.build.drcZone)+\"\\\" 吗？并且设置BU/DAL Cluster/appid为 \\\"\"+_vm._s(_vm.build.bu)+\"\\\"/\\\"\"+_vm._s(_vm.build.dalclustername)+\"\\\"/\\\"\"+_vm._s(_vm.build.appid)+\"\\\"\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Alert :type=\"status\" show-icon v-if=\"hasResp\" style=\"width: 65%; margin-left: 250px\">\n      {{title}}\n      <span slot=\"desc\" v-html=\"message\"></span>\n    </Alert>\n    <Form ref=\"build\" :model=\"build\" :rules=\"ruleBuild\" :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem label=\"源集群名\" prop=\"oldClusterName\" style=\"width: 600px\">\n        <Input v-model=\"build.oldClusterName\" @input=\"changeOld\" placeholder=\"请输入源集群名\" />\n      </FormItem>\n      <FormItem label=\"生成新集群机房区域\" prop=\"drcZone\">\n        <Select v-model=\"build.drcZone\" style=\"width: 200px\"  placeholder=\"选择机房区域\" @input=\"changeNewZone\">\n          <Option v-for=\"item in build.drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"BU名\" style=\"width: 600px\" prop=\"bu\">\n        <Input v-model=\"build.bu\" @input=\"changeBu\" placeholder=\"请输入BU名\" />\n      </FormItem>\n      <FormItem label=\"DAL Cluster名\" style=\"width: 600px\" prop=\"dalclustername\">\n        <Input v-model=\"build.dalclustername\" @input=\"changeDalClusterName\" placeholder=\"请输入DAL Cluster名\" />\n      </FormItem>\n      <FormItem label=\"appid\" style=\"width: 600px\" prop=\"appid\">\n        <Input v-model=\"build.appid\" @input=\"changeAppId\" placeholder=\"请输入appid\" />\n      </FormItem>\n      <FormItem>\n        <Button @click=\"handleReset('build')\">重置</Button>\n        <Button type=\"primary\" @click=\"changeModal('build')\" style=\"margin-left: 150px\">新建集群</Button>\n        <Modal\n          v-model=\"build.modal\"\n          title=\"创建新集群\"\n          @on-ok=\"postBuild('build')\">\n          <p>确定创建新集群 \"{{build.oldClusterName + build.drcZone}}\" 吗？并且设置BU/DAL Cluster/appid为 \"{{build.bu}}\"/\"{{build.dalclustername}}\"/\"{{build.appid}}\"</p>\n        </Modal>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'build',\n  props: {\n    oldClusterName: String,\n    newClusterName: String\n  },\n  data () {\n    return {\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      build: {\n        modal: false,\n        oldClusterName: this.oldClusterName,\n        newClusterName: this.newClusterName,\n        bu: '',\n        dalclustername: '',\n        appid: '',\n        drcZone: '',\n        drcZoneList: this.constant.dcList\n      },\n      ruleBuild: {\n        oldClusterName: [\n          { required: true, message: '源集群名不能为空', trigger: 'blur' }\n        ],\n        drcZone: [\n          { required: true, message: '选择新建集群区域', trigger: 'change' }\n        ],\n        bu: [\n          { required: true, message: 'BU名不能为空', trigger: 'blur' }\n        ],\n        dalclustername: [\n          { required: true, message: 'DAL Cluster名不能为空', trigger: 'blur' }\n        ],\n        appid: [\n          { required: true, message: 'cluster appid不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    postBuild (name) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          this.hasResp = false\n          that.axios.post('/api/drc/v1/access/mhaV2', {\n            clustername: this.build.oldClusterName,\n            drczone: this.build.drcZone,\n            bu: this.build.bu,\n            dalclustername: this.build.dalclustername,\n            appid: this.build.appid\n          }).then(response => {\n            that.hasResp = true\n            if (response.data.data.status === 'T') {\n              that.status = 'success'\n              that.title = '集群创建完成!'\n              that.message = '新集群名为：' + response.data.data.drcCluster\n              that.$emit('newClusterChanged', response.data.data.drcCluster)\n            } else if (response.data.data.status === 'W') {\n              that.status = 'establishing'\n              this.title = '集群创建中...'\n            } else {\n              that.status = 'error'\n              that.title = '集群创建失败!'\n            }\n            // loading finish\n            this.finish()\n          })\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    changeOld () {\n      this.$emit('oldClusterChanged', this.build.oldClusterName)\n    },\n    changeNewZone () {\n      this.$emit('newDrcZoneChanged', this.build.drcZone)\n    },\n    changeBu () {\n      this.$emit('buChanged', this.build.bu)\n    },\n    changeDalClusterName () {\n      this.$emit('dalclusternameChanged', this.build.dalclustername)\n    },\n    changeAppId () {\n      this.$emit('appidChanged', this.build.appid)\n    },\n    start () {\n      this.$Loading.start()\n    },\n    finish () {\n      this.$Loading.finish()\n    },\n    error () {\n      this.$Loading.error()\n    },\n    changeModal (name) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          this.$Message.error('仍有必填项未填!')\n        } else {\n          this.build.modal = true\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./build.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./build.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./build.vue?vue&type=template&id=f8000fb0&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0&\"\nimport script from \"./build.vue?vue&type=script&lang=js&\"\nexport * from \"./build.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8000fb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.hasResp)?_c('Alert',{staticStyle:{\"width\":\"65%\",\"margin-left\":\"250px\"},attrs:{\"type\":_vm.status,\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{attrs:{\"slot\":\"desc\"},domProps:{\"innerHTML\":_vm._s(_vm.message)},slot:\"desc\"})]):_vm._e(),_c('Form',{ref:\"copy\",staticStyle:{\"margin-top\":\"50px\"},attrs:{\"model\":_vm.copy,\"rules\":_vm.ruleCopy,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"源集群名\",\"prop\":\"oldClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入源集群名\"},on:{\"input\":_vm.changeOld},model:{value:(_vm.copy.oldClusterName),callback:function ($$v) {_vm.$set(_vm.copy, \"oldClusterName\", $$v)},expression:\"copy.oldClusterName\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"新集群名\",\"prop\":\"newClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新集群名\"},model:{value:(_vm.copy.newClusterName),callback:function ($$v) {_vm.$set(_vm.copy, \"newClusterName\", $$v)},expression:\"copy.newClusterName\"}})],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('copy')}}},[_vm._v(\"重置\")]),_c('br'),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.checkCopy('copy')}}},[_vm._v(\"复制状态检测\")]),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"type\":\"error\",\"disabled\":_vm.disabledDisconnect},on:{\"click\":function($event){return _vm.changeModal('copy')}}},[_vm._v(\"断开复制\")]),_c('Modal',{attrs:{\"title\":\"断开复制\"},on:{\"on-ok\":function($event){return _vm.disconnect('copy')}},model:{value:(_vm.copy.modal),callback:function ($$v) {_vm.$set(_vm.copy, \"modal\", $$v)},expression:\"copy.modal\"}},[_c('p',[_vm._v(\"确定断开复制连接吗？\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Alert :type=\"status\" show-icon v-if=\"hasResp\" style=\"width: 65%; margin-left: 250px\">\n      {{title}}\n      <span slot=\"desc\" v-html=\"message\"></span>\n    </Alert>\n    <Form ref=\"copy\" :model=\"copy\" :rules=\"ruleCopy\" :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem label=\"源集群名\" prop=\"oldClusterName\" style=\"width: 600px\">\n        <Input v-model=\"copy.oldClusterName\" @input=\"changeOld\" placeholder=\"请输入源集群名\"/>\n      </FormItem>\n      <FormItem label=\"新集群名\" prop=\"newClusterName\" style=\"width: 600px\">\n        <Input v-model=\"copy.newClusterName\" placeholder=\"请输入新集群名\"/>\n      </FormItem>\n      <FormItem>\n        <Button @click=\"handleReset('copy')\">重置</Button><br><br>\n        <Button type=\"primary\" @click=\"checkCopy('copy')\">复制状态检测</Button>\n        <Button type=\"error\" :disabled=\"disabledDisconnect\" @click=\"changeModal('copy')\" style=\"margin-left: 50px\">断开复制</Button>\n        <Modal\n          v-model=\"copy.modal\"\n          title=\"断开复制\"\n          @on-ok=\"disconnect('copy')\">\n          <p>确定断开复制连接吗？</p>\n        </Modal>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'copy',\n  props: {\n    oldClusterName: String,\n    newClusterName: String\n  },\n  data () {\n    return {\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      disabledDisconnect: true,\n      copy: {\n        modal: false,\n        oldClusterName: this.oldClusterName,\n        newClusterName: this.newClusterName\n      },\n      ruleCopy: {\n        oldClusterName: [\n          { required: true, message: '源集群名不能为空', trigger: 'blur' }\n        ],\n        newClusterName: [\n          { required: true, message: '新集群名不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    checkCopy (name) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          that.hasResp = false\n          that.axios.post('/api/drc/v1/access/copystatus', {\n            OriginalCluster: this.copy.oldClusterName,\n            DrcCluster: this.copy.newClusterName,\n            rplswitch: 0\n          }).then(response => {\n            that.hasResp = true\n            if (response.data.data.status === 'T') {\n              that.disabledDisconnect = false\n              that.status = 'success'\n              that.title = '复制状态正常!'\n            } else {\n              that.disabledDisconnect = true\n              that.status = 'error'\n              that.title = '复制状态异常!'\n            }\n            that.message = response.data.data.message\n            // loading finish\n            this.finish()\n          })\n        }\n      })\n    },\n    disconnect (name) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          that.hasResp = false\n          that.axios.post('/api/drc/v1/access/copystatus', {\n            OriginalCluster: this.copy.oldClusterName,\n            DrcCluster: this.copy.newClusterName,\n            rplswitch: 1\n          }).then(response => {\n            that.hasResp = true\n            if (response.data.data.status === 'T') {\n              that.status = 'success'\n              that.title = '断开复制成功!'\n            } else {\n              that.status = 'error'\n              that.title = '断开复制失败!'\n            }\n            that.message = response.data.data.message\n            // loading finish\n            this.finish()\n          })\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    changeOld () {\n      this.$emit('oldClusterChanged', this.copy.oldClusterName)\n    },\n    start () {\n      this.$Loading.start()\n    },\n    finish () {\n      this.$Loading.finish()\n    },\n    error () {\n      this.$Loading.error()\n    },\n    changeModal (name) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          this.$Message.error('仍有必填项未填!')\n        } else {\n          this.copy.modal = true\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./copy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./copy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./copy.vue?vue&type=template&id=3d271e1a&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0&\"\nimport script from \"./copy.vue?vue&type=script&lang=js&\"\nexport * from \"./copy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d271e1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.hasResp)?_c('Alert',{staticStyle:{\"width\":\"65%\",\"margin-left\":\"250px\"},attrs:{\"type\":_vm.status,\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{attrs:{\"slot\":\"desc\"},domProps:{\"innerHTML\":_vm._s(_vm.message)},slot:\"desc\"})]):_vm._e(),_c('Form',{ref:\"dns\",staticStyle:{\"margin-top\":\"50px\"},attrs:{\"model\":_vm.dns,\"rules\":_vm.ruleDns,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"源集群名\",\"prop\":\"oldClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入源集群名\"},on:{\"input\":_vm.changeOld},model:{value:(_vm.dns.oldClusterName),callback:function ($$v) {_vm.$set(_vm.dns, \"oldClusterName\", $$v)},expression:\"dns.oldClusterName\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"新集群名\",\"prop\":\"newClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新集群名\"},model:{value:(_vm.dns.newClusterName),callback:function ($$v) {_vm.$set(_vm.dns, \"newClusterName\", $$v)},expression:\"dns.newClusterName\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择环境\",\"prop\":\"env\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择环境\"},on:{\"input\":function($event){_vm.changeEnv();_vm.getAllDbs()}},model:{value:(_vm.dns.env),callback:function ($$v) {_vm.$set(_vm.dns, \"env\", $$v)},expression:\"dns.env\"}},_vm._l((_vm.dns.envList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"700px\"},attrs:{\"label\":\"选择DB\"}},[_c('div',[_c('Table',{ref:\"selection\",attrs:{\"highlight-row\":\"\",\"border\":\"\",\"columns\":_vm.dns.columns,\"data\":_vm.dns.dbNames},on:{\"on-selection-change\":_vm.changeSelection},model:{value:(_vm.dns.selectedDbs),callback:function ($$v) {_vm.$set(_vm.dns, \"selectedDbs\", $$v)},expression:\"dns.selectedDbs\"}})],1)]),_c('FormItem',{attrs:{\"label\":\"需要读域名\",\"prop\":\"needread\"}},[_c('i-switch',{model:{value:(_vm.dns.needread),callback:function ($$v) {_vm.$set(_vm.dns, \"needread\", $$v)},expression:\"dns.needread\"}})],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('dns')}}},[_vm._v(\"重置\")]),_c('Button',{staticStyle:{\"margin-left\":\"150px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeModal('dns')}}},[_vm._v(\"确定提交\")]),_c('Modal',{attrs:{\"title\":\"生成分机房域名\"},on:{\"on-ok\":function($event){return _vm.postDns('dns')}},model:{value:(_vm.dns.modal),callback:function ($$v) {_vm.$set(_vm.dns, \"modal\", $$v)},expression:\"dns.modal\"}},[_c('p',[_vm._v(\"确定在 \\\"\"+_vm._s(_vm.dns.oldClusterName)+\"\\\" 和 \\\"\"+_vm._s(_vm.dns.newClusterName)+\"\\\" 集群中生成带区域信息的域名吗？\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Alert :type=\"status\" show-icon v-if=\"hasResp\" style=\"width: 65%; margin-left: 250px\">\n      {{title}}\n      <span slot=\"desc\" v-html=\"message\"></span>\n    </Alert>\n    <Form ref=\"dns\" :model=\"dns\" :rules=\"ruleDns\" :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem label=\"源集群名\" prop=\"oldClusterName\" style=\"width: 600px\">\n        <Input v-model=\"dns.oldClusterName\" @input=\"changeOld\" placeholder=\"请输入源集群名\"/>\n      </FormItem>\n      <FormItem label=\"新集群名\" prop=\"newClusterName\" style=\"width: 600px\">\n        <Input v-model=\"dns.newClusterName\" placeholder=\"请输入新集群名\"/>\n      </FormItem>\n      <FormItem label=\"选择环境\" prop=\"env\">\n        <Select v-model=\"dns.env\" style=\"width: 200px\" @input=\"changeEnv();getAllDbs()\" placeholder=\"选择环境\">\n          <Option v-for=\"item in dns.envList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"选择DB\" style=\"width: 700px\">\n        <div>\n          <Table highlight-row border ref=\"selection\" :columns=\"dns.columns\" :data=\"dns.dbNames\" v-model=\"dns.selectedDbs\" @on-selection-change=\"changeSelection\"></Table>\n        </div>\n      </FormItem>\n      <FormItem label=\"需要读域名\" prop=\"needread\">\n        <i-switch v-model=\"dns.needread\"/>\n      </FormItem>\n      <FormItem>\n        <Button @click=\"handleReset('dns')\" >重置</Button>\n        <Button type=\"primary\" @click=\"changeModal('dns')\" style=\"margin-left: 150px\">确定提交</Button>\n        <Modal\n          v-model=\"dns.modal\"\n          title=\"生成分机房域名\"\n          @on-ok=\"postDns('dns')\">\n          <p>确定在 \"{{dns.oldClusterName}}\" 和 \"{{dns.newClusterName}}\" 集群中生成带区域信息的域名吗？</p>\n        </Modal>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'dns',\n  props: {\n    oldClusterName: String,\n    newClusterName: String,\n    env: String\n  },\n  data () {\n    return {\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      dns: {\n        modal: false,\n        oldClusterName: this.oldClusterName,\n        newClusterName: this.newClusterName,\n        env: this.env,\n        needread: false,\n        columns: [\n          {\n            type: 'selection',\n            width: 60,\n            align: 'center'\n          },\n          {\n            title: 'DB名',\n            key: 'name'\n          }\n        ],\n        dbNames: [\n        ],\n        selectedDbs: [],\n        envList: [\n          {\n            value: 'product',\n            label: 'PRODUCT'\n          },\n          {\n            value: 'fat',\n            label: 'FAT'\n          },\n          {\n            value: 'lpt',\n            label: 'LPT'\n          },\n          {\n            value: 'uat',\n            label: 'UAT'\n          }\n        ]\n      },\n      ruleDns: {\n        oldClusterName: [\n          { required: true, message: '源集群名不能为空', trigger: 'blur' }\n        ],\n        newClusterName: [\n          { required: true, message: '新集群名不能为空', trigger: 'blur' }\n        ],\n        env: [\n          { required: true, message: '环境不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    postDns (name) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          const dbs = this.dns.selectedDbs\n            .map(db => db.name)\n          that.hasResp = false\n          that.title = '部署DNS成功!'\n          that.status = 'success'\n          that.message = ''\n          // old cluster\n          that.axios.post('/api/drc/v1/access/dns', {\n            cluster: this.dns.oldClusterName,\n            dbnames: String(dbs),\n            env: this.dns.env,\n            needread: this.dns.needread ? 1 : 0\n          }).then(response => {\n            that.hasResp = true\n            if (!response.data.data.success) {\n              that.status = 'error'\n              that.title = '部署DNS失败!'\n              that.message += 'DNS部署失败！<br/>集群名：' + this.dns.oldClusterName + '<br/>提示信息：' + response.data.data.content + '<hr/>'\n            } else {\n              that.message += 'DNS部署成功！<br/>集群名：' + this.dns.oldClusterName + '<br/>提示信息：' + response.data.data.content + '<hr/>'\n            }\n            // loading finish\n            this.finish()\n          })\n          // new cluster\n          that.axios.post('/api/drc/v1/access/dns', {\n            cluster: this.dns.newClusterName,\n            dbnames: String(dbs),\n            env: this.dns.env,\n            needread: this.dns.needread ? 1 : 0\n          }).then(response => {\n            that.hasResp = true\n            if (!response.data.data.success) {\n              that.status = 'error'\n              that.title = '部署DNS失败!'\n              that.message += 'DNS部署失败！<br/>集群名：' + this.dns.newClusterName + '<br/>提示信息：' + response.data.data.content + '<hr/>'\n            } else {\n              that.message += 'DNS部署成功！<br/>集群名：' + this.dns.newClusterName + '<br/>提示信息：' + response.data.data.content + '<hr/>'\n            }\n            // loading finish\n            this.finish()\n          })\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    changeEnv () {\n      this.$emit('envChanged', this.dns.env)\n      this.getAllDbs()\n    },\n    getAllDbs () {\n      this.axios.get('/api/drc/v1/mha/dbnames/cluster/' + this.dns.oldClusterName + '/env/' + this.dns.env)\n        .then(response => {\n          console.log(response.data)\n          this.dns.dbNames = []\n          response.data.data.forEach(db => this.dns.dbNames.push({ name: db }))\n        })\n    },\n    changeSelection () {\n      this.dns.selectedDbs = this.$refs.selection.getSelection()\n    },\n    changeOld () {\n      this.getAllDbs()\n      this.$emit('oldClusterChanged', this.dns.oldClusterName)\n    },\n    start () {\n      this.$Loading.start()\n    },\n    finish () {\n      this.$Loading.finish()\n    },\n    error () {\n      this.$Loading.error()\n    },\n    changeModal (name) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          this.$Message.error('仍有必填项未填!')\n        } else {\n          this.dns.modal = true\n        }\n      })\n    }\n  },\n  created () {\n    this.getAllDbs()\n  }\n}\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dns.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dns.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dns.vue?vue&type=template&id=59591dc0&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0&\"\nimport script from \"./dns.vue?vue&type=script&lang=js&\"\nexport * from \"./dns.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59591dc0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.hasResp)?_c('Alert',{staticStyle:{\"width\":\"65%\",\"margin-left\":\"250px\"},attrs:{\"type\":_vm.status,\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{attrs:{\"slot\":\"desc\"},domProps:{\"innerHTML\":_vm._s(_vm.message)},slot:\"desc\"})]):_vm._e(),_c('Form',{ref:\"dal\",staticStyle:{\"margin-top\":\"50px\"},attrs:{\"model\":_vm.dal,\"rules\":_vm.ruleDal,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"源集群名\",\"prop\":\"oldClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入源集群名\"},on:{\"input\":_vm.changeOld},model:{value:(_vm.dal.oldClusterName),callback:function ($$v) {_vm.$set(_vm.dal, \"oldClusterName\", $$v)},expression:\"dal.oldClusterName\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"新集群名\",\"prop\":\"newClusterName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入新集群名\"},model:{value:(_vm.dal.newClusterName),callback:function ($$v) {_vm.$set(_vm.dal, \"newClusterName\", $$v)},expression:\"dal.newClusterName\"}})],1),_c('FormItem',{attrs:{\"label\":\"新集群机房区域\",\"prop\":\"drcZone\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择机房区域\"},on:{\"input\":_vm.getAllDbs},model:{value:(_vm.dal.drcZone),callback:function ($$v) {_vm.$set(_vm.dal, \"drcZone\", $$v)},expression:\"dal.drcZone\"}},_vm._l((_vm.dal.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"选择环境\",\"prop\":\"env\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择环境\"},on:{\"input\":_vm.changeEnv},model:{value:(_vm.dal.env),callback:function ($$v) {_vm.$set(_vm.dal, \"env\", $$v)},expression:\"dal.env\"}},_vm._l((_vm.dal.envList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"90%\"},attrs:{\"label\":\"选择DAL集群\"}},[_c('div',[_c('Table',{ref:\"selection\",attrs:{\"highlight-row\":\"\",\"border\":\"\",\"columns\":_vm.dal.columns,\"data\":_vm.dal.dbNames},on:{\"on-selection-change\":_vm.changeSelection},scopedSlots:_vm._u([{key:\"status\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Tag',{attrs:{\"size\":\"large\",\"color\":_vm.dal.dbNames[index].status ? 'success':'default'}},[_vm._v(_vm._s(_vm.dal.dbNames[index].status ? '已录入':'未录入'))])]}},{key:\"is\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Tag',{attrs:{\"size\":\"large\",\"color\":_vm.dal.dbNames[index].isShard ? 'warning':'primary'}},[_vm._v(_vm._s(_vm.dal.dbNames[index].isShard ? '是':'否'))])]}},{key:\"no\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Tag',{attrs:{\"size\":\"large\",\"color\":'default'}},[_vm._v(_vm._s(_vm.dal.dbNames[index].shardStartNo))])]}}]),model:{value:(_vm.dal.selectedDbs),callback:function ($$v) {_vm.$set(_vm.dal, \"selectedDbs\", $$v)},expression:\"dal.selectedDbs\"}})],1)]),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('dal')}}},[_vm._v(\"重置\")]),_c('Button',{staticStyle:{\"margin-left\":\"150px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeModal('dal', 1)}}},[_vm._v(\"新集群录入DAL Cluster\")]),_c('Modal',{attrs:{\"title\":\"录入DAL集群\"},on:{\"on-ok\":function($event){return _vm.postDal('dal', 'instance')}},model:{value:(_vm.dal.modal1),callback:function ($$v) {_vm.$set(_vm.dal, \"modal1\", $$v)},expression:\"dal.modal1\"}},[_c('p',[_vm._v(\"确定将所有已选的db录入dal cluster吗？\")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Alert :type=\"status\" show-icon v-if=\"hasResp\" style=\"width: 65%; margin-left: 250px\">\n      {{title}}\n      <span slot=\"desc\" v-html=\"message\"></span>\n    </Alert>\n    <Form ref=\"dal\" :model=\"dal\" :rules=\"ruleDal\" :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem label=\"源集群名\" prop=\"oldClusterName\" style=\"width: 600px\">\n        <Input v-model=\"dal.oldClusterName\" @input=\"changeOld\" placeholder=\"请输入源集群名\"/>\n      </FormItem>\n      <FormItem label=\"新集群名\" prop=\"newClusterName\" style=\"width: 600px\">\n        <Input v-model=\"dal.newClusterName\" placeholder=\"请输入新集群名\"/>\n      </FormItem>\n      <FormItem label=\"新集群机房区域\" prop=\"drcZone\">\n        <Select v-model=\"dal.drcZone\" style=\"width: 200px\"  placeholder=\"选择机房区域\" @input=\"getAllDbs\">\n          <Option v-for=\"item in dal.drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"选择环境\" prop=\"env\">\n        <Select v-model=\"dal.env\" style=\"width: 200px\"  placeholder=\"选择环境\" @input=\"changeEnv\">\n          <Option v-for=\"item in dal.envList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem label=\"选择DAL集群\" style=\"width:90%\">\n        <div>\n          <Table highlight-row border ref=\"selection\" :columns=\"dal.columns\" :data=\"dal.dbNames\" v-model=\"dal.selectedDbs\" @on-selection-change=\"changeSelection\">\n            <template slot-scope=\"{index}\" slot=\"status\">\n              <Tag size=\"large\" :color=\"dal.dbNames[index].status ? 'success':'default'\">{{dal.dbNames[index].status ? '已录入':'未录入'}}</Tag>\n            </template>\n            <template slot-scope=\"{index}\" slot=\"is\">\n              <Tag size=\"large\" :color=\"dal.dbNames[index].isShard ? 'warning':'primary'\">{{dal.dbNames[index].isShard ? '是':'否'}}</Tag>\n            </template>\n            <template slot-scope=\"{index}\" slot=\"no\">\n              <Tag size=\"large\" :color=\"'default'\">{{dal.dbNames[index].shardStartNo}}</Tag>\n            </template>\n          </Table>\n        </div>\n      </FormItem>\n      <FormItem>\n        <Button @click=\"handleReset('dal')\">重置</Button>\n        <Button type=\"primary\" style=\"margin-left: 150px\" @click=\"changeModal('dal', 1)\">新集群录入DAL Cluster</Button>\n        <Modal\n          v-model=\"dal.modal1\"\n          title=\"录入DAL集群\"\n          @on-ok=\"postDal('dal', 'instance')\">\n          <p>确定将所有已选的db录入dal cluster吗？</p>\n        </Modal>\n<!--        <Button type=\"primary\" @click=\"changeModal('dal', 2)\" style=\"margin-left: 50px\">录入用户</Button>-->\n<!--        <Modal-->\n<!--          v-model=\"dal.modal2\"-->\n<!--          title=\"录入用户\"-->\n<!--          @on-ok=\"postDal('dal', 'user')\">-->\n<!--          <p>确定将所有已选db的用户录入dal cluster吗？</p>-->\n<!--        </Modal>-->\n<!--        <Button type=\"success\" @click=\"changeModal('dal', 3)\" style=\"margin-left: 50px\">发布</Button>-->\n<!--        <Modal-->\n<!--          v-model=\"dal.modal3\"-->\n<!--          title=\"发布dal cluster\"-->\n<!--          @on-ok=\"release('dal')\">-->\n<!--          <p>确定发布所有已选的dal cluster吗？</p>-->\n<!--        </Modal>-->\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'dal',\n  props: {\n    oldClusterName: String,\n    newClusterName: String,\n    env: String,\n    newDrcZone: String\n  },\n  data () {\n    return {\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      dal: {\n        modal1: false,\n        modal2: false,\n        modal3: false,\n        oldClusterName: this.oldClusterName,\n        newClusterName: this.newClusterName,\n        env: this.env,\n        drcZone: this.newDrcZone,\n        columns: [\n          {\n            type: 'selection',\n            width: 60,\n            align: 'center'\n          },\n          {\n            title: 'DB',\n            minWidth: 150,\n            key: 'name'\n          },\n          {\n            title: 'Dal Cluster',\n            minWidth: 150,\n            key: 'dalName'\n          },\n          {\n            title: '录入状态',\n            width: 110,\n            slot: 'status'\n          },\n          {\n            title: '是否分片',\n            width: 100,\n            slot: 'is'\n          },\n          {\n            title: '分片起始',\n            width: 100,\n            slot: 'no'\n          }\n        ],\n        dbNames: [],\n        envList: [\n          {\n            value: 'product',\n            label: 'PRODUCT'\n          },\n          {\n            value: 'fat',\n            label: 'FAT'\n          },\n          {\n            value: 'lpt',\n            label: 'LPT'\n          },\n          {\n            value: 'uat',\n            label: 'UAT'\n          }\n        ],\n        drcZoneList: this.constant.dcList\n      },\n      ruleDal: {\n        dalClusterName: [\n          { required: true, message: 'DAL集群名不能为空', trigger: 'blur' }\n        ],\n        oldClusterName: [\n          { required: true, message: '源集群名不能为空', trigger: 'blur' }\n        ],\n        newClusterName: [\n          { required: true, message: '新集群名不能为空', trigger: 'blur' }\n        ],\n        env: [\n          { required: true, message: '环境不能为空', trigger: 'blur' }\n        ],\n        drcZone: [\n          { required: true, message: '选择新建集群区域', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  methods: {\n    postDal (name, goal) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          const dbs = this.dal.selectedDbs\n          that.hasResp = false\n          that.message = ''\n          that.title = '录入成功!'\n          that.status = 'success'\n          for (let i = 0; i < dbs.length; i++) {\n            // // old cluster\n            // that.axios.post('/api/drc/v1/access/clusters/env/' + that.dal.env + '/goal/' + goal, {\n            //   dalclustername: dbs[i].dalName,\n            //   dbname: dbs[i].name,\n            //   clustername: that.dal.oldClusterName,\n            //   isshard: dbs[i].isShard,\n            //   shardstartno: dbs[i].isShard ? parseInt(dbs[i].shardStartNo) : 0\n            // }).then(response => {\n            //   that.hasResp = true\n            //   if (response.data.data.success) {\n            //     if (goal === 'instance') {\n            //       that.message += 'DAL集群录入成功！<br/>集群名：' + that.dal.oldClusterName + '：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n            //     } else if (goal === 'user') {\n            //       that.message += '用户录入成功！<br/>集群名：' + that.dal.oldClusterName + '：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n            //     }\n            //   } else {\n            //     that.title = '失败!'\n            //     that.status = 'error'\n            //     if (goal === 'instance') {\n            //       that.message += 'DAL集群录入失败！<br/>集群名：' + that.dal.oldClusterName + '：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n            //     } else if (goal === 'user') {\n            //       that.message += '用户录入失败！<br/>集群名：' + that.dal.oldClusterName + '：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n            //     }\n            //   }\n            //   // loading finish\n            //   this.finish()\n            // })\n            // new cluster\n            that.axios.post('/api/drc/v1/access/clusters/env/' + that.dal.env + '/goal/' + goal, {\n              dalclustername: dbs[i].dalName,\n              dbname: dbs[i].name,\n              basedbname: dbs[i].basedbname,\n              clustername: that.dal.newClusterName,\n              isshard: dbs[i].isShard,\n              shardstartno: dbs[i].isShard ? parseInt(dbs[i].shardStartNo) : 0\n            }).then(response => {\n              that.hasResp = true\n              if (response.data.data.success) {\n                if (goal === 'instance') {\n                  that.message += 'DAL集群录入成功！<br/>集群名：' + that.dal.newClusterName + ':' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                } else if (goal === 'user') {\n                  that.message += '用户录入成功！<br/>集群名：' + that.dal.newClusterName + ':' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                }\n              } else {\n                that.title = '失败!'\n                that.status = 'error'\n                if (goal === 'instance') {\n                  that.message += 'DAL集群录入失败！<br/>集群名：' + that.dal.newClusterName + ':' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                } else if (goal === 'user') {\n                  that.message += '用户录入失败！<br/>集群名：' + that.dal.newClusterName + ':' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                }\n              }\n              // loading finish\n              this.finish()\n            })\n          }\n        }\n      })\n    },\n    release (name) {\n      const that = this\n      that.$refs[name].validate((valid) => {\n        if (!valid) {\n          that.$Message.error('仍有必填项未填!')\n        } else {\n          // loading start\n          this.start()\n          const dbs = this.dal.selectedDbs\n          that.hasResp = false\n          that.status = 'success'\n          that.title = '发布DAL集群成功!'\n          that.message = ''\n          for (let i = 0; i < dbs.length; i++) {\n            that.axios.post('/api/drc/v1/access/clusters/clustername/' + dbs[i].dalName + '/env/' + that.dal.env + '/releases')\n              .then(response => {\n                that.hasResp = true\n                if (response.data.data.status === 200) {\n                  that.message += '发布成功！<br/>集群名：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                } else {\n                  that.status = 'error'\n                  that.title = '发布DAL集群失败!'\n                  that.message += '发布失败！<br/>集群名：' + dbs[i].dalName + '<br/>提示信息：' + response.data.data.message + '<hr/>'\n                }\n                // loading finish\n                this.finish()\n              })\n          }\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    changeEnv () {\n      this.$emit('envChanged', this.dal.env)\n      this.getAllDbs()\n    },\n    getAllDbs () {\n      this.axios.get('/api/drc/v1/mha/dbnames/dalnames/cluster/' + this.dal.oldClusterName + '/env/' + this.dal.env + '/zoneId/' + this.dal.drcZone)\n        .then(response => {\n          console.log(response.data)\n          this.dal.dbNames = []\n          response.data.data.forEach(db => this.dal.dbNames.push({\n            name: db.dbname,\n            basedbname: db.basedbname,\n            dalName: db.dalname,\n            isShard: db.isshard,\n            shardStartNo: db.shardstartno,\n            status: db.status\n          }))\n        })\n    },\n    changeSelection () {\n      this.dal.selectedDbs = this.$refs.selection.getSelection()\n    },\n    changeOld () {\n      this.getAllDbs()\n      this.$emit('oldClusterChanged', this.dal.oldClusterName)\n    },\n    changeIsShard (index) {\n      if (!this.dal.dbNames[index].isshard) {\n        this.dal.dbNames[index].shardStartNo = 0\n      }\n    },\n    start () {\n      this.$Loading.start()\n    },\n    finish () {\n      this.$Loading.finish()\n    },\n    error () {\n      this.$Loading.error()\n    },\n    changeModal (name, i) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          this.$Message.error('仍有必填项未填!')\n        } else {\n          switch (i) {\n            case (1): this.dal.modal1 = true; break\n            case (2): this.dal.modal2 = true; break\n            case (3): this.dal.modal3 = true; break\n          }\n        }\n      })\n    }\n  },\n  created () {\n    this.getAllDbs()\n  }\n}\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dal.vue?vue&type=template&id=4b589c88&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0&\"\nimport script from \"./dal.vue?vue&type=script&lang=js&\"\nexport * from \"./dal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b589c88\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/access\">搭建DRC</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#ffffff', margin: '50px 0 1px 185px', zIndex: '1', top: '500px'}\">\n      <template>\n        <Steps :current=\"current\" style=\"width: 90%; margin-left: 50px; margin-bottom: 15px; margin-top: 50px\">\n          <Step title=\"新建集群\" content=\"新建复制集群\" @click.native=\"jumpTo(0)\" :style=\"{cursor: 'pointer'}\"></Step>\n          <Step title=\"断开复制\" content=\"查看复制状态/断开复制连接\" @click.native=\"jumpTo(1)\" :style=\"{cursor: 'pointer'}\"></Step>\n          <Step title=\"生成分机房域名\" content=\"生成新/源集群两侧域名\" @click.native=\"jumpTo(2)\" :style=\"{cursor: 'pointer'}\"></Step>\n          <Step title=\"建立双向复制\" content=\"配置Replicator和Applier建立集群双向复制\" @click.native=\"jumpTo(3)\" :style=\"{cursor: 'pointer'}\"></Step>\n          <Step title=\"录入DalCluster\" content=\"新集群db录入dal cluster\" @click.native=\"jumpTo(4)\" :style=\"{cursor: 'pointer'}\"></Step>\n          <Step title=\"完成\" content=\"已完成DRC接入\" @click.native=\"jumpTo(5)\" :style=\"{cursor: 'pointer'}\"></Step>\n        </Steps>\n      </template>\n      <build v-if=\"current === 0\" v-bind=\"clusterPair\" v-on:oldClusterChanged=\"updateOld\" v-on:newClusterChanged=\"updateNew\" v-on:newDrcZoneChanged=\"updateZone\"/>\n      <copy v-if=\"current === 1\" v-bind=\"clusterPair\" v-on:oldClusterChanged=\"updateOld\"/>\n      <dns v-if=\"current === 2\" v-bind=\"clusterPair\" v-on:envChanged=\"updateEnv\" v-on:oldClusterChanged=\"updateOld\"/>\n      <drc v-if=\"current === 3\" v-bind=\"clusterPair\" v-on:envChanged=\"updateEnv\" v-on:oldClusterChanged=\"updateOld\"/>\n      <dal v-if=\"current === 4\" v-bind=\"clusterPair\" v-on:envChanged=\"updateEnv\" v-on:oldClusterChanged=\"updateOld\"/>\n      <complete v-if=\"current === 5\"/>\n      <Divider/>\n      <div style=\"padding: 1px 1px; height: 100px; margin-top: 75px\">\n        <div>\n          <Button type=\"primary\" @click=\"prev\" style=\"position: absolute; left: 465px\" v-if=\"current > 0\">\n            上一步\n          </Button>\n          <Button type=\"primary\" @click=\"next\" style=\"position: absolute; left: 790px\" v-if=\"current < 5\">\n            下一步\n          </Button>\n        </div>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nimport build from '../components/access/build.vue'\nimport copy from '../components/access/copy.vue'\nimport dns from '../components/access/dns.vue'\nimport drc from '../components/access/drc.vue'\nimport dal from '../components/access/dal.vue'\nimport complete from '../components/access/complete.vue'\nexport default {\n  components: {\n    build,\n    copy,\n    drc,\n    dns,\n    dal,\n    complete\n  },\n  data () {\n    return {\n      current: 0,\n      clusterPair: {\n        oldClusterName: this.$route.query.clustername,\n        newClusterName: this.$route.query.newclustername,\n        env: '',\n        oldZoneId: this.$route.query.zoneId,\n        newDrcZone: ''\n      }\n    }\n  },\n  methods: {\n    jumpTo (n) {\n      this.current = n\n      this.hasResp = false\n    },\n    next () {\n      this.current = this.current + 1\n      this.hasResp = false\n    },\n    prev () {\n      this.current = this.current - 1\n      this.hasResp = false\n    },\n    updateOld (e) {\n      this.clusterPair.oldClusterName = e\n    },\n    updateNew (e) {\n      this.clusterPair.newClusterName = e\n    },\n    updateZone (e) {\n      this.clusterPair.newDrcZone = e\n    },\n    updateEnv (e) {\n      this.clusterPair.env = e\n    }\n  },\n  created () {\n    const curStep = this.$route.query.step\n    if (typeof (curStep) === 'undefined') {\n      console.log('curStep undefined, do nothing')\n    } else {\n      this.jumpTo(Number(curStep))\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./access.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./access.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./access.vue?vue&type=template&id=629545d4&scoped=true&\"\nimport script from \"./access.vue?vue&type=script&lang=js&\"\nexport * from \"./access.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"629545d4\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}