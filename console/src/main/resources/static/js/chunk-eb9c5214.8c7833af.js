(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb9c5214"],{"00b4":function(t,e,o){"use strict";o("ac1f");var i=o("23e7"),r=o("c65b"),a=o("1626"),s=o("825a"),n=o("577e"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),c=/./.test;i({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=s(this),o=n(t),i=e.exec;if(!a(i))return r(c,e,o);var l=r(i,e,o);return null!==l&&(s(l),!0)}})},"06c5":function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));o("a630"),o("fb6a"),o("b0c0"),o("d3b7"),o("ac1f"),o("00b4"),o("25f0"),o("3ca3");var i=o("6b75");function r(t,e){if(t){if("string"==typeof t)return Object(i["a"])(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Object(i["a"])(t,e):void 0}}},"107c":function(t,e,o){"use strict";var i=o("d039"),r=o("cfe9"),a=r.RegExp;t.exports=i((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"25f0":function(t,e,o){"use strict";var i=o("5e77").PROPER,r=o("cb2d"),a=o("825a"),s=o("577e"),n=o("d039"),l=o("90d8"),c="toString",d=RegExp.prototype,u=d[c],h=n((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),f=i&&u.name!==c;(h||f)&&r(d,c,(function(){var t=a(this),e=s(t.source),o=s(l(t));return"/"+e+"/"+o}),{unsafe:!0})},2909:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var i=o("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}o("a4d3"),o("e01a"),o("d28b"),o("a630"),o("d3b7"),o("3ca3"),o("ddb0");function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var s=o("06c5");o("d9e2");function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return r(t)||a(t)||Object(s["a"])(t)||n()}},"4df4":function(t,e,o){"use strict";var i=o("0366"),r=o("c65b"),a=o("7b0b"),s=o("9bdd"),n=o("e95a"),l=o("68ee"),c=o("07fa"),d=o("8418"),u=o("9a1f"),h=o("35a1"),f=Array;t.exports=function(t){var e=a(t),o=l(this),g=arguments.length,m=g>1?arguments[1]:void 0,p=void 0!==m;p&&(m=i(m,g>2?arguments[2]:void 0));var C,w,F,v,b,y,x=h(e),I=0;if(!x||this===f&&n(x))for(C=c(e),w=o?new this(C):f(C);C>I;I++)y=p?m(e[I],I):e[I],d(w,I,y);else for(w=o?new this:[],v=u(e,x),b=v.next;!(F=r(b,v)).done;I++)y=p?s(v,m,[F.value,I],!0):F.value,d(w,I,y);return w.length=I,w}},"5fb7":function(t,e,o){"use strict";o.r(e);o("b0c0");var i=function(){var t=this,e=t._self._c;return e("base-component",[e("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[e("BreadcrumbItem",{attrs:{to:"/home"}},[t._v("首页")]),e("BreadcrumbItem",{attrs:{to:"/rowsFilterConfigs"}},[t._v("行过滤配置")])],1),e("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[e("Row",[e("Col",{attrs:{span:"22"}},[e("span",{staticStyle:{"margin-top":"10px",color:"#464c5b","font-weight":"600"}},[t._v(t._s(t.drc.srcMha)+"("+t._s(t.drc.srcDc)+")==>"+t._s(t.drc.destMha)+"("+t._s(t.drc.destDc)+")")])]),e("Col",{attrs:{span:"2"}},[e("Button",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{type:"primary",ghost:""},on:{click:t.goToAddRowsFilter}},[t._v("添加")])],1)],1),e("div",{style:{padding:"1px 1px",height:"100%"}},[t.display.rowsFilterConfigs?[e("Table",{staticStyle:{"margin-top":"20px"},attrs:{stripe:"",columns:t.columns,data:t.rowsFilterConfigsData,border:""},scopedSlots:t._u([{key:"action",fn:function(o){var i=o.row,r=o.index;return[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.goToShowConfig(i,r)}}},[t._v("查看")]),e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToUpdateConfig(i,r)}}},[t._v("修改")]),e("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteConfig(i,r)}}},[t._v("删除")])]}}],null,!1,89673703)})]:t._e()],2)],1),e("Modal",{attrs:{title:"行过滤配置",width:"1000px"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("Button",{attrs:{type:"text",size:"large"},on:{click:t.cancelSubmit}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.submitConfig}},[t._v("提交")])]},proxy:!0}]),model:{value:t.display.rowsFilterModal,callback:function(e){t.$set(t.display,"rowsFilterModal",e)},expression:"display.rowsFilterModal"}},[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{span:"12"}},[e("Card",[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("配置")])]),e("Form",{ref:"rowsFilterConfig",staticStyle:{"margin-top":"10px"},attrs:{model:t.rowsFilterConfig,"label-width":100}},[e("FormItem",{attrs:{label:"数据源"}},[e("Input",{staticStyle:{width:"200px"},attrs:{readonly:""},model:{value:t.rowsFilterConfig.dataMediaSourceName,callback:function(e){t.$set(t.rowsFilterConfig,"dataMediaSourceName",e)},expression:"rowsFilterConfig.dataMediaSourceName"}})],1),e("FormItem",{attrs:{label:"库名"}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"支持正则  .*匹配全部"},model:{value:t.rowsFilterConfig.namespace,callback:function(e){t.$set(t.rowsFilterConfig,"namespace",e)},expression:"rowsFilterConfig.namespace"}})],1),e("FormItem",{attrs:{label:"表名"}},[e("Row",[e("Col",{attrs:{span:"16"}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"支持正则  .*匹配全部"},model:{value:t.rowsFilterConfig.name,callback:function(e){t.$set(t.rowsFilterConfig,"name",e)},expression:"rowsFilterConfig.name"}})],1),e("Col",{attrs:{span:"4"}},[e("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.checkTable}},[t._v("校验")])],1)],1)],1),e("FormItem",{attrs:{label:"模式"}},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择行过滤模式"},model:{value:t.rowsFilterConfig.mode,callback:function(e){t.$set(t.rowsFilterConfig,"mode",e)},expression:"rowsFilterConfig.mode"}},t._l(t.modesForChose,(function(o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])})),1)],1),"trip_udl"!==t.rowsFilterConfig.mode||0===t.rowsFilterConfig.fetchMode?e("FormItem",{attrs:{label:"规则内容"}},["trip_udl"!==t.rowsFilterConfig.mode?e("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"请输入行过滤内容"},model:{value:t.rowsFilterConfig.context,callback:function(e){t.$set(t.rowsFilterConfig,"context",e)},expression:"rowsFilterConfig.context"}}):t._e(),"trip_udl"===t.rowsFilterConfig.mode&&0===t.rowsFilterConfig.fetchMode?e("Select",{staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"Region 选择"},model:{value:t.configInTripUid.regionsChosen,callback:function(e){t.$set(t.configInTripUid,"regionsChosen",e)},expression:"configInTripUid.regionsChosen"}},t._l(t.regionsForChose,(function(o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])})),1):t._e()],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("FormItem",{attrs:{label:"空处理"}},[e("Checkbox",{model:{value:t.rowsFilterConfig.illegalArgument,callback:function(e){t.$set(t.rowsFilterConfig,"illegalArgument",e)},expression:"rowsFilterConfig.illegalArgument"}},[t._v("【字段为空时】同步")])],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("Divider",[t._v("UDL配置")]):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("FormItem",{attrs:{label:"UDL字段"}},[e("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UDL配置"},on:{"on-create":t.handleCreateUDLColumn},model:{value:t.rowsFilterConfig.udlColumns,callback:function(e){t.$set(t.rowsFilterConfig,"udlColumns",e)},expression:"rowsFilterConfig.udlColumns"}},t._l(t.columnsForChose,(function(o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode&&0!==t.rowsFilterConfig.udlColumns.length?e("FormItem",{attrs:{label:"DRC UDL策略id"}},[e("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择ucs策略id"},on:{"on-create":t.handleCreateDrcStrategyId},model:{value:t.rowsFilterConfig.drcStrategyId,callback:function(e){t.$set(t.rowsFilterConfig,"drcStrategyId",e)},expression:"rowsFilterConfig.drcStrategyId"}},t._l(t.drcStrategyIdsForChose,(function(o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("Divider",[t._v("UID配置")]):t._e(),"trip_udl"!==t.rowsFilterConfig.mode?e("FormItem",{attrs:{label:"相关字段"}},[e("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":t.handleCreateColumn},model:{value:t.rowsFilterConfig.columns,callback:function(e){t.$set(t.rowsFilterConfig,"columns",e)},expression:"rowsFilterConfig.columns"}},t._l(t.columnsForChose,(function(t){return e("Option",{key:t,attrs:{value:t,lable:t}})})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("FormItem",{attrs:{label:"UID字段"}},[e("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UID配置"},on:{"on-create":t.handleCreateUIDColumn},model:{value:t.rowsFilterConfig.columns,callback:function(e){t.$set(t.rowsFilterConfig,"columns",e)},expression:"rowsFilterConfig.columns"}},t._l(t.columnsForChose,(function(o){return e("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])})),1)],1):t._e(),"trip_udl"===t.rowsFilterConfig.mode?e("FormItem",{attrs:{label:"fetchMode"}},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择"},on:{"on-change":function(e){return t.fetchModeChange()}},model:{value:t.rowsFilterConfig.fetchMode,callback:function(e){t.$set(t.rowsFilterConfig,"fetchMode",e)},expression:"rowsFilterConfig.fetchMode"}},t._l(t.fetchModeForChose,(function(o){return e("Option",{key:o.k,attrs:{value:o.v}},[t._v(t._s(o.k))])})),1)],1):t._e()],1)],1)],1),e("Col",{attrs:{span:"12"}},[e("Card",[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("相关表")])]),e("Table",{attrs:{stripe:"",columns:t.columnsForTableCheck,data:t.dataWithPage,border:""}}),e("div",{staticStyle:{"text-align":"center",margin:"16px 0"}},[e("Page",{attrs:{transfer:!0,total:t.tableData.length,current:t.current,"page-size-opts":t.pageSizeOpts,"page-size":this.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(e){t.current=e},"on-page-size-change":t.handleChangeSize}})],1)],1)],1)],1)],1)],1)},r=[],a=o("2909"),s=(o("a15b"),o("14d9"),o("fb6a"),{name:"rowsFilterConfigs",data:function(){var t=this;return{display:{rowsFilterConfigs:!0,rowsFilterModal:!1,showOnly:!1},drc:{srcMha:this.$route.query.srcMha,destMha:this.$route.query.destMha,srcDc:"",destDc:"",applierGroupId:0,srcMhaId:0},columns:[{title:"序号",width:75,align:"center",fixed:"left",render:function(t,e){return t("span",e.index+1)}},{title:"库名",key:"namespace"},{title:"表名",key:"name"},{title:"模式",key:"mode"},{title:"udl列（udl专用)",key:"udlColumns"},{title:"相关列/uid列",key:"columns"},{title:"内容",key:"context"},{title:"DRC UDL策略（udl专用)",key:"drcStrategyId"},{title:"默认同步（udl专用)",key:"illegalArgument"},{title:"校验模式（udl专用)",key:"fetchMode",width:100,render:function(t,e){var o=e.row,i="blue",r=0===o.fetchMode?"RPC":1===o.fetchMode?"BlackList":2===o.fetchMode?"WhiteList":"BlackListGlobal";return t("Tag",{props:{color:i}},r)}},{title:"操作",slot:"action",align:"center",width:200,fixed:"right"}],rowsFilterConfigsData:[],tableData:[],total:0,current:1,size:5,pageSizeOpts:[5,10,20,100],columnsForTableCheck:[{title:"序号",width:75,align:"center",render:function(e,o){return e("span",o.index+1+(t.current-1)*t.size)}},{title:"库名",key:"schema"},{title:"表名",key:"name"}],rowsFilterConfig:{mappingId:0,dataMediaId:0,namespace:"",name:"",dataMediaSourceId:0,dataMediaSourceName:"",rowsFilterId:0,mode:"trip_udl",drcStrategyId:0,routeStrategyId:0,udlColumns:[],columns:[],context:"",illegalArgument:!1,fetchMode:0},configInTripUid:{regionsChosen:[]},modesForChose:["aviator_regex","java_regex","trip_udl","custom"],columnsForChose:[],regionsForChose:["SGP","SIN","SH","FRA"],drcStrategyIdsForChose:[2000000002,20001],fetchModeForChose:[{k:"RPC调用",v:0},{k:"BlackList",v:1},{k:"WhiteList",v:2},{k:"BlackListGlobal",v:3}],columnForAdd:"",forceCommit:!1,conflictTables:[]}},computed:{dataWithPage:function(){var t=this.tableData,e=this.current*this.size-this.size,o=e+this.size;return Object(a["a"])(t).slice(e,o)}},methods:{getOrInitSimplexDrc:function(){var t=this;console.log(this.drc.srcMha+"/"+this.drc.destMha),this.axios.post("/api/drc/v1/build/simplexDrc?srcMha="+this.drc.srcMha+"&destMha="+this.drc.destMha).then((function(e){if(1===e.data.status)window.alert("获取或创建该方向同步失败!");else{var o=e.data.data;t.drc.srcDc=o.srcDc,t.drc.destDc=o.destDc,t.drc.applierGroupId=o.destApplierGroupId,t.drc.srcMhaId=o.srcMhaId,t.getRowsFilterConfigs()}}))},getRowsFilterConfigs:function(){var t=this;console.log(this.drc.applierGroupId),this.axios.get("/api/drc/v1/build/rowsFilterMappings/"+this.drc.applierGroupId).then((function(e){1===e.data.status?window.alert("查询行过滤配置失败!"):t.rowsFilterConfigsData=e.data.data}))},goToShowConfig:function(t,e){this.rowsFilterConfigInitFormRow(t,e),this.showMatchTables(),this.columnsForChose=t.columns,this.display.rowsFilterModal=!0,this.display.showOnly=!0},goToUpdateConfig:function(t,e){this.rowsFilterConfigInitFormRow(t,e),this.columnsForChose=t.columns,this.forceCommit=!1,this.display.showOnly=!1,this.display.rowsFilterModal=!0},deleteConfig:function(t,e){var o=this;this.axios.delete("/api/drc/v1/build/rowsFilterConfig/"+t.id).then((function(t){console.log(t.data),console.log(t.data.data),0===t.data.status?(alert("删除成功！"),o.getRowsFilterConfigs()):alert("操作失败！")}))},goToAddRowsFilter:function(){this.rowsFilterConfigInit(),this.columnsForChose=[],this.checkTable(),this.forceCommit=!1,this.display.showOnly=!1,this.display.rowsFilterModal=!0},rowsFilterConfigInitFormRow:function(t,e){"trip_udl"===t.mode?this.configInTripUid={regionsChosen:t.context.split(",")}:this.configInTripUid={regionsChosen:[]},this.rowsFilterConfig={mappingId:t.id,dataMediaId:t.dataMediaId,namespace:t.namespace,name:t.name,dataMediaSourceId:t.dataMediaSourceId,dataMediaSourceName:this.drc.srcMha,rowsFilterId:t.rowsFilterId,mode:t.mode,columns:t.columns,context:t.context,udlColumns:t.udlColumns,drcStrategyId:t.drcStrategyId,routeStrategyId:t.routeStrategyId,illegalArgument:t.illegalArgument,fetchMode:t.fetchMode},this.tableData=[]},rowsFilterConfigInit:function(){this.configInTripUid={regionsChosen:[]},this.rowsFilterConfig={mappingId:0,dataMediaId:0,namespace:".*",name:".*",dataMediaSourceId:0,dataMediaSourceName:this.drc.srcMha,rowsFilterId:0,mode:"trip_udl",columns:[],context:"",udlColumns:[],drcStrategyId:0,routeStrategyId:0,illegalArgument:!1,fetchMode:0},this.tableData=[]},submitConfig:function(){var t=this;if(console.log("before:"),console.log(this.rowsFilterConfig),"trip_udl"===this.rowsFilterConfig.mode){if(0===this.columns.length&&0===this.udlColumns.length)return void alert("uid 与 uld字段不能同时为空！");if(1===this.rowsFilterConfig.fetchMode||2===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.context="//filter by config":this.rowsFilterConfig.context=this.configInTripUid.regionsChosen.join(","),0===this.rowsFilterConfig.fetchMode&&(""===this.rowsFilterConfig.context||void 0===this.rowsFilterConfig.context||"//filter by config"===this.rowsFilterConfig.context))return void alert("context 不能为空！")}if(console.log("after:"),console.log(this.rowsFilterConfig),this.display.showOnly)window.alert("查看状态，禁止提交！");else if(""===this.rowsFilterConfig.namespace||void 0===this.rowsFilterConfig.namespace||""===this.rowsFilterConfig.name||void 0===this.rowsFilterConfig.name)alert("缺少表配置 禁止提交！");else if(""===this.rowsFilterConfig.mode||void 0===this.rowsFilterConfig.mode||0===this.rowsFilterConfig.columns.length&&0===this.rowsFilterConfig.udlColumns.length)alert("缺少行过滤配置 禁止提交");else if(0!==this.conflictTables.length)alert("存在匹配表已经了行过滤，禁止提交");else if(0!==this.tableData.length||this.forceCommit){var e={id:0===this.rowsFilterConfig.mappingId?null:this.rowsFilterConfig.mappingId,applierGroupId:this.drc.applierGroupId,dataMediaId:0===this.rowsFilterConfig.dataMediaId?null:this.rowsFilterConfig.dataMediaId,namespace:""===this.rowsFilterConfig.namespace?null:this.rowsFilterConfig.namespace,name:""===this.rowsFilterConfig.name?null:this.rowsFilterConfig.name,type:0,dataMediaSourceId:this.drc.srcMhaId,dataMediaSourceName:this.drc.srcMha,rowsFilterId:0===this.rowsFilterConfig.rowsFilterId?null:this.rowsFilterConfig.rowsFilterId,mode:this.rowsFilterConfig.mode,columns:0===this.rowsFilterConfig.columns.length?null:this.rowsFilterConfig.columns,udlColumns:0===this.rowsFilterConfig.udlColumns.length?null:this.rowsFilterConfig.udlColumns,drcStrategyId:this.rowsFilterConfig.drcStrategyId,routeStrategyId:this.rowsFilterConfig.routeStrategyId,illegalArgument:this.rowsFilterConfig.illegalArgument,fetchMode:this.rowsFilterConfig.fetchMode,context:""===this.rowsFilterConfig.context?null:this.rowsFilterConfig.context};console.log("dto:"),console.log(e),this.axios.post("/api/drc/v1/build/rowsFilterConfig",e).then((function(e){1===e.data.status?window.alert("提交失败!"+e.data.data):(window.alert("提交成功!"+e.data.data),t.display.rowsFilterModal=!1,t.getRowsFilterConfigs())}))}else this.forceCommit=!0,alert("无匹配表 下一次提交将强制执行！！")},cancelSubmit:function(){this.display.rowsFilterModal=!1},showMatchTables:function(){var t=this;console.log("/api/drc/v1/build/dataMedia/check?namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&mhaName="+this.drc.srcMha+"&type=0"),this.axios.get("/api/drc/v1/build/dataMedia/check?namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&mhaName="+this.drc.srcMha+"&type=0").then((function(e){1===e.data.status?window.alert("查询匹配表失败"+e.data.data):(console.log(e.data.data),t.tableData=e.data.data,0===t.tableData.length&&window.alert("无匹配表 或 查询匹配表失败"))}))},conflictCheck:function(){var t=this;console.log("/api/drc/v1/build/dataMedia/conflictCheck?applierGroupId="+this.drc.applierGroupId+"&dataMediaId="+this.rowsFilterConfig.dataMediaId+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&applierType=0"),this.axios.get("/api/drc/v1/build/dataMedia/conflictCheck?applierGroupId="+this.drc.applierGroupId+"&dataMediaId="+this.rowsFilterConfig.dataMediaId+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&applierType=0").then((function(e){1===e.data.status?window.alert("表匹配冲突校验失败，请勿配置重复表！！"):(console.log(e.data.data),t.conflictTables=e.data.data,0!==t.conflictTables.length&&window.alert("存在表已经配置行过滤规则,如下:"+t.conflictTables))}))},getCommonColumns:function(){var t=this;console.log("/api/drc/v1/build/rowsFilter/commonColumns?&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name),this.axios.get("/api/drc/v1/build/rowsFilter/commonColumns?&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name).then((function(e){1===e.data.status?(alert("查询公共列名失败，请手动添加！"+e.data.data),t.columnsForChose=[]):(console.log(e.data.data),t.columnsForChose=e.data.data,0===t.columnsForChose.length&&alert("查询无公共字段！"))}))},checkTable:function(){""!==this.rowsFilterConfig.namespace&&""!==this.rowsFilterConfig.name?(console.log("showMatchTables"),this.showMatchTables(),console.log("conflictCheck"),this.conflictCheck(),console.log("getCommonColumns"),this.getCommonColumns()):window.alert("库名表名不能为空！")},handleChangeSize:function(t){this.size=t},handleCreateDrcStrategyId:function(t){null==t||this.contains(this.drcStrategyIdForChose,t)?alert("已有项禁止创建"):this.drcStrategyIdForChose.push(t)},handleCreateUDLColumn:function(t){var e=this;"无UDL"===t||this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(o){if(1===o.data.status)alert("查询字段:"+t+"失败！"+o.data.data),e.columnsForChose.push(t);else{var i=o.data.data;0!==i.length&&alert("以下表无字段"+t+"如下:"+i),e.columnsForChose.push(t)}}))):alert("字段不能为空")},handleCreateUIDColumn:function(t){var e=this;"无UID"===t||this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(o){if(1===o.data.status)alert("查询字段:"+t+"失败！"+o.data.data),e.columnsForChose.push(t);else{var i=o.data.data;0!==i.length&&alert("以下表无字段"+t+"如下:"+i),e.columnsForChose.push(t)}}))):alert("字段不能为空")},handleCreateColumn:function(t){var e=this;this.contains(this.columnsForChose,t)?alert("已有项禁止创建"):""!==t&&void 0!==t&&null!==t?(console.log("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t),this.axios.get("/api/drc/v1/build/dataMedia/columnCheck?srcDc="+this.drc.srcDc+"&mhaName="+this.drc.srcMha+"&namespace="+this.rowsFilterConfig.namespace+"&name="+this.rowsFilterConfig.name+"&column="+t).then((function(o){if(1===o.data.status)alert("查询字段:"+t+"失败！"+o.data.data),e.columnsForChose.push(t);else{var i=o.data.data;0!==i.length&&alert("以下表无字段"+t+"如下:"+i),e.columnsForChose.push(t)}}))):alert("字段不能为空")},contains:function(t,e){var o=t.length;while(o--)if(t[o]===e)return!0;return!1},fetchModeChange:function(){1===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.illegalArgument=!0:this.rowsFilterConfig.illegalArgument=!1}},created:function(){console.log(this.$route.query.srcMha),console.log(this.$route.query.destMha),this.drc.srcMha=this.$route.query.srcMha,this.drc.destMha=this.$route.query.destMha,this.getOrInitSimplexDrc()}}),n=s,l=o("2877"),c=Object(l["a"])(n,i,r,!1,null,"41b65ccc",null);e["default"]=c.exports},"6b75":function(t,e,o){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=Array(e);o<e;o++)i[o]=t[o];return i}o.d(e,"a",(function(){return i}))},"90d8":function(t,e,o){"use strict";var i=o("c65b"),r=o("1a2d"),a=o("3a9b"),s=o("ad6d"),n=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in n||r(t,"flags")||!a(n,t)?e:i(s,t)}},9263:function(t,e,o){"use strict";var i=o("c65b"),r=o("e330"),a=o("577e"),s=o("ad6d"),n=o("9f7f"),l=o("5692"),c=o("7c73"),d=o("69f3").get,u=o("fce3"),h=o("107c"),f=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,p=r("".charAt),C=r("".indexOf),w=r("".replace),F=r("".slice),v=function(){var t=/a/,e=/b*/g;return i(g,t,"a"),i(g,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),b=n.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],x=v||y||b||u||h;x&&(m=function(t){var e,o,r,n,l,u,h,x=this,I=d(x),M=a(t),S=I.raw;if(S)return S.lastIndex=x.lastIndex,e=i(m,S,M),x.lastIndex=S.lastIndex,e;var k=I.groups,_=b&&x.sticky,D=i(s,x),T=x.source,R=0,A=M;if(_&&(D=w(D,"y",""),-1===C(D,"g")&&(D+="g"),A=F(M,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==p(M,x.lastIndex-1))&&(T="(?: "+T+")",A=" "+A,R++),o=new RegExp("^(?:"+T+")",D)),y&&(o=new RegExp("^"+T+"$(?!\\s)",D)),v&&(r=x.lastIndex),n=i(g,_?o:x,A),_?n?(n.input=F(n.input,R),n[0]=F(n[0],R),n.index=x.lastIndex,x.lastIndex+=n[0].length):x.lastIndex=0:v&&n&&(x.lastIndex=x.global?n.index+n[0].length:r),y&&n&&n.length>1&&i(f,n[0],o,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(n[l]=void 0)})),n&&k)for(n.groups=u=c(null),l=0;l<k.length;l++)h=k[l],u[h[0]]=n[h[1]];return n}),t.exports=m},"9bdd":function(t,e,o){"use strict";var i=o("825a"),r=o("2a62");t.exports=function(t,e,o,a){try{return a?e(i(o)[0],o[1]):e(o)}catch(s){r(t,"throw",s)}}},"9f7f":function(t,e,o){"use strict";var i=o("d039"),r=o("cfe9"),a=r.RegExp,s=i((function(){var t=a("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),n=s||i((function(){return!a("a","y").sticky})),l=s||i((function(){var t=a("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:n,UNSUPPORTED_Y:s}},a15b:function(t,e,o){"use strict";var i=o("23e7"),r=o("e330"),a=o("44ad"),s=o("fc6a"),n=o("a640"),l=r([].join),c=a!==Object,d=c||!n("join",",");i({target:"Array",proto:!0,forced:d},{join:function(t){return l(s(this),void 0===t?",":t)}})},a630:function(t,e,o){"use strict";var i=o("23e7"),r=o("4df4"),a=o("1c7e"),s=!a((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:s},{from:r})},a640:function(t,e,o){"use strict";var i=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&i((function(){o.call(null,e||function(){return 1},1)}))}},ac1f:function(t,e,o){"use strict";var i=o("23e7"),r=o("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,o){"use strict";var i=o("825a");t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},fce3:function(t,e,o){"use strict";var i=o("d039"),r=o("cfe9"),a=r.RegExp;t.exports=i((function(){var t=a(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-eb9c5214.8c7833af.js.map