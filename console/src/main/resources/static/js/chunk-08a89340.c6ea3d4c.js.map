{"version":3,"sources":["webpack:///./src/views/v2/meta/buildStep/drcBuildV2.vue","webpack:///src/views/v2/meta/buildStep/drcBuildV2.vue","webpack:///./src/views/v2/meta/buildStep/drcBuildV2.vue?7575","webpack:///./src/views/v2/meta/buildStep/drcBuildV2.vue?393b","webpack:///./src/views/v2/meta/buildStep/drcBuildV2.vue?a606"],"names":["render","_vm","this","_c","_self","hasResp","staticStyle","attrs","status","_v","_s","title","domProps","message","slot","_e","ref","srcBuildParam","ruleDrc","on","changeSrcMha","model","value","mhaName","callback","$$v","$set","expression","replicatorIps","_l","replicatorList","src","item","key","ip","az","autoConfigSrcReplicator","showMhaApplierConfig","applierIps","applierList","autoConfigSrcApplier","replicatorInitGtid","querySrcMhaMachineGtid","hasTest1","testSuccess1","querySrcMhaGtidCheckRes","applierInitGtid","getSrcDbReplications","showDbMhaApplierConfig","getSrcDbApplierReplications","dstBuildParam","changeDstMha","dst","autoConfigDstReplicator","autoConfigDstApplier","queryDstMhaMachineGtid","hasTest2","testSuccess2","queryDstMhaGtidCheckRes","getDstDbReplications","getDstDbApplierReplications","$event","preCheckConfigure","submitConfig","reviewModal","minRows","maxRows","resultModal","result","gtidCheck","modal","resVo","legal","mha","configGtid","purgedGtid","staticRenderFns","name","props","srcMhaName","String","dstMhaName","srcDc","dstDc","env","data","srcBuildData","dbApplierDtos","dbApplierSwitch","dstBuildData","oldClusterName","required","trigger","newClusterName","replicator","applier","computed","dataWithPage","nameFilterCheck","tableData","start","current","size","end","_toConsumableArray","slice","methods","flattenObj","ob","i","_typeof","Array","isArray","temp","j","_this","axios","get","then","response","console","log","forEach","push","_this2","_this3","_this4","getSrcMhaResources","_this5","getDstMhaResources","_this6","getSrcMhaReplicatorsInUse","_this7","getDstMhaReplicatorsInUse","_this8","getSrcMhaAppliersInUse","_this9","getDstMhaAppliersInUse","_this10","getMhaDbAppliersInUse","_this11","_this12","that","_this13","alert","_this14","_this15","getSrcDc","_this16","getDstDc","_this17","$emit","$Loading","finish","error","changeModal","_this18","$refs","validate","valid","drc","$Message","reviewConfigure","_this19","post","refresh","$router","path","query","order","handleChangeSize","val","hasAppliers","_step","_iterator","_createForOfIteratorHelper","s","n","done","x","ips","length","err","e","f","isSrc","created","component"],"mappings":"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","file":"js/chunk-08a89340.c6ea3d4c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.hasResp)?_c('Alert',{staticStyle:{\"width\":\"65%\",\"margin-left\":\"250px\"},attrs:{\"type\":_vm.status,\"show-icon\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',{attrs:{\"slot\":\"desc\"},domProps:{\"innerHTML\":_vm._s(_vm.message)},slot:\"desc\"})]):_vm._e(),_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"drc1\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.srcBuildParam,\"rules\":_vm.ruleDrc,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"源集群名\",\"prop\":\"srcMhaName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入源集群名\"},on:{\"input\":_vm.changeSrcMha},model:{value:(_vm.srcBuildParam.mhaName),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"mhaName\", $$v)},expression:\"srcBuildParam.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择Replicator\",\"prop\":\"replicator\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择源集群Replicator\"},model:{value:(_vm.srcBuildParam.replicatorIps),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"replicatorIps\", $$v)},expression:\"srcBuildParam.replicatorIps\"}},_vm._l((_vm.replicatorList.src),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigSrcReplicator}},[_vm._v(\"自动录入\")])],1),(_vm.showMhaApplierConfig(true))?_c('FormItem',{attrs:{\"label\":\"选择Applier\",\"prop\":\"applier\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择源集群Applier\"},model:{value:(_vm.srcBuildParam.applierIps),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"applierIps\", $$v)},expression:\"srcBuildParam.applierIps\"}},_vm._l((_vm.applierList.src),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigSrcApplier}},[_vm._v(\"自动录入\")])],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始拉取位点R\"}},[_c('Input',{attrs:{\"placeholder\":\"变更replicator机器时,请输入binlog拉取位点\"},model:{value:(_vm.srcBuildParam.replicatorInitGtid),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"replicatorInitGtid\", $$v)},expression:\"srcBuildParam.replicatorInitGtid\"}}),_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{on:{\"click\":_vm.querySrcMhaMachineGtid}},[_vm._v(\"查询mha位点\")]),(_vm.hasTest1)?_c('span',[_c('Icon',{attrs:{\"type\":_vm.testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle',\"color\":_vm.testSuccess1 ? 'green' : 'red'}}),_vm._v(\" \"+_vm._s(_vm.testSuccess1 ? '查询实时位点成功' : '连接查询失败')+\" \")],1):_vm._e()],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.querySrcMhaGtidCheckRes}},[_vm._v(\"位点校验\")])],1)],1)],1),(_vm.showMhaApplierConfig(true))?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始同步位点A\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入DRC同步起始位点\"},model:{value:(_vm.srcBuildParam.applierInitGtid),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"applierInitGtid\", $$v)},expression:\"srcBuildParam.applierInitGtid\"}})],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"同步配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getSrcDbReplications}},[_vm._v(\"同步表管理\")])],1),(_vm.showDbMhaApplierConfig(true))?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"DB Applier 配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getSrcDbApplierReplications}},[_vm._v(\"Db Applier 管理\")])],1):_vm._e()],1)],1),_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"drc1\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.dstBuildParam,\"rules\":_vm.ruleDrc,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"目标集群名\",\"prop\":\"dstMhaName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入目标集群名\"},on:{\"input\":_vm.changeDstMha},model:{value:(_vm.dstBuildParam.mhaName),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"mhaName\", $$v)},expression:\"dstBuildParam.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择Replicator\",\"prop\":\"replicator\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择目标集群Replicator\"},model:{value:(_vm.dstBuildParam.replicatorIps),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"replicatorIps\", $$v)},expression:\"dstBuildParam.replicatorIps\"}},_vm._l((_vm.replicatorList.dst),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigDstReplicator}},[_vm._v(\"自动录入\")])],1),(_vm.showMhaApplierConfig(false))?_c('FormItem',{attrs:{\"label\":\"选择Applier\",\"prop\":\"applier\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择目标集群Applier\"},model:{value:(_vm.dstBuildParam.applierIps),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"applierIps\", $$v)},expression:\"dstBuildParam.applierIps\"}},_vm._l((_vm.applierList.dst),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" —— \"+_vm._s(item.az)+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigDstApplier}},[_vm._v(\"自动录入\")])],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始拉取位点R\"}},[_c('Input',{attrs:{\"placeholder\":\"变更replicator机器时,请输入binlog拉取位点\"},model:{value:(_vm.dstBuildParam.replicatorInitGtid),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"replicatorInitGtid\", $$v)},expression:\"dstBuildParam.replicatorInitGtid\"}}),_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{on:{\"click\":_vm.queryDstMhaMachineGtid}},[_vm._v(\"查询mha位点\")]),(_vm.hasTest2)?_c('span',[_c('Icon',{attrs:{\"type\":_vm.testSuccess2 ? 'ios-checkmark-circle' : 'ios-close-circle',\"color\":_vm.testSuccess2 ? 'green' : 'red'}}),_vm._v(\" \"+_vm._s(_vm.testSuccess2 ? '查询实时位点成功' : '连接查询失败')+\" \")],1):_vm._e()],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.queryDstMhaGtidCheckRes}},[_vm._v(\"位点校验\")])],1)],1)],1),(_vm.showMhaApplierConfig(false))?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始同步位点A\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入DRC同步起始位点\"},model:{value:(_vm.dstBuildParam.applierInitGtid),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"applierInitGtid\", $$v)},expression:\"dstBuildParam.applierInitGtid\"}})],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"同步配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getDstDbReplications}},[_vm._v(\"同步表管理\")])],1),(_vm.showDbMhaApplierConfig(false))?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"DB Applier 配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getDstDbApplierReplications}},[_vm._v(\"Db Applier 管理\")])],1):_vm._e()],1)],1)],1),_c('Form',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"label-width\":250}},[_c('FormItem',[_c('br'),_c('Button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.preCheckConfigure ()}}},[_vm._v(\"提交\")])],1),_c('Modal',{attrs:{\"title\":\"确认配置信息\",\"width\":\"900px\"},on:{\"on-ok\":_vm.submitConfig},model:{value:(_vm.reviewModal),callback:function ($$v) {_vm.reviewModal=$$v},expression:\"reviewModal\"}},[_c('Row',{attrs:{\"gutter\":5}},[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"源集群名\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.srcBuildParam.mhaName),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"mhaName\", $$v)},expression:\"srcBuildParam.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"源集群端Replicator\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.srcBuildParam.replicatorIps),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"replicatorIps\", $$v)},expression:\"srcBuildParam.replicatorIps\"}})],1),_c('FormItem',{attrs:{\"label\":\"源集群端Applier\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.srcBuildParam.applierIps),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"applierIps\", $$v)},expression:\"srcBuildParam.applierIps\"}})],1),_c('FormItem',{attrs:{\"label\":\"源集群端R位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.srcBuildParam.replicatorInitGtid),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"replicatorInitGtid\", $$v)},expression:\"srcBuildParam.replicatorInitGtid\"}})],1),_c('FormItem',{attrs:{\"label\":\"源集群端A位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.srcBuildParam.applierInitGtid),callback:function ($$v) {_vm.$set(_vm.srcBuildParam, \"applierInitGtid\", $$v)},expression:\"srcBuildParam.applierInitGtid\"}})],1)],1)],1),_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"目标集群名\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.dstBuildParam.mhaName),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"mhaName\", $$v)},expression:\"dstBuildParam.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"目标集群端Replicator\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.dstBuildParam.replicatorIps),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"replicatorIps\", $$v)},expression:\"dstBuildParam.replicatorIps\"}})],1),_c('FormItem',{attrs:{\"label\":\"目标集群端Applier\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.dstBuildParam.applierIps),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"applierIps\", $$v)},expression:\"dstBuildParam.applierIps\"}})],1),_c('FormItem',{attrs:{\"label\":\"目标集群端R位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.dstBuildParam.replicatorInitGtid),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"replicatorInitGtid\", $$v)},expression:\"dstBuildParam.replicatorInitGtid\"}})],1),_c('FormItem',{attrs:{\"label\":\"目标集群端A位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.dstBuildParam.applierInitGtid),callback:function ($$v) {_vm.$set(_vm.dstBuildParam, \"applierInitGtid\", $$v)},expression:\"dstBuildParam.applierInitGtid\"}})],1)],1)],1)],1)],1),_c('Modal',{attrs:{\"title\":\"配置结果\",\"width\":\"1200px\"},model:{value:(_vm.resultModal),callback:function ($$v) {_vm.resultModal=$$v},expression:\"resultModal\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"集群配置\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"gitd位点校验结果\",\"width\":\"900px\"},model:{value:(_vm.gtidCheck.modal),callback:function ($$v) {_vm.$set(_vm.gtidCheck, \"modal\", $$v)},expression:\"gtidCheck.modal\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"校验结果\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.legal),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"legal\", $$v)},expression:\"gtidCheck.resVo.legal\"}})],1),_c('FormItem',{attrs:{\"label\":\"当前Mha\"}},[_c('Input',{attrs:{\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.mha),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"mha\", $$v)},expression:\"gtidCheck.resVo.mha\"}})],1),_c('FormItem',{attrs:{\"label\":\"配置位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.configGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"configGtid\", $$v)},expression:\"gtidCheck.resVo.configGtid\"}})],1),_c('FormItem',{attrs:{\"label\":\"purgedGtid\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.purgedGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"purgedGtid\", $$v)},expression:\"gtidCheck.resVo.purgedGtid\"}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Alert :type=\"status\" show-icon v-if=\"hasResp\" style=\"width: 65%; margin-left: 250px\">\n      {{title}}\n      <span slot=\"desc\" v-html=\"message\"></span>\n    </Alert>\n    <Row>\n      <i-col span=\"12\">\n        <Form ref=\"drc1\" :model=\"srcBuildParam\" :rules=\"ruleDrc\" :label-width=\"250\"\n              style=\"float: left; margin-top: 50px\">\n          <FormItem label=\"源集群名\" prop=\"srcMhaName\" style=\"width: 600px\">\n            <Input v-model=\"srcBuildParam.mhaName\" @input=\"changeSrcMha\" placeholder=\"请输入源集群名\"/>\n          </FormItem>\n          <FormItem label=\"选择Replicator\" prop=\"replicator\">\n            <Select v-model=\"srcBuildParam.replicatorIps\" multiple style=\"width: 250px\" placeholder=\"选择源集群Replicator\">\n              <Option v-for=\"item in replicatorList.src\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az\n                }}\n              </Option>\n            </Select>\n            &nbsp;\n            <Button type=\"success\" @click=\"autoConfigSrcReplicator\">自动录入</Button>\n          </FormItem>\n          <FormItem v-if=\"showMhaApplierConfig(true)\" label=\"选择Applier\" prop=\"applier\">\n            <Select v-model=\"srcBuildParam.applierIps\" multiple style=\"width: 250px\" placeholder=\"选择源集群Applier\">\n              <Option v-for=\"item in applierList.src\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az }}\n              </Option>\n            </Select>\n            &nbsp;\n            <Button type=\"success\" @click=\"autoConfigSrcApplier\">自动录入</Button>\n          </FormItem>\n          <FormItem label=\"初始拉取位点R\" style=\"width: 600px\">\n            <Input v-model=\"srcBuildParam.replicatorInitGtid\" placeholder=\"变更replicator机器时,请输入binlog拉取位点\"/>\n            <Row>\n              <Col span=\"12\">\n                <Button @click=\"querySrcMhaMachineGtid\">查询mha位点</Button>\n                <span v-if=\"hasTest1\">\n                  <Icon :type=\"testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle'\"\n                        :color=\"testSuccess1 ? 'green' : 'red'\"/>\n                    {{ testSuccess1 ? '查询实时位点成功' : '连接查询失败' }}\n                </span>\n              </Col>\n              <Col span=\"12\">\n                <Button type=\"success\" @click=\"querySrcMhaGtidCheckRes\">位点校验</Button>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem v-if=\"showMhaApplierConfig(true)\" label=\"初始同步位点A\" style=\"width: 600px\">\n            <Input v-model=\"srcBuildParam.applierInitGtid\" placeholder=\"请输入DRC同步起始位点\"/>\n          </FormItem>\n          <FormItem label=\"同步配置\" style=\"width: 600px\">\n            <Button type=\"primary\" ghost @click=\"getSrcDbReplications\">同步表管理</Button>\n          </FormItem>\n          <FormItem v-if=\"showDbMhaApplierConfig(true)\" label=\"DB Applier 配置\"  style=\"width: 600px\">\n            <Button type=\"primary\" ghost @click=\"getSrcDbApplierReplications\">Db Applier 管理</Button>\n          </FormItem>\n        </Form>\n      </i-col>\n      <i-col span=\"12\">\n        <Form ref=\"drc1\" :model=\"dstBuildParam\" :rules=\"ruleDrc\" :label-width=\"250\"\n              style=\"float: left; margin-top: 50px\">\n          <FormItem label=\"目标集群名\" prop=\"dstMhaName\" style=\"width: 600px\">\n            <Input v-model=\"dstBuildParam.mhaName\" @input=\"changeDstMha\" placeholder=\"请输入目标集群名\"/>\n          </FormItem>\n          <FormItem label=\"选择Replicator\" prop=\"replicator\">\n            <Select v-model=\"dstBuildParam.replicatorIps\" multiple style=\"width: 250px\" placeholder=\"选择目标集群Replicator\">\n              <Option v-for=\"item in replicatorList.dst\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az\n                }}\n              </Option>\n            </Select>\n            &nbsp;\n            <Button type=\"success\" @click=\"autoConfigDstReplicator\">自动录入</Button>\n          </FormItem>\n          <FormItem v-if=\"showMhaApplierConfig(false)\" label=\"选择Applier\" prop=\"applier\">\n            <Select v-model=\"dstBuildParam.applierIps\" multiple style=\"width: 250px\" placeholder=\"选择目标集群Applier\">\n              <Option v-for=\"item in applierList.dst\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} —— {{ item.az }}\n              </Option>\n            </Select>\n            &nbsp;\n            <Button type=\"success\" @click=\"autoConfigDstApplier\">自动录入</Button>\n          </FormItem>\n          <FormItem label=\"初始拉取位点R\" style=\"width: 600px\">\n            <Input v-model=\"dstBuildParam.replicatorInitGtid\" placeholder=\"变更replicator机器时,请输入binlog拉取位点\"/>\n            <Row>\n              <Col span=\"12\">\n                <Button @click=\"queryDstMhaMachineGtid\">查询mha位点</Button>\n                <span v-if=\"hasTest2\">\n                  <Icon :type=\"testSuccess2 ? 'ios-checkmark-circle' : 'ios-close-circle'\"\n                        :color=\"testSuccess2 ? 'green' : 'red'\"/>\n                    {{ testSuccess2 ? '查询实时位点成功' : '连接查询失败' }}\n                </span>\n              </Col>\n              <Col span=\"12\">\n                <Button type=\"success\" @click=\"queryDstMhaGtidCheckRes\">位点校验</Button>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem v-if=\"showMhaApplierConfig(false)\" label=\"初始同步位点A\" style=\"width: 600px\">\n            <Input v-model=\"dstBuildParam.applierInitGtid\" placeholder=\"请输入DRC同步起始位点\"/>\n          </FormItem>\n          <FormItem label=\"同步配置\" style=\"width: 600px\">\n            <Button type=\"primary\" ghost @click=\"getDstDbReplications\">同步表管理</Button>\n          </FormItem>\n          <FormItem v-if=\"showDbMhaApplierConfig(false)\" label=\"DB Applier 配置\" style=\"width: 600px\">\n            <Button type=\"primary\" ghost @click=\"getDstDbApplierReplications\">Db Applier 管理</Button>\n          </FormItem>\n        </Form>\n      </i-col>\n    </Row>\n    <Form :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem>\n        <br>\n        <Button type=\"primary\" style=\"width: 100px\" @click=\"preCheckConfigure ()\">提交</Button>\n      </FormItem>\n      <Modal\n        v-model=\"reviewModal\"\n        title=\"确认配置信息\"\n        width=\"900px\"\n        @on-ok=\"submitConfig\">\n        <Row :gutter=\"5\">\n          <i-col span=\"12\">\n            <Form style=\"width: 80%\">\n              <FormItem label=\"源集群名\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"srcBuildParam.mhaName\" readonly/>\n              </FormItem>\n              <FormItem label=\"源集群端Replicator\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"srcBuildParam.replicatorIps\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"源集群端Applier\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"srcBuildParam.applierIps\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"源集群端R位点\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"srcBuildParam.replicatorInitGtid\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"源集群端A位点\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"srcBuildParam.applierInitGtid\"\n                       readonly/>\n              </FormItem>\n            </Form>\n          </i-col>\n          <i-col span=\"12\">\n            <Form style=\"width: 80%\">\n              <FormItem label=\"目标集群名\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"dstBuildParam.mhaName\" readonly/>\n              </FormItem>\n              <FormItem label=\"目标集群端Replicator\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"dstBuildParam.replicatorIps\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"目标集群端Applier\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"dstBuildParam.applierIps\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"目标集群端R位点\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"dstBuildParam.replicatorInitGtid\"\n                       readonly/>\n              </FormItem>\n              <FormItem label=\"目标集群端A位点\">\n                <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"dstBuildParam.applierInitGtid\"\n                       readonly/>\n              </FormItem>\n            </Form>\n          </i-col>\n        </Row>\n      </Modal>\n      <Modal\n        v-model=\"resultModal\"\n        title=\"配置结果\"\n        width=\"1200px\">\n        <Form style=\"width: 100%\">\n          <FormItem label=\"集群配置\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"result\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <Modal\n        v-model=\"gtidCheck.modal\"\n        title=\"gitd位点校验结果\"\n        width=\"900px\">\n        <Form style=\"width: 80%\">\n          <FormItem label=\"校验结果\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.legal\" readonly/>\n          </FormItem>\n          <FormItem label=\"当前Mha\">\n            <Input :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.mha\" readonly/>\n          </FormItem>\n          <FormItem label=\"配置位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.configGtid\" readonly/>\n          </FormItem>\n          <FormItem label=\"purgedGtid\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.purgedGtid\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'drcBuildV2',\n  props: {\n    srcMhaName: String,\n    dstMhaName: String,\n    srcDc: String,\n    dstDc: String,\n    env: String\n  },\n  data () {\n    return {\n      result: '',\n      status: '',\n      title: '',\n      message: '',\n      hasResp: false,\n      hasTest1: false,\n      testSuccess1: false,\n      hasTest2: false,\n      testSuccess2: false,\n      reviewModal: false,\n      resultModal: false,\n      replicatorList: {\n        src: [],\n        dst: []\n      },\n      applierList: {\n        src: [],\n        dst: []\n      },\n      srcBuildParam: {\n        mhaName: this.srcMhaName,\n        replicatorIps: [],\n        applierIps: [],\n        replicatorInitGtid: '',\n        applierInitGtid: ''\n      },\n      srcBuildData: {\n        dbApplierDtos: [],\n        dbApplierSwitch: false\n      },\n      dstBuildParam: {\n        mhaName: this.dstMhaName,\n        replicatorIps: [],\n        applierIps: [],\n        replicatorInitGtid: '',\n        applierInitGtid: ''\n      },\n      dstBuildData: {\n        dbApplierDtos: [],\n        dbApplierSwitch: false\n      },\n      gtidCheck: {\n        modal: false,\n        resVo: {\n          mha: '',\n          legal: '',\n          configGtid: '',\n          purgedGtid: ''\n        }\n      },\n      ruleDrc: {\n        oldClusterName: [\n          { required: true, message: '源集群名不能为空', trigger: 'blur' }\n        ],\n        newClusterName: [\n          { required: true, message: '新集群名不能为空', trigger: 'blur' }\n        ],\n        env: [\n          { required: true, message: '环境不能为空', trigger: 'blur' }\n        ],\n        replicator: [\n          { required: true, message: 'replicator不能为空', trigger: 'blur' }\n        ],\n        applier: [\n          { required: true, message: 'applier不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    dataWithPage () {\n      const data = this.nameFilterCheck.tableData\n      const start = this.nameFilterCheck.current * this.nameFilterCheck.size - this.nameFilterCheck.size\n      const end = start + this.nameFilterCheck.size\n      return [...data].slice(start, end)\n    }\n  },\n  methods: {\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    autoConfigSrcReplicator () {\n      // const param = {\n      //   mhaName: this.srcBuildParam.mhaName,\n      //   type: 0,\n      //   selectIps: this.srcBuildParam.replicatorIps\n      // }\n      // const reqParam = this.flattenObj(param)\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.srcBuildParam.mhaName + '&type=0' + '&selectedIps=' + this.srcBuildParam.replicatorIps).then(response => {\n        console.log(response.data)\n        this.srcBuildParam.replicatorIps = []\n        response.data.data.forEach(ip => this.srcBuildParam.replicatorIps.push(ip.ip))\n      })\n    },\n    autoConfigSrcApplier () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.srcBuildParam.mhaName + '&type=1' + '&selectedIps=' + this.srcBuildParam.applierIps)\n        .then(response => {\n          console.log(response.data)\n          this.srcBuildParam.applierIps = []\n          response.data.data.forEach(ip => this.srcBuildParam.applierIps.push(ip.ip))\n        })\n    },\n    autoConfigDstReplicator () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.dstBuildParam.mhaName + '&type=0' + '&selectedIps=' + this.dstBuildParam.replicatorIps)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildParam.replicatorIps = []\n          response.data.data.forEach(ip => this.dstBuildParam.replicatorIps.push(ip.ip))\n        })\n    },\n    autoConfigDstApplier () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.dstBuildParam.mhaName + '&type=1' + '&selectedIps=' + this.dstBuildParam.applierIps)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildParam.applierIps = []\n          response.data.data.forEach(ip => this.dstBuildParam.applierIps.push(ip.ip))\n        })\n    },\n    getSrcMhaResources () {\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.srcBuildParam.mhaName + '&type=0')\n        .then(response => {\n          console.log(response.data)\n          this.replicatorList.src = response.data.data\n        })\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.srcBuildParam.mhaName + '&type=1')\n        .then(response => {\n          console.log(response.data)\n          this.applierList.src = response.data.data\n        })\n    },\n    getDstMhaResources () {\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.dstBuildParam.mhaName + '&type=0')\n        .then(response => {\n          console.log(response.data)\n          this.replicatorList.dst = response.data.data\n        })\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.dstBuildParam.mhaName + '&type=1')\n        .then(response => {\n          console.log(response.data)\n          this.applierList.dst = response.data.data\n          // response.data.data.forEach(ip => this.applierList.src.push(ip))\n        })\n    },\n    getSrcMhaReplicatorsInUse () {\n      this.axios.get('/api/drc/v2/mha/replicator?mhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          this.srcBuildParam.replicatorIps = response.data.data\n        })\n    },\n    getDstMhaReplicatorsInUse () {\n      this.axios.get('/api/drc/v2/mha/replicator?mhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildParam.replicatorIps = response.data.data\n        })\n    },\n    getSrcMhaAppliersInUse () {\n      this.axios.get('/api/drc/v2/config/mha/applier?srcMhaName=' + this.dstBuildParam.mhaName + '&dstMhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.srcBuildParam.applierIps = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/applierGtid?srcMhaName=' + this.dstBuildParam.mhaName + '&dstMhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.srcBuildParam.applierInitGtid = response.data.data\n        })\n    },\n    getDstMhaAppliersInUse () {\n      this.axios.get('/api/drc/v2/config/mha/applier?srcMhaName=' + this.srcBuildParam.mhaName + '&dstMhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          this.dstBuildParam.applierIps = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/applierGtid?srcMhaName=' + this.srcBuildParam.mhaName + '&dstMhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildParam.applierInitGtid = response.data.data\n        })\n    },\n    getMhaDbAppliersInUse () {\n      this.axios.get('/api/drc/v2/config/mha/dbApplier?srcMhaName=' + this.dstBuildParam.mhaName + '&dstMhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.srcBuildData.dbApplierDtos = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/dbApplier?srcMhaName=' + this.srcBuildParam.mhaName + '&dstMhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildData.dbApplierDtos = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/dbApplier/switch?mhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.srcBuildData.dbApplierSwitch = response.data.data\n        })\n      this.axios.get('/api/drc/v2/config/mha/dbApplier/switch?mhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          console.log(response.data)\n          this.dstBuildData.dbApplierSwitch = response.data.data\n        })\n    },\n    querySrcMhaMachineGtid () {\n      const that = this\n      that.axios.get('/api/drc/v2/mha/gtid/executed?mha=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          this.hasTest1 = true\n          if (response.data.status === 0) {\n            this.srcBuildParam.replicatorInitGtid = response.data.data\n            this.testSuccess1 = true\n          } else {\n            this.testSuccess1 = false\n          }\n        })\n    },\n    querySrcMhaGtidCheckRes () {\n      if (this.srcBuildParam.replicatorInitGtid == null || this.srcBuildParam.replicatorInitGtid === '') {\n        alert('位点为空！')\n        return\n      }\n      const that = this\n      that.axios.get('/api/drc/v2/mha/gtid/checkResult?mha=' + this.srcBuildParam.mhaName +\n        '&configGtid=' + this.srcBuildParam.replicatorInitGtid)\n        .then(response => {\n          if (response.data.status === 0) {\n            this.gtidCheck.resVo = {\n              mha: this.srcBuildParam.mhaName,\n              legal: response.data.data.legal === true ? '合理位点' : 'binlog已经被purge',\n              configGtid: this.srcBuildParam.replicatorInitGtid,\n              purgedGtid: response.data.data.purgedGtid\n            }\n            this.gtidCheck.modal = true\n          } else {\n            alert('位点校验失败!')\n          }\n        })\n    },\n    queryDstMhaMachineGtid () {\n      const that = this\n      that.axios.get('/api/drc/v2/mha/gtid/executed?mha=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          this.hasTest2 = true\n          if (response.data.status === 0) {\n            this.dstBuildParam.replicatorInitGtid = response.data.data\n            this.testSuccess2 = true\n          } else {\n            this.testSuccess2 = false\n          }\n        })\n    },\n    queryDstMhaGtidCheckRes () {\n      if (this.dstBuildParam.replicatorInitGtid == null || this.dstBuildParam.replicatorInitGtid === '') {\n        alert('位点为空！')\n        return\n      }\n      const that = this\n      that.axios.get('/api/drc/v2/mha/gtid/checkResult?mha=' + this.dstBuildParam.mhaName +\n        '&configGtid=' + this.dstBuildParam.replicatorInitGtid)\n        .then(response => {\n          if (response.data.status === 0) {\n            this.gtidCheck.resVo = {\n              mha: this.dstBuildParam.mhaName,\n              legal: response.data.data.legal === true ? '合理位点' : 'binlog已经被purge',\n              configGtid: this.dstBuildParam.replicatorInitGtid,\n              purgedGtid: response.data.data.purgedGtid\n            }\n            this.gtidCheck.modal = true\n          } else {\n            alert('位点校验失败!')\n          }\n        })\n    },\n    getSrcDc () {\n      this.axios.get('/api/drc/v2/mha/dc?mhaName=' + this.srcBuildParam.mhaName)\n        .then(response => {\n          this.srcDc = response.data.data\n        })\n    },\n    getDstDc () {\n      this.axios.get('/api/drc/v2/mha/dc?mhaName=' + this.dstBuildParam.mhaName)\n        .then(response => {\n          this.dstDc = response.data.data\n        })\n    },\n    changeSrcMha () {\n      this.$emit('srcMhaNameChanged', this.srcBuildParam.mhaName)\n      this.getSrcMhaResources()\n      this.getSrcMhaReplicatorsInUse()\n      this.getSrcMhaAppliersInUse()\n      this.getDstMhaAppliersInUse()\n      this.getMhaDbAppliersInUse()\n      this.getSrcDc()\n    },\n    changeDstMha () {\n      this.$emit('dstMhaNameChanged', this.dstBuildParam.mhaName)\n      this.getDstMhaResources()\n      this.getDstMhaReplicatorsInUse()\n      this.getDstMhaAppliersInUse()\n      this.getSrcMhaAppliersInUse()\n      this.getMhaDbAppliersInUse()\n      this.getDstDc()\n    },\n    start () {\n      this.$Loading.start()\n    },\n    finish () {\n      this.$Loading.finish()\n    },\n    error () {\n      this.$Loading.error()\n    },\n    changeModal (name) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          this.$Message.error('仍有必填项未填!')\n        } else {\n          this.drc.reviewModal = true\n        }\n      })\n    },\n    preCheckConfigure () {\n      this.reviewModal = true\n    },\n    reviewConfigure () {\n      this.drc.reviewModal = true\n    },\n    submitConfig () {\n      const that = this\n      this.axios.post('/api/drc/v2/config/', {\n        srcBuildParam: this.srcBuildParam,\n        dstBuildParam: this.dstBuildParam\n      }).then(response => {\n        console.log(response.data)\n        that.result = response.data\n        that.reviewModal = false\n        that.resultModal = true\n        this.refresh()\n      })\n    },\n    getSrcDbReplications () {\n      this.$router.push({\n        path: '/dbTables',\n        query: {\n          srcMhaName: this.dstBuildParam.mhaName,\n          dstMhaName: this.srcBuildParam.mhaName,\n          srcDc: this.dstDc,\n          dstDc: this.srcDc,\n          order: true\n        }\n      })\n    },\n    getDstDbReplications () {\n      this.$router.push({\n        path: '/dbTables',\n        query: {\n          srcMhaName: this.srcBuildParam.mhaName,\n          dstMhaName: this.dstBuildParam.mhaName,\n          srcDc: this.srcDc,\n          dstDc: this.dstDc,\n          order: true\n        }\n      })\n    },\n    getSrcDbApplierReplications () {\n      this.$router.push({\n        path: '/dbAppliers',\n        query: {\n          srcMhaName: this.dstBuildParam.mhaName,\n          dstMhaName: this.srcBuildParam.mhaName,\n          srcDc: this.dstDc,\n          dstDc: this.srcDc,\n          order: true\n        }\n      })\n    },\n    getDstDbApplierReplications () {\n      this.$router.push({\n        path: '/dbAppliers',\n        query: {\n          srcMhaName: this.srcBuildParam.mhaName,\n          dstMhaName: this.dstBuildParam.mhaName,\n          srcDc: this.srcDc,\n          dstDc: this.dstDc,\n          order: true\n        }\n      })\n    },\n    handleChangeSize (val) {\n      this.size = val\n    },\n    hasAppliers (dbApplierDtos) {\n      for (const x of dbApplierDtos) {\n        if (x.ips && x.ips.length > 0) {\n          return true\n        }\n      }\n      return false\n    },\n    showMhaApplierConfig (isSrc) {\n      // return true\n      if (isSrc) {\n        return !this.hasAppliers(this.srcBuildData.dbApplierDtos)\n      } else {\n        return !this.hasAppliers(this.dstBuildData.dbApplierDtos)\n      }\n    },\n    showDbMhaApplierConfig (isSrc) {\n      if (isSrc) {\n        return this.srcBuildData.dbApplierSwitch || this.hasAppliers(this.srcBuildData.dbApplierDtos)\n      } else {\n        return this.dstBuildData.dbApplierSwitch || this.hasAppliers(this.dstBuildData.dbApplierDtos)\n      }\n    },\n    refresh () {\n      this.getSrcMhaReplicatorsInUse()\n      this.getDstMhaReplicatorsInUse()\n      this.getSrcMhaAppliersInUse()\n      this.getDstMhaAppliersInUse()\n      this.getMhaDbAppliersInUse()\n      this.getSrcDc()\n      this.getDstDc()\n    }\n  },\n  created () {\n    this.getSrcMhaResources()\n    this.getDstMhaResources()\n    this.refresh()\n  }\n}\n</script>\n<style scoped>\n.demo-split {\n  height: 200px;\n  border: 1px solid #dcdee2;\n}\n\n.demo-split-pane {\n  padding: 10px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcBuildV2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcBuildV2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./drcBuildV2.vue?vue&type=template&id=9cb649e8&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0\"\nimport script from \"./drcBuildV2.vue?vue&type=script&lang=js\"\nexport * from \"./drcBuildV2.vue?vue&type=script&lang=js\"\nimport style0 from \"./drcBuildV2.vue?vue&type=style&index=0&id=9cb649e8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9cb649e8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcBuildV2.vue?vue&type=style&index=0&id=9cb649e8&prod&scoped=true&lang=css\""],"sourceRoot":""}