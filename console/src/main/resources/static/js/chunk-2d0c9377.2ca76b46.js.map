{"version":3,"sources":["webpack:///./src/views/drcConfig/mqConfigs.vue?787c","webpack:///src/views/drcConfig/mqConfigs.vue","webpack:///./src/views/drcConfig/mqConfigs.vue?a261","webpack:///./src/views/drcConfig/mqConfigs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","_s","drc","mhaName","on","goToAddMqConfig","height","columns","mqConfigsData","scopedSlots","_u","key","fn","ref","row","index","$event","goToShowConfig","goToUpdateConfig","deleteConfig","cancelSubmit","submitConfig","proxy","model","value","display","callback","$$v","$set","expression","tagInfo","conflictVos","goToNormalTopicApplication","goToCustomTopicApplication","slot","mqConfig","topic","_l","item","check","refreshCacheChange","refreshCache","mqConfigOrderChange","handleCreateColumn","_e","normalTopicForm","columnsForTableCheck","dataWithPage","tableData","length","current","pageSizeOpts","size","handleChangeSize","staticRenderFns","name","data","customSize","$route","query","messengerGroupId","mqConfigModal","showOnly","id","mqType","table","serialization","persistent","persistentDb","order","orderKey","delayTime","processor","tag","inputDisplay","modal","bu","db","total","buForChosen","columnsForChose","methods","mqInitConfigInitFormRow","push","axios","delete","then","console","log","response","status","alert","mqConfigInit","topicInfo","tableInfo","endsWith","getCommonColumns","get","post","dto","getOrInitSimplexDrc","getMqConfigs","getBuListFromQmq","showMatchTables","window","contains","val","undefined","i","a","obj","computed","created","component"],"mappings":"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","file":"js/chunk-2d0c9377.2ca76b46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/mqConfigs\"}},[_vm._v(\"Mq投递配置\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('Row',[_c('Col',{attrs:{\"span\":\"22\"}},[_c('span',{staticStyle:{\"margin-top\":\"10px\",\"color\":\"#464c5b\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.drc.mhaName)+\"-Messenger\")])]),_c('Col',{attrs:{\"span\":\"2\"}},[_c('Button',{staticStyle:{\"margin-top\":\"10px\",\"text-align\":\"right\"},attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.goToAddMqConfig}},[_vm._v(\"添加\")])],1)],1),_c('div',{style:({padding: '1px 1px',height: '100%'})},[[_c('Table',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.mqConfigsData,\"border\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToShowConfig(row, index)}}},[_vm._v(\"查看\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdateConfig(row, index)}}},[_vm._v(\"修改\")]),_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteConfig(row, index)}}},[_vm._v(\"删除\")])]}}])})]],2)],1),_c('Modal',{attrs:{\"title\":\"MQ 投递配置\",\"width\":\"1000px\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('Button',{attrs:{\"type\":\"text\",\"size\":\"large\"},on:{\"click\":_vm.cancelSubmit}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitConfig}},[_vm._v(\"提交\")])]},proxy:true}]),model:{value:(_vm.display.mqConfigModal),callback:function ($$v) {_vm.$set(_vm.display, \"mqConfigModal\", $$v)},expression:\"display.mqConfigModal\"}},[_c('Modal',{attrs:{\"title\":\"冲突配置\",\"width\":\"500px\"},model:{value:(_vm.tagInfo.modal),callback:function ($$v) {_vm.$set(_vm.tagInfo, \"modal\", $$v)},expression:\"tagInfo.modal\"}},[_c('Table',{attrs:{\"columns\":_vm.tagInfo.columns,\"data\":_vm.tagInfo.conflictVos}})],1),_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"large\"},on:{\"click\":_vm.goToNormalTopicApplication}},[_vm._v(\"标准\")])],1),_c('Col',{attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"large\"},on:{\"click\":_vm.goToCustomTopicApplication}},[_vm._v(\"自定义\")])],1)],1),_c('Divider'),_c('Row',{attrs:{\"gutter\":10}},[_c('Col',{attrs:{\"span\":\"16\"}},[_c('Card',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(\"配置\")])]),(_vm.display.normalTopicForm)?_c('Form',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"model\":_vm.mqConfig,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"MQ主题\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"5\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"选择部门\"},model:{value:(_vm.topic.bu),callback:function ($$v) {_vm.$set(_vm.topic, \"bu\", $$v)},expression:\"topic.bu\"}},_vm._l((_vm.buForChosen),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{attrs:{\"placeholder\":\"库名\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('span',[_vm._v(\".\")])]},proxy:true},{key:\"append\",fn:function(){return [_c('span',[_vm._v(\".\")])]},proxy:true}],null,false,2636135903),model:{value:(_vm.topic.db),callback:function ($$v) {_vm.$set(_vm.topic, \"db\", $$v)},expression:\"topic.db\"}})],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{attrs:{\"placeholder\":\"表名\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('span',[_vm._v(\".\")])]},proxy:true},{key:\"append\",fn:function(){return [_c('span',[_vm._v(\".drc\")])]},proxy:true}],null,false,4081703306),model:{value:(_vm.topic.table),callback:function ($$v) {_vm.$set(_vm.topic, \"table\", $$v)},expression:\"topic.table\"}})],1),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.check}},[_vm._v(\"表校验\")])],1)],1)],1),_c('Row',[_c('Col',{attrs:{\"span\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"刷缓存Binlog\"}},[_c('Checkbox',{on:{\"on-change\":_vm.refreshCacheChange},model:{value:(_vm.mqConfig.refreshCache),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"refreshCache\", $$v)},expression:\"mqConfig.refreshCache\"}})],1)],1),_c('Col',{attrs:{\"span\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"有序消息\"}},[_c('Checkbox',{attrs:{\"disabled\":_vm.mqConfig.refreshCache},on:{\"on-change\":_vm.mqConfigOrderChange},model:{value:(_vm.mqConfig.order),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"order\", $$v)},expression:\"mqConfig.order\"}})],1)],1),_c('Col',{attrs:{\"span\":\"16\"}},[(_vm.mqConfig.order)?_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"选择有序相关字段\"},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.mqConfig.orderKey),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"orderKey\", $$v)},expression:\"mqConfig.orderKey\"}},_vm._l((_vm.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1):_vm._e()],1)],1),(_vm.tagInfo.inputDisplay)?_c('FormItem',{attrs:{\"label\":\"tag\"}},[_c('Input',{staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"存在冲突配置，需要输入业务名（小写英文）区分\"},model:{value:(_vm.mqConfig.tag),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"tag\", $$v)},expression:\"mqConfig.tag\"}})],1):_vm._e()],1):_vm._e(),(!_vm.display.normalTopicForm)?_c('Form',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"model\":_vm.mqConfig,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"部门\"}},[_c('Select',{staticStyle:{\"width\":\"150px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"选择部门\"},model:{value:(_vm.topic.bu),callback:function ($$v) {_vm.$set(_vm.topic, \"bu\", $$v)},expression:\"topic.bu\"}},_vm._l((_vm.buForChosen),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"库表名\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"10\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"库名（支持正则）\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('span',[_vm._v(\"\\\\.\")])]},proxy:true}],null,false,3386892038),model:{value:(_vm.topic.db),callback:function ($$v) {_vm.$set(_vm.topic, \"db\", $$v)},expression:\"topic.db\"}})],1),_c('Col',{attrs:{\"span\":\"10\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"表名（支持正则）\"},model:{value:(_vm.topic.table),callback:function ($$v) {_vm.$set(_vm.topic, \"table\", $$v)},expression:\"topic.table\"}})],1),_c('Col',{attrs:{\"span\":\"4\"}},[_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.check}},[_vm._v(\"表校验\")])],1)],1)],1),_c('FormItem',{attrs:{\"label\":\"MQ主题\"}},[_c('Input',{staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"请输入自定义Topic\"},model:{value:(_vm.mqConfig.topic),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"topic\", $$v)},expression:\"mqConfig.topic\"}})],1),_c('Row',[_c('Col',{attrs:{\"span\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"刷缓存Binlog\"}},[_c('Checkbox',{on:{\"on-change\":_vm.refreshCacheChange},model:{value:(_vm.mqConfig.refreshCache),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"refreshCache\", $$v)},expression:\"mqConfig.refreshCache\"}})],1)],1),_c('Col',{attrs:{\"span\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"有序消息\"}},[_c('Checkbox',{attrs:{\"disabled\":_vm.mqConfig.refreshCache},on:{\"on-change\":_vm.mqConfigOrderChange},model:{value:(_vm.mqConfig.order),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"order\", $$v)},expression:\"mqConfig.order\"}})],1)],1),_c('Col',{attrs:{\"span\":\"20\"}},[(_vm.mqConfig.order)?_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"选择有序相关字段\"},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.mqConfig.orderKey),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"orderKey\", $$v)},expression:\"mqConfig.orderKey\"}},_vm._l((_vm.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1):_vm._e()],1)],1),(_vm.tagInfo.inputDisplay)?_c('FormItem',{attrs:{\"label\":\"tag\"}},[_c('Input',{staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"存在冲突，请输入业务名作为唯一标识（小写英文）\"},model:{value:(_vm.mqConfig.tag),callback:function ($$v) {_vm.$set(_vm.mqConfig, \"tag\", $$v)},expression:\"mqConfig.tag\"}})],1):_vm._e()],1):_vm._e()],1)],1),_c('Col',{attrs:{\"span\":\"8\"}},[_c('Card',[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',[_vm._v(\"相关表\")])]),_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columnsForTableCheck,\"data\":_vm.dataWithPage,\"border\":\"\"}}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.tableData.length,\"current\":_vm.current,\"page-size-opts\":_vm.pageSizeOpts,\"page-size\":this.size,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n <base-component>\r\n   <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\r\n     <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\r\n     <BreadcrumbItem to=\"/mqConfigs\">Mq投递配置</BreadcrumbItem>\r\n   </Breadcrumb>\r\n   <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\r\n     <Row>\r\n       <Col span=\"22\">\r\n         <span style=\"margin-top: 10px;color:#464c5b;font-weight:600\">{{drc.mhaName}}-Messenger</span>\r\n       </Col>\r\n       <Col span=\"2\">\r\n         <Button style=\"margin-top: 10px;text-align: right\" type=\"primary\" ghost @click=\"goToAddMqConfig\">添加</Button>\r\n       </Col>\r\n     </Row>\r\n     <div :style=\"{padding: '1px 1px',height: '100%'}\">\r\n       <template >\r\n         <Table style=\"margin-top: 20px\" stripe :columns=\"columns\" :data=\"mqConfigsData\" border>\r\n           <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n             <Button type=\"success\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToShowConfig(row, index)\">查看</Button>\r\n             <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdateConfig(row, index)\">修改</Button>\r\n             <Button type=\"error\" size=\"small\" style=\"margin-right: 10px\" @click=\"deleteConfig(row, index)\">删除</Button>\r\n           </template>\r\n         </Table>\r\n       </template>\r\n     </div>\r\n   </Content>\r\n   <Modal\r\n     v-model=\"display.mqConfigModal\"\r\n     title=\"MQ 投递配置\"\r\n     width=\"1000px\"\r\n   >\r\n     <Modal\r\n       v-model=\"tagInfo.modal\"\r\n     title=\"冲突配置\"\r\n     width=\"500px\">\r\n       <Table :columns=\"tagInfo.columns\" :data=\"tagInfo.conflictVos\"></Table>\r\n     </Modal>\r\n     <Row>\r\n       <Col span=\"2\">\r\n         <Button type=\"dashed\" size=\"large\" @click=\"goToNormalTopicApplication\">标准</Button>\r\n       </Col>\r\n       <Col span=\"2\">\r\n         <Button type=\"dashed\" size=\"large\" @click=\"goToCustomTopicApplication\">自定义</Button>\r\n       </Col>\r\n     </Row>\r\n     <Divider />\r\n     <Row :gutter=\"10\">\r\n       <Col span=\"16\">\r\n         <Card>\r\n           <div slot=\"title\">\r\n             <span>配置</span>\r\n           </div>\r\n           <Form v-if=\"display.normalTopicForm\" :model=\"mqConfig\" :label-width=\"100\"\r\n                 style=\"margin-top: 10px\" >\r\n<!--             <FormItem label=\"MQ类型\">-->\r\n<!--               <Select v-model=\"mqConfig.mqType\" style=\"width: 200px\" placeholder=\"选择MQ类型\">-->\r\n<!--                 <Option value=\"qmq\">qmq</Option>-->\r\n<!--                 <Option value=\"kafka\">hermes-kafka</Option>-->\r\n<!--               </Select>-->\r\n<!--             </FormItem>-->\r\n             <FormItem label=\"MQ主题\">\r\n                 <Row >\r\n                   <Col span=\"5\">\r\n                     <Select v-model=\"topic.bu\"  filterable  placeholder=\"选择部门\">\r\n                       <Option v-for=\"item in buForChosen\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                     </Select>\r\n                   </Col>\r\n                   <Col span=\"6\">\r\n                     <Input v-model=\"topic.db\"  placeholder=\"库名\">\r\n                       <template #prepend><span>.</span></template>\r\n                       <template #append><span>.</span></template>\r\n                     </Input>\r\n                   </Col>\r\n                   <Col span=\"6\">\r\n                     <Input v-model=\"topic.table\"  placeholder=\"表名\">\r\n                       <template #prepend><span>.</span></template>\r\n                       <template #append><span>.drc</span></template>\r\n                     </Input>\r\n                   </Col>\r\n                   <Col span=\"4\">\r\n                     <Button type=\"info\" @click=\"check\"  style=\"margin-left: 10px\">表校验</Button>\r\n                   </Col>\r\n                 </Row>\r\n             </FormItem>\r\n<!--             <FormItem v-if=\"mqConfig.mqType === 'kafka'\" label=\"序列化\">-->\r\n<!--               <Select v-model=\"mqConfig.serialization\" style=\"width: 200px\" placeholder=\"序列化类型\">-->\r\n<!--                 <Option value=\"json\">json</Option>-->\r\n<!--                 <Option value=\"arvo\">arvo</Option>-->\r\n<!--               </Select>-->\r\n<!--             </FormItem>-->\r\n             <Row>\r\n               <Col span=\"4\">\r\n                 <FormItem label=\"刷缓存Binlog\">\r\n                   <Checkbox v-model=\"mqConfig.refreshCache\" @on-change=\"refreshCacheChange\" ></Checkbox>\r\n                 </FormItem>\r\n               </Col>\r\n               <Col span=\"4\">\r\n                 <FormItem label=\"有序消息\">\r\n                   <Checkbox v-model=\"mqConfig.order\" @on-change=\"mqConfigOrderChange\" :disabled=\"mqConfig.refreshCache\"></Checkbox>\r\n                 </FormItem>\r\n               </Col>\r\n               <Col span=\"16\">\r\n                 <FormItem v-if=\"mqConfig.order\" label=\"字段\">\r\n                   <Select   v-model=\"mqConfig.orderKey\"  filterable allow-create @on-create=\"handleCreateColumn\" style=\"width: 200px\" placeholder=\"选择有序相关字段\">\r\n                     <Option v-for=\"item in columnsForChose\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                   </Select>\r\n                 </FormItem>\r\n               </Col>\r\n             </Row>\r\n<!--             <FormItem v-if=\"mqConfig.mqType === 'qmq'\" label=\"延迟投递\">-->\r\n<!--               <Input v-model=\"mqConfig.delayTime\" style=\"width:200px\" placeholder=\"qmq延迟投递时间,单位:秒\"/>-->\r\n<!--             </FormItem>-->\r\n             <FormItem   label=\"tag\" v-if=\"tagInfo.inputDisplay\">\r\n               <Input v-model=\"mqConfig.tag\" style=\"width:350px\" placeholder=\"存在冲突配置，需要输入业务名（小写英文）区分\"/>\r\n             </FormItem>\r\n           </Form>\r\n           <Form v-if=\"!display.normalTopicForm\" :model=\"mqConfig\" :label-width=\"100\"\r\n                 style=\"margin-top: 10px\" >\r\n             <!--             <FormItem label=\"MQ类型\">-->\r\n             <!--               <Select v-model=\"mqConfig.mqType\" style=\"width: 200px\" placeholder=\"选择MQ类型\">-->\r\n             <!--                 <Option value=\"qmq\">qmq</Option>-->\r\n             <!--                 <Option value=\"kafka\">hermes-kafka</Option>-->\r\n             <!--               </Select>-->\r\n             <!--             </FormItem>-->\r\n             <FormItem  label=\"部门\">\r\n               <Select v-model=\"topic.bu\"  filterable style=\"width:150px\" placeholder=\"选择部门\">\r\n                 <Option v-for=\"item in buForChosen\" :value=\"item\" :key=\"item\">{{item}}</Option>\r\n               </Select>\r\n             </FormItem>\r\n             <FormItem   label=\"库表名\">\r\n               <Row>\r\n                 <Col span=\"10\">\r\n                   <Input v-model=\"topic.db\" style=\"width:200px\" placeholder=\"库名（支持正则）\">\r\n                    <template #append><span>\\.</span></template>\r\n                   </Input>\r\n                 </Col>\r\n                 <Col span=\"10\">\r\n                   <Input v-model=\"topic.table\" style=\"width:200px\" placeholder=\"表名（支持正则）\"/>\r\n                 </Col>\r\n                 <Col span=\"4\">\r\n                   <Button type=\"info\" @click=\"check\"  style=\"margin-left: 10px\">表校验</Button>\r\n                 </Col>\r\n               </Row>\r\n             </FormItem>\r\n             <FormItem   label=\"MQ主题\">\r\n               <Input v-model=\"mqConfig.topic\" style=\"width:350px\" placeholder=\"请输入自定义Topic\"/>\r\n             </FormItem>\r\n             <!--             <FormItem v-if=\"mqConfig.mqType === 'kafka'\" label=\"序列化\">-->\r\n             <!--               <Select v-model=\"mqConfig.serialization\" style=\"width: 200px\" placeholder=\"序列化类型\">-->\r\n             <!--                 <Option value=\"json\">json</Option>-->\r\n             <!--                 <Option value=\"arvo\">arvo</Option>-->\r\n             <!--               </Select>-->\r\n             <!--             </FormItem>-->\r\n             <Row>\r\n               <Col span=\"4\">\r\n                 <FormItem label=\"刷缓存Binlog\">\r\n                   <Checkbox v-model=\"mqConfig.refreshCache\" @on-change=\"refreshCacheChange\" ></Checkbox>\r\n                 </FormItem>\r\n               </Col>\r\n               <Col span=\"4\">\r\n                 <FormItem label=\"有序消息\">\r\n                   <Checkbox v-model=\"mqConfig.order\" @on-change=\"mqConfigOrderChange\" :disabled=\"mqConfig.refreshCache\"></Checkbox>\r\n                 </FormItem>\r\n               </Col>\r\n               <Col span=\"20\">\r\n                 <FormItem v-if=\"mqConfig.order\" label=\"字段\">\r\n                   <Select   v-model=\"mqConfig.orderKey\"  filterable allow-create @on-create=\"handleCreateColumn\" style=\"width: 200px\" placeholder=\"选择有序相关字段\">\r\n                     <Option v-for=\"item in columnsForChose\" :value=\"item\" :key=\"item\">{{ item }}</Option>\r\n                   </Select>\r\n                 </FormItem>\r\n               </Col>\r\n             </Row>\r\n             <!--             <FormItem v-if=\"mqConfig.mqType === 'qmq'\" label=\"延迟投递\">-->\r\n             <!--               <Input v-model=\"mqConfig.delayTime\" style=\"width:200px\" placeholder=\"qmq延迟投递时间,单位:秒\"/>-->\r\n             <!--             </FormItem>-->\r\n             <FormItem   label=\"tag\" v-if=\"tagInfo.inputDisplay\">\r\n               <Input v-model=\"mqConfig.tag\" style=\"width:350px\" placeholder=\"存在冲突，请输入业务名作为唯一标识（小写英文）\"/>\r\n             </FormItem>\r\n           </Form>\r\n         </Card>\r\n       </Col>\r\n       <Col span=\"8\">\r\n         <Card>\r\n           <div slot=\"title\">\r\n             <span>相关表</span>\r\n           </div>\r\n           <Table stripe :columns=\"columnsForTableCheck\" :data=\"dataWithPage\" border ></Table>\r\n           <div style=\"text-align: center;margin: 16px 0\">\r\n             <Page\r\n               :transfer=\"true\"\r\n               :total=\"tableData.length\"\r\n               :current.sync=\"current\"\r\n               :page-size-opts=\"pageSizeOpts\"\r\n               :page-size=\"this.size\"\r\n               show-total\r\n               show-sizer\r\n               show-elevator\r\n               @on-page-size-change=\"handleChangeSize\"></Page>\r\n           </div>\r\n         </Card>\r\n       </Col>\r\n     </Row>\r\n     <template #footer>\r\n       <Button type=\"text\" size=\"large\"  @click=\"cancelSubmit\">取消</Button>\r\n       <Button type=\"primary\"  @click=\"submitConfig\">提交</Button>\r\n     </template>\r\n   </Modal>\r\n </base-component>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'mqConfigs.vue',\r\n  data () {\r\n    return {\r\n      customSize: 10,\r\n      drc: {\r\n        mhaName: this.$route.query.mhaName,\r\n        messengerGroupId: 0\r\n      },\r\n      display: {\r\n        mqConfigModal: false,\r\n        normalTopicForm: false,\r\n        showOnly: false\r\n      },\r\n      mqConfig: {\r\n        id: 0,\r\n        mqType: 'qmq',\r\n        table: '',\r\n        topic: '',\r\n        serialization: 'json',\r\n        persistent: false,\r\n        persistentDb: '',\r\n        order: false,\r\n        orderKey: '',\r\n        delayTime: 0,\r\n        processor: '',\r\n        refreshCache: false,\r\n        tag: ''\r\n      },\r\n      tagInfo: {\r\n        inputDisplay: false,\r\n        modal: false,\r\n        conflictVos: [],\r\n        columns: [\r\n          {\r\n            title: '序号',\r\n            width: 75,\r\n            align: 'center',\r\n            fixed: 'left',\r\n            render: (h, params) => {\r\n              return h(\r\n                'span',\r\n                params.index + 1\r\n              )\r\n            }\r\n          },\r\n          {\r\n            title: '标识',\r\n            key: 'tag',\r\n            width: 100\r\n          },\r\n          {\r\n            title: '库表名',\r\n            key: 'table',\r\n            width: 200\r\n          },\r\n          {\r\n            title: '主题',\r\n            key: 'topic',\r\n            width: 200\r\n          }\r\n        ]\r\n      },\r\n      topic: {\r\n        bu: '',\r\n        db: '',\r\n        table: ''\r\n      },\r\n      mqConfigsData: [],\r\n      columns: [\r\n        {\r\n          title: '序号',\r\n          width: 75,\r\n          align: 'center',\r\n          fixed: 'left',\r\n          render: (h, params) => {\r\n            return h(\r\n              'span',\r\n              params.index + 1\r\n            )\r\n          }\r\n        },\r\n        {\r\n          title: '类型',\r\n          key: 'mqType',\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const color = 'blue'\r\n            const text = row.mqType === 'qmq' ? 'QMQ' : 'Kafka'\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '库表名',\r\n          key: 'table',\r\n          width: 200\r\n        },\r\n        {\r\n          title: '主题',\r\n          key: 'topic',\r\n          width: 200\r\n        },\r\n        {\r\n          title: '有序',\r\n          key: 'order',\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const color = 'blue'\r\n            const text = row.order ? '有序' : '无序'\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '有序相关字段',\r\n          key: 'orderKey'\r\n        },\r\n        {\r\n          title: '序列化',\r\n          key: 'serialization'\r\n        },\r\n        {\r\n          title: '持久化消息',\r\n          key: 'persistent',\r\n          render: (h, params) => {\r\n            const row = params.row\r\n            const color = 'blue'\r\n            const text = row.persistent ? '持久化' : '非持久化'\r\n            return h('Tag', {\r\n              props: {\r\n                color: color\r\n              }\r\n            }, text)\r\n          }\r\n        },\r\n        {\r\n          title: '持久化dal',\r\n          key: 'persistentDb'\r\n        },\r\n        {\r\n          title: '自定义处理',\r\n          key: 'processor'\r\n        },\r\n        {\r\n          title: '业务标识',\r\n          key: 'tag'\r\n        },\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          align: 'center',\r\n          width: 200,\r\n          fixed: 'right'\r\n        }\r\n      ],\r\n      total: 0,\r\n      current: 1,\r\n      size: 5,\r\n      pageSizeOpts: [5, 10, 20, 100],\r\n      columnsForTableCheck: [\r\n        {\r\n          title: '序号',\r\n          width: 75,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h(\r\n              'span',\r\n              params.index + 1 + (this.current - 1) * this.size\r\n            )\r\n          }\r\n        },\r\n        {\r\n          title: '库表名',\r\n          key: 'directSchemaTableName'\r\n        }\r\n      ],\r\n      tableData: [],\r\n      // qmqURL/api/producer/getBusFromQmq\r\n      buForChosen: [],\r\n      columnsForChose: []\r\n    }\r\n  },\r\n  methods: {\r\n    goToShowConfig (row, index) {\r\n      this.mqInitConfigInitFormRow(row, index)\r\n      this.check()\r\n      this.columnsForChose = []\r\n      this.columnsForChose.push(row.orderKey)\r\n      this.display.showOnly = true\r\n      this.display.mqConfigModal = true\r\n    },\r\n    goToUpdateConfig  (row, index) {\r\n      this.mqInitConfigInitFormRow(row, index)\r\n      this.check()\r\n      this.columnsForChose = []\r\n      this.columnsForChose.push(row.orderKey)\r\n      this.display.showOnly = false\r\n      this.display.mqConfigModal = true\r\n    },\r\n    deleteConfig (row, index) {\r\n      this.axios.delete('/api/drc/v1/messenger/mqConfig/' + row.id + '/' + this.drc.mhaName).then(response => {\r\n        console.log(response.data)\r\n        console.log(response.data.data)\r\n        if (response.data.status === 0) {\r\n          alert('删除成功！')\r\n          this.getMqConfigs()\r\n        } else {\r\n          alert('操作失败！')\r\n        }\r\n      })\r\n    },\r\n    goToAddMqConfig () {\r\n      this.mqConfigInit()\r\n      this.columnsForChose = []\r\n      this.display = {\r\n        showOnly: false,\r\n        normalTopicForm: true,\r\n        mqConfigModal: true\r\n      }\r\n    },\r\n    mqConfigInit () {\r\n      this.mqConfig = {\r\n        id: 0,\r\n        mqType: 'qmq',\r\n        table: '',\r\n        topic: '',\r\n        serialization: 'json',\r\n        persistent: false,\r\n        persistentDb: '',\r\n        order: false,\r\n        orderKey: '',\r\n        delayTime: 0,\r\n        processor: '',\r\n        refreshCache: false,\r\n        tag: ''\r\n      }\r\n      this.topic = {\r\n        bu: '',\r\n        db: '',\r\n        table: ''\r\n      }\r\n      this.tableData = []\r\n      this.tagInfo.inputDisplay = false\r\n    },\r\n    mqInitConfigInitFormRow: function (row, index) {\r\n      this.mqConfig = {\r\n        id: row.id,\r\n        mqType: row.mqType,\r\n        table: row.table, // full name:schema\\.table\r\n        topic: row.topic,\r\n        serialization: row.serialization,\r\n        persistent: row.persistent,\r\n        persistentDb: row.persistentDb,\r\n        order: row.order,\r\n        orderKey: row.orderKey,\r\n        delayTime: row.delayTime,\r\n        processor: row.processor,\r\n        refreshCache: false,\r\n        tag: row.tag == null ? '' : row.tag\r\n      }\r\n      const topicInfo = row.topic.split('.')\r\n      const tableInfo = row.table.split('\\\\.')\r\n      this.topic = {\r\n        bu: topicInfo[0],\r\n        db: tableInfo[0],\r\n        table: tableInfo[1]\r\n      }\r\n      this.tagInfo.inputDisplay = row.tag != null\r\n      this.display.normalTopicForm = row.topic.endsWith('.drc') // 判断是否为规范topic\r\n    },\r\n    goToNormalTopicApplication () {\r\n      this.display.normalTopicForm = true\r\n    },\r\n    goToCustomTopicApplication () {\r\n      this.display.normalTopicForm = false\r\n    },\r\n    cancelSubmit () {\r\n      this.display.mqConfigModal = false\r\n    },\r\n    getCommonColumns () {\r\n      this.columnsForChose = []\r\n      if (this.topic.db == null || this.topic.db === '' || this.topic.table == null || this.topic.table === '') {\r\n        alert('查询公共字段，db.talbe不能为空')\r\n        return\r\n      }\r\n      console.log('/api/drc/v1/build/rowsFilter/commonColumns?' +\r\n        '&mhaName=' + this.drc.mhaName +\r\n        '&namespace=' + this.topic.db +\r\n        '&name=' + this.topic.table)\r\n      this.axios.get('/api/drc/v1/build/rowsFilter/commonColumns?' +\r\n        '&mhaName=' + this.drc.mhaName +\r\n        '&namespace=' + this.topic.db +\r\n        '&name=' + this.topic.table)\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            alert('查询公共列名失败，请手动添加！' + response.data.data)\r\n            this.columnsForChose = []\r\n          } else {\r\n            console.log(response.data.data)\r\n            this.columnsForChose = response.data.data\r\n            if (this.columnsForChose.length === 0) {\r\n              alert('查询无公共字段！')\r\n            }\r\n          }\r\n        })\r\n    },\r\n    submitConfig () {\r\n      // preCheckInput\r\n      if (this.display.showOnly) {\r\n        alert('查看状态，禁止提交！')\r\n        return\r\n      }\r\n      if (this.topic.db == null || this.topic.db === '') {\r\n        alert('db 不能为空')\r\n        return\r\n      }\r\n      if (this.topic.table == null || this.topic.table === '') {\r\n        alert('table 不能为空！')\r\n        return\r\n      }\r\n      if (this.mqConfig.order && (\r\n        this.mqConfig.orderKey == null || this.mqConfig.orderKey === '')) {\r\n        alert('有序topic 相关字段不能为空')\r\n        return\r\n      }\r\n      if (this.display.normalTopicForm) {\r\n        if (this.tableData.length !== 1) {\r\n          alert('标准topic 只能对应一张表,目前匹配表数量：' + this.tableData.length)\r\n          return\r\n        }\r\n      } else {\r\n        if (this.tableData.length === 0) {\r\n          alert('未匹配到表')\r\n          return\r\n        }\r\n      }\r\n      // config\r\n      if (this.display.normalTopicForm) {\r\n        this.mqConfig.table = this.topic.db + '\\\\.' + this.topic.table\r\n        this.mqConfig.topic = this.topic.bu + '.' + this.topic.db + '.' + this.topic.table + '.drc'\r\n      } else {\r\n        this.mqConfig.table = this.topic.db + '\\\\.' + this.topic.table\r\n      }\r\n      const dto = {\r\n        id: this.mqConfig.id,\r\n\r\n        bu: this.topic.bu,\r\n        mqType: this.mqConfig.mqType,\r\n        table: this.mqConfig.table,\r\n        topic: this.mqConfig.topic,\r\n        serialization: this.mqConfig.serialization,\r\n        persistent: this.mqConfig.persistent,\r\n        persistentDb: this.mqConfig.persistentDb === '' ? null : this.mqConfig.persistentDb,\r\n        order: this.mqConfig.order,\r\n        orderKey: this.mqConfig.orderKey === '' ? null : this.mqConfig.orderKey,\r\n        delayTime: this.mqConfig.delayTime === null ? 0 : this.mqConfig.delayTime,\r\n        processor: this.mqConfig.processor === '' ? null : this.processor,\r\n\r\n        messengerGroupId: this.drc.messengerGroupId,\r\n        mhaName: this.drc.mhaName,\r\n\r\n        tag: this.mqConfig.tag === '' ? null : this.mqConfig.tag\r\n      }\r\n      this.tagInfo.conflictVos = []\r\n      // check mqConfig before sumbit\r\n      this.axios.post('/api/drc/v1/messenger/mqConfig/check', dto)\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            window.alert('mqConfig 配置校验失败!   ' + response.data.message)\r\n          } else {\r\n            const res = response.data.data\r\n            if (res.allowSubmit) {\r\n              // submit\r\n              this.axios.post('/api/drc/v1/messenger/mqConfig', dto)\r\n                .then(response => {\r\n                  if (response.data.status === 1) {\r\n                    window.alert('mqConfig 提交失败!   ' + response.data.message)\r\n                  } else {\r\n                    window.alert('提交成功!' + response.data.message)\r\n                    this.display.mqConfigModal = false\r\n                    this.getMqConfigs()\r\n                  }\r\n                })\r\n            } else {\r\n              if (res.tag != null) {\r\n                this.mqConfig.tag = res.tag\r\n              }\r\n              this.tagInfo.conflictVos = res.conflictTables\r\n              this.tagInfo.inputDisplay = true\r\n              this.tagInfo.modal = true\r\n            }\r\n          }\r\n        })\r\n    },\r\n    getOrInitSimplexDrc () {\r\n      console.log('/api/drc/v1/build/simplexDrc?srcMha=' + this.drc.mhaName)\r\n      this.axios.post('/api/drc/v1/build/simplexDrc?srcMha=' + this.drc.mhaName)\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            window.alert('获取或创建该方向同步失败!')\r\n          } else {\r\n            this.drc.messengerGroupId = response.data.data\r\n            this.getMqConfigs()\r\n            this.getBuListFromQmq()\r\n          }\r\n        })\r\n    },\r\n    getMqConfigs () {\r\n      console.log(this.drc.messengerGroupId)\r\n      this.axios.get('/api/drc/v1/messenger/mqConfigs/' + this.drc.messengerGroupId)\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            window.alert('查询行过滤配置失败!')\r\n          } else {\r\n            this.mqConfigsData = response.data.data\r\n          }\r\n        })\r\n    },\r\n    getBuListFromQmq () {\r\n      this.axios.post('/api/drc/v1/messenger/qmq/bus')\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            window.alert('从查询qmq 部门信息失败!')\r\n          } else {\r\n            this.buForChosen = response.data.data\r\n          }\r\n        })\r\n    },\r\n    refreshCacheChange () {\r\n      if (this.mqConfig.refreshCache) {\r\n        this.mqConfig.order = true\r\n        alert('刷缓存Binlog 需要有序topic 请联系QMQ团队配置!!!')\r\n        this.getCommonColumns()\r\n      }\r\n    },\r\n    mqConfigOrderChange () {\r\n      if (this.mqConfig.order) {\r\n        alert('有序topic 需要联系QMQ团队配置!!!')\r\n        this.getCommonColumns()\r\n      }\r\n    },\r\n    check () {\r\n      this.showMatchTables()\r\n    },\r\n    showMatchTables () {\r\n      if (this.topic.db === '' || this.topic.table === '') {\r\n        window.alert('库表名不能为空')\r\n      } else {\r\n        console.log('/api/drc/v1/build/dataMedia/check?' +\r\n          'namespace=' + this.topic.db +\r\n          '&name=' + this.topic.table +\r\n          '&mhaName=' + this.drc.mhaName +\r\n          '&type=' + 0)\r\n        this.axios.get('/api/drc/v1/build/dataMedia/check?' +\r\n          'namespace=' + this.topic.db +\r\n          '&name=' + this.topic.table +\r\n          '&mhaName=' + this.drc.mhaName +\r\n          '&type=' + 0)\r\n          .then(response => {\r\n            if (response.data.status === 1) {\r\n              window.alert('查询匹配表失败' + response.data.data)\r\n            } else {\r\n              console.log(response.data.data)\r\n              this.tableData = response.data.data\r\n              if (this.display.normalTopicForm && this.tableData.length !== 1) {\r\n                this.display.normalTopicForm = false\r\n              }\r\n              if (this.tableData.length === 0) {\r\n                window.alert('无匹配表 或 查询匹配表失败')\r\n              }\r\n              this.getCommonColumns()\r\n            }\r\n          })\r\n      }\r\n    },\r\n    handleCreateColumn (val) {\r\n      if (this.contains(this.columnsForChose, val)) {\r\n        alert('已有项禁止创建')\r\n        return\r\n      }\r\n      if (val === '' || val === undefined || val === null) {\r\n        alert('字段不能为空')\r\n        return\r\n      }\r\n      console.log('/api/drc/v1/build/dataMedia/columnCheck?' +\r\n        'mhaName=' + this.drc.mhaName +\r\n        '&namespace=' + this.topic.db +\r\n        '&name=' + this.topic.table +\r\n        '&column=' + val)\r\n      this.axios.get(\r\n        '/api/drc/v1/build/dataMedia/columnCheck?' +\r\n        'mhaName=' + this.drc.mhaName +\r\n        '&namespace=' + this.topic.db +\r\n        '&name=' + this.topic.table +\r\n        '&column=' + val)\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            alert('查询字段:' + val + '失败！' + response.data.data)\r\n            this.columnsForChose.push(val)\r\n          } else {\r\n            const tablesWithoutColumn = response.data.data\r\n            if (tablesWithoutColumn.length !== 0) {\r\n              alert('以下表无字段' + val + '如下:' +\r\n                tablesWithoutColumn)\r\n            }\r\n            this.columnsForChose.push(val)\r\n          }\r\n        })\r\n    },\r\n    handleChangeSize (val) {\r\n      this.size = val\r\n    },\r\n    contains (a, obj) {\r\n      var i = a.length\r\n      while (i--) {\r\n        if (a[i] === obj) {\r\n          return true\r\n        }\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  computed: {\r\n    dataWithPage () {\r\n      const data = this.tableData\r\n      const start = this.current * this.size - this.size\r\n      const end = start + this.size\r\n      return [...data].slice(start, end)\r\n    }\r\n  },\r\n  created () {\r\n    console.log(this.$route.query.mhaName)\r\n    this.drc.mhaName = this.$route.query.mhaName\r\n    this.getOrInitSimplexDrc()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqConfigs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqConfigs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mqConfigs.vue?vue&type=template&id=32b16110&scoped=true&\"\nimport script from \"./mqConfigs.vue?vue&type=script&lang=js&\"\nexport * from \"./mqConfigs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32b16110\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}