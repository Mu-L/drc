{"version":3,"sources":["webpack:///./src/views/v2/resource/proxyResource.vue","webpack:///src/views/v2/resource/proxyResource.vue","webpack:///./src/views/v2/resource/proxyResource.vue?ebd5","webpack:///./src/views/v2/resource/proxyResource.vue?0d87"],"names":["render","_vm","this","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","height","ref","staticStyle","proxyResource","ruleproxyResource","on","handleCreateDc","model","value","dc","callback","$$v","$set","expression","_l","drcZoneList","item","key","_s","label","handleCreateProtocol","protocol","protocolList","ip","handleCreatePort","port","portList","$event","handleReset","reviewInputResource","inputResource","reviewModal","resultModal","result","staticRenderFns","name","data","required","message","trigger","constant","dcList","methods","console","log","that","axios","post","then","response","val","push","created","_this","get","status","$router","component"],"mappings":"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","file":"js/chunk-2d2385e7.a670b6ef.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyResource\"}},[_vm._v(\"Proxy资源管理\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"proxyResource\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.proxyResource,\"rules\":_vm.ruleproxyResource,\"label-width\":250}},[_c('FormItem',{attrs:{\"label\":\"机房\",\"prop\":\"dc\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择资源所在机房\"},on:{\"on-create\":_vm.handleCreateDc},model:{value:(_vm.proxyResource.dc),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"dc\", $$v)},expression:\"proxyResource.dc\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"协议\",\"prop\":\"protocol\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择或输入Proxy协议\"},on:{\"on-create\":_vm.handleCreateProtocol},model:{value:(_vm.proxyResource.protocol),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"protocol\", $$v)},expression:\"proxyResource.protocol\"}},_vm._l((_vm.protocolList),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"450px\"},attrs:{\"label\":\"IP\",\"prop\":\"ip\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入Proxy IP\"},model:{value:(_vm.proxyResource.ip),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"ip\", $$v)},expression:\"proxyResource.ip\"}})],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"端口\",\"prop\":\"port\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择或输入Proxy端口\"},on:{\"on-create\":_vm.handleCreatePort},model:{value:(_vm.proxyResource.port),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"port\", $$v)},expression:\"proxyResource.port\"}},_vm._l((_vm.portList),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset()}}},[_vm._v(\"重置\")]),_c('br'),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.reviewInputResource ()}}},[_vm._v(\"录入\")])],1),_c('Modal',{attrs:{\"title\":\"录入确认\"},on:{\"on-ok\":_vm.inputResource},model:{value:(_vm.proxyResource.reviewModal),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"reviewModal\", $$v)},expression:\"proxyResource.reviewModal\"}},[_vm._v(\" 确认将资源\"+_vm._s(this.proxyResource.protocol)+\"://\"+_vm._s(this.proxyResource.ip)+\":\"+_vm._s(this.proxyResource.port)+\"录入\"+_vm._s(this.proxyResource.dc)+\"吗？ \")]),_c('Modal',{attrs:{\"title\":\"录入结果\"},model:{value:(_vm.proxyResource.resultModal),callback:function ($$v) {_vm.$set(_vm.proxyResource, \"resultModal\", $$v)},expression:\"proxyResource.resultModal\"}},[_vm._v(\" \"+_vm._s(this.result)+\" \")])],1)],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/proxyResource\">Proxy资源管理</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div :style=\"{padding: '1px 1px',height: '100%'}\">\n        <Row>\n          <i-col span=\"12\">\n            <Form ref=\"proxyResource\" :model=\"proxyResource\" :rules=\"ruleproxyResource\" :label-width=\"250\" style=\"float: left; margin-top: 50px\">\n              <FormItem label=\"机房\"  prop=\"dc\">\n                <Select v-model=\"proxyResource.dc\" filterable allow-create style=\"width: 200px\" placeholder=\"请选择资源所在机房\" @on-create=\"handleCreateDc\">\n                  <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"协议\" prop=\"protocol\" style=\"width: 600px\">\n                <Select v-model=\"proxyResource.protocol\" filterable allow-create style=\"width: 200px\" placeholder=\"请选择或输入Proxy协议\" @on-create=\"handleCreateProtocol\">\n                  <Option v-for=\"item in protocolList\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem label=\"IP\"  prop=\"ip\" style=\"width: 450px\">\n                <Input v-model=\"proxyResource.ip\" placeholder=\"请输入Proxy IP\"/>\n              </FormItem>\n              <FormItem label=\"端口\" prop=\"port\" style=\"width: 600px\">\n                <Select v-model=\"proxyResource.port\" filterable allow-create style=\"width: 200px\" placeholder=\"请选择或输入Proxy端口\" @on-create=\"handleCreatePort\">\n                  <Option v-for=\"item in portList\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </FormItem>\n              <FormItem>\n                <Button @click=\"handleReset()\">重置</Button><br><br>\n                <Button type=\"primary\" @click=\"reviewInputResource ()\">录入</Button>\n              </FormItem>\n              <Modal\n                v-model=\"proxyResource.reviewModal\"\n                title=\"录入确认\"\n                @on-ok=\"inputResource\">\n                确认将资源{{ this.proxyResource.protocol }}://{{ this.proxyResource.ip }}:{{ this.proxyResource.port }}录入{{ this.proxyResource.dc }}吗？\n              </Modal>\n              <Modal\n                v-model=\"proxyResource.resultModal\"\n                title=\"录入结果\">\n                {{ this.result }}\n              </Modal>\n            </Form>\n          </i-col>\n        </Row>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'proxyResource',\n  data () {\n    return {\n      proxyResource: {\n        dc: '',\n        protocol: '',\n        ip: '',\n        port: '',\n        reviewModal: false\n      },\n      ruleproxyResource: {\n        dc: [\n          { required: true, message: '机房不能为空', trigger: 'blur' }\n        ],\n        protocol: [\n          { required: true, message: '协议不能为空', trigger: 'blur' }\n        ],\n        ip: [\n          { required: true, message: 'IP不能为空', trigger: 'blur' }\n        ],\n        port: [\n          { required: true, message: '端口不能为空', trigger: 'blur' }\n        ]\n\n      },\n      protocolList: ['PROXY', 'PROXYTLS'],\n      portList: ['80', '443'],\n      drcZoneList: this.constant.dcList,\n      result: ''\n    }\n  },\n  methods: {\n    reviewInputResource () {\n      console.log('review input: add Proxy %s://%s:%s in %s', this.proxyResource.protocol, this.proxyResource.ip, this.proxyResource.port, this.proxyResource.dc)\n      this.proxyResource.reviewModal = true\n    },\n    inputResource () {\n      const that = this\n      console.log('do input: dc: %s, protocol: %s, ip: %s, port: %s', this.proxyResource.dc, this.proxyResource.protocol, this.proxyResource.ip, this.proxyResource.port)\n      this.axios.post('/api/drc/v1/meta/proxy', {\n        dc: this.proxyResource.dc,\n        protocol: this.proxyResource.protocol,\n        ip: this.proxyResource.ip,\n        port: this.proxyResource.port\n      }).then(response => {\n        console.log('result: %s', response.data)\n        that.result = response.data.data\n        that.proxyResource.reviewModal = false\n        that.proxyResource.resultModal = true\n      })\n    },\n    handleCreateDc (val) {\n      console.log('customize add dc: ' + val)\n      this.drcZoneList.push({\n        value: val,\n        label: val\n      })\n      console.log(this.drcZoneList)\n    },\n    handleCreateProtocol (val) {\n      console.log('customize add protocol: ' + val)\n      this.protocolList.push(val)\n      console.log(this.protocolList)\n    },\n    handleCreatePort (val) {\n      console.log('customize add port: ' + val)\n      this.portList.push(val)\n      console.log(this.portList)\n    },\n    handleReset () {\n      console.log('reset input: add Proxy %s://%s:%s in %s', this.proxyResource.protocol, this.proxyResource.ip, this.proxyResource.port, this.proxyResource.dc)\n      this.proxyResource.dc = ''\n      this.proxyResource.protocol = ''\n      this.proxyResource.ip = ''\n      this.proxyResource.port = ''\n      this.result = ''\n      console.log('reset input result: add Proxy (%s)://(%s):(%s) in (%s)', this.proxyResource.protocol, this.proxyResource.ip, this.proxyResource.port, this.proxyResource.dc)\n    }\n  },\n  created () {\n    this.axios.get('/api/drc/v2/permission/resource/proxy').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n      }\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyResource.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyResource.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./proxyResource.vue?vue&type=template&id=b0415472&scoped=true\"\nimport script from \"./proxyResource.vue?vue&type=script&lang=js\"\nexport * from \"./proxyResource.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0415472\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}