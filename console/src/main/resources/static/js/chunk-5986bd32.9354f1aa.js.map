{"version":3,"sources":["webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?a779","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?4bc4","webpack:///./src/components/v2/dbDrcBuild/tables.vue?7f5d","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue?70a4","webpack:///src/components/v2/dbDrcBuild/dbReplicationConfig.vue","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue?2f3b","webpack:///./src/components/v2/dbDrcBuild/dbReplicationConfig.vue","webpack:///src/components/v2/dbDrcBuild/tables.vue","webpack:///./src/components/v2/dbDrcBuild/tables.vue?af3c","webpack:///./src/components/v2/dbDrcBuild/tables.vue","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue?92fc","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue?a646","webpack:///src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue?a6a7","webpack:///./src/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue","webpack:///src/components/v2/dbDrcBuild/mhaReplicationPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue?aa73","webpack:///./src/components/v2/dbDrcBuild/mhaReplicationPanel.vue","webpack:///src/views/v2/meta/dbDrcBuildV2.vue","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?df9b","webpack:///./src/views/v2/meta/dbDrcBuildV2.vue?7197"],"names":["_vm","this","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","formItem","meta","fixDb","getExistDb","dataLoading","on","selectDb","model","value","callback","$$v","$set","expression","_l","option","index","key","dbName","_s","afterSelectExistReplication","selectedExistReplication","items","srcRegionName","dstRegionName","goToCreateReplication","createModal","existReplicationRegionOptions","_e","drcConfig","logicTableSummaryDtos","configDataLoading","dbNames","getDrcConfig","mhaReplications","staticRenderFns","height","ref","columns","tableData","scopedSlots","_u","fn","row","$event","goToUpdateConfig","goToDeleteConfig","goToInsertConfig","actionTitle","editModal","selectedRow","srcRegion","dstRegion","action","finishConfig","formAction","alertInfo","message","proxy","title","type","indexOf","_k","keyCode","preventDefault","afterEnterTableName","switch","commonColumnLoading","getCommonColumns","rowsFilterCreateParam","constants","rowsFilter","item","mode","name","configInTripUid","fetchModeChange","k","v","columnsFilterCreateParam","colsFilter","handleCreateColumn","tableName","buildMode","Number","buttonTypeMap","get","submitAll","buttonTextMap","component","replication","srcMha","dstMha","String","openModal","openDetailModal","refInFor","dcName","mhaDbReplications","length","goToSwitchAppliers","mhaReplication","mhaApplierDto","mhaColumns"],"mappings":"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C,cAAc,QAAQN,MAAM,CAAC,KAAOT,EAAIoG,cAAcC,IAAIrG,EAAIsE,YAAY,QAAUtE,EAAIoB,aAAepB,EAAIkF,qBAAqB7D,GAAG,CAAC,MAAQrB,EAAIsG,YAAY,CAACtG,EAAIU,GAAGV,EAAIkC,GAAGlC,EAAIuG,cAAcF,IAAIrG,EAAIsE,aAAa,QAAQ,KACxnT,EAAkB,G,4EC2LtB,GACA,oCACA,oBACA,gBACA,YACA,iBAEA,2BACA,OACA,cACA,iBACA,iBACA,cACA,mBAEA,mBACA,gBACA,OACA,MACA,kBACA,kBACA,oBACA,2BAEA,UACA,YACA,YACA,eACA,uDACA,6DACA,YACA,iBACA,mBAGA,QACA,cACA,eAEA,WACA,YACA,YACA,aACA,WACA,gBACA,SACA,gBAEA,WACA,MACA,YACA,YACA,oBAEA,OACA,CACA,gBACA,QAEA,CACA,kBACA,QAEA,CACA,qBACA,QAEA,CACA,cACA,QAEA,CACA,oBACA,SAGA,iBACA,MACA,MACA,KACA,OAEA,wBACA,YAEA,mBACA,CACA,UACA,KAEA,CACA,cACA,KAEA,CACA,cACA,KAEA,CACA,oBACA,OAIA,YACA,OACA,CACA,eACA,QAEA,CACA,eACA,QAEA,CACA,aACA,UAIA,qBAGA,sBACA,OACA,qBACA,kBACA,CACA,YACA,cAEA,CACA,YACA,iBACA,qBACA,YACA,WACA,WACA,gBACA,iBACA,UACA,MACA,CACA,cACA,kBAEA,mCAKA,CACA,aACA,iBACA,qBACA,YACA,WACA,WACA,gBACA,iBACA,UACA,MACA,CACA,cACA,kBAEA,oCAMA,gBACA,QACA,UACA,OACA,4BAEA,kBACA,eACA,CACA,WACA,SACA,eACA,aACA,qBACA,SACA,OACA,aAIA,CACA,WACA,aACA,cAEA,CACA,WACA,YACA,cAEA,CACA,WACA,eACA,qBACA,YACA,iCACA,QACA,gBACA,OACA,UAEA,MAIA,aACA,QACA,UACA,OACA,6BAGA,WACA,QACA,eACA,WACA,cAEA,uBACA,mBACA,iBACA,qBAEA,uBACA,qBACA,mBACA,qBAEA,eACA,iBACA,yBAGA,SACA,qBACA,SAeA,OAdA,8BACA,wBACA,+BACA,+BACA,+BAEA,wBACA,mCAGA,oBACA,oCAEA,8BACA,GAEA,yBACA,SA4BA,OA3BA,8CACA,uBACA,+BACA,+BAEA,oBACA,mCACA,yEACA,0EAEA,0DACA,kCACA,2BACA,yBACA,6GAEA,kEAGA,0BACA,6DAEA,kCACA,0BACA,mEAEA,eACA,GAEA,mMACA,0FACA,kBACA,qBACA,mCACA,CACA,kBACA,UAGA,gCAGA,mDACA,6CACA,sBACA,yEAEA,uCACA,kBAGA,uEACA,sBACA,0DAEA,wFACA,mEACA,mEACA,4DAGA,0CAhCA,IAkCA,mMACA,0FACA,kBACA,qBACA,oCACA,CACA,kBACA,UAGA,gCACA,gDACA,2DAGA,0CAfA,IAiBA,sLAGA,OAFA,gBACA,wCACA,kCACA,oDACA,yBACA,kBACA,kBACA,oDAEA,iDACA,mDAEA,mBACA,oCACA,oBACA,4BACA,0CAjBA,IAmBA,+BACA,yDACA,iBAGA,6BAIA,gDAHA,iBAKA,mMACA,2DADA,IAGA,uBACA,SACA,eACA,wDAMA,cANA,CACA,4BACA,eACA,gBAMA,UAEA,uKACA,0CACA,8BAKA,GAJA,0BACA,oDACA,qDACA,qDACA,sBACA,sDACA,2EAEA,gCACA,2EAEA,sDACA,2EAEA,gCACA,6EAEA,sDACA,0EAEA,4EAvBA,IA0BA,iLASA,OARA,IACA,iBACA,oBACA,2BACA,mBACA,oBAGA,SACA,qEACA,kBACA,aACA,eACA,GACA,2BACA,mBACA,2BACA,yBACA,yBACA,sBAEA,uCACA,oBACA,yBACA,kCAGA,mBACA,gCAEA,oBACA,oBACA,0CAjCA,IAmCA,qCACA,OACA,OACA,yBACA,kBACA,cACA,WACA,WACA,mBACA,cAGA,wCACA,OACA,UACA,cAIA,UACA,6BACA,8BACA,yFACA,gCACA,qCAEA,+BACA,8KAEA,wBACA,kEAEA,+BACA,yGAEA,wBACA,+DAEA,+BACA,+JAEA,+BACA,+JAEA,6BACA,gLAEA,6BACA,2BAGA,mBACA,iBCtrB2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aACA,YAEA,IACA,iBACA,kBAGA,KAGA,CACA,WACA,gBACA,UACA,eACA,2BACA,iBACA,eACA,2DACA,IACA,yKACA,wDACA,qDAFA,IAIA,OACA,2BACA,aACA,eACA,eACA,wBAKA,qBACA,IACA,IADA,QAkBA,OAhBA,gBACA,eACA,4BAEA,EADA,YACA,UAEA,YAGA,QACA,WAGA,QACA,aAEA,SACA,OACA,UAEA,KAGA,CACA,aACA,gBACA,qBACA,iCAGA,CACA,gBACA,gBACA,qBACA,2EAIA,YACA,CACA,WACA,gBACA,UACA,eACA,2BACA,iBACA,eACA,gDACA,IACA,yKACA,2DACA,qDAFA,IAIA,OACA,2BACA,aACA,eACA,eACA,wBAKA,qBACA,IACA,IADA,QAkBA,OAhBA,oBACA,eACA,4BAEA,EADA,YACA,UAEA,YAGA,QACA,WAGA,QACA,aAEA,SACA,OACA,UAEA,KAGA,CACA,WACA,UACA,OACA,qBACA,yBAGA,CACA,gBACA,OACA,qBACA,kDAGA,CACA,iBACA,OACA,qBACA,gDAMA,SACA,sBACA,iCAEA,8KAGA,GAFA,GACA,iCAEA,4CACA,kEAGA,sBACA,2DACA,kBACA,kBACA,2CACA,OAGA,0FACA,yCACA,mFAGA,mBACA,eACA,kCAEA,oBACA,yBACA,0CA3BA,IA6BA,iLACA,GACA,oCACA,qCAEA,sBACA,8DACA,kBACA,wBACA,sCAEA,mBACA,eACA,uCAEA,oBACA,yBACA,0CAjBA,KAoBA,UACA,0BACA,8BACA,8CACA,gCACA,YAGA,mBACA,gBACA,qBCzQ6X,ICOzX,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,oBCcf,GACA,2BACA,uDACA,OACA,uBAEA,kBACA,gBACA,OACA,SACA,mBACA,iBAGA,SACA,sBACA,sCAEA,yCACA,qBACA,kBACA,qBACA,WACA,gBACA,uBAIA,qCACA,yBACA,eACA,oBACA,2DACA,kBACA,aACA,eACA,EACA,2BAEA,0CAGA,mBACA,gCAEA,oBACA,kBACA,iBACA,uBAGA,2BACA,6CACA,OACA,yBACA,yBACA,6CACA,6BAMA,mBACA,iEACA,2DACA,wDACA,oBCnG2X,ICOvX,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,oBC6Cf,GACA,8DACA,gBACA,OACA,aACA,SAEA,eACA,qBACA,gGACA,UACA,mBACA,oBAEA,aACA,MACA,gCACA,8CACA,8CACA,8BACA,iBACA,aACA,oCAIA,SACA,qBACA,SAIA,OAHA,0BACA,wCACA,wCACA,GAEA,sLACA,iFACA,WAGA,OADA,IACA,0BACA,iDACA,QACA,YAGA,kBACA,kBACA,EACA,mBAEA,gCAGA,mBACA,kCAEA,oBACA,oBACA,0CAxBA,IA0BA,wLACA,4DACA,2DAFA,IAIA,kLAIA,GAHA,sBACA,cACA,gBACA,eACA,yBACA,kEAGA,qFAGA,qFAGA,wCACA,qDACA,QACA,gBACA,8BACA,iCAGA,kBACA,kBACA,uBACA,GACA,cACA,kCAEA,8CAGA,mBACA,gCAEA,oBACA,0BACA,2CAtCA,IAwCA,iMACA,uEACA,yCACA,iCACA,iCACA,2DALA,IAOA,wMAIA,OAHA,IACA,iBACA,wCACA,yBACA,sEACA,QACA,mBAGA,kBACA,kBACA,uBACA,GACA,uCACA,+CACA,oFAGA,0BACA,0BACA,mCAGA,mBACA,oCAEA,oBACA,oBACA,0CA7BA,IA+BA,qLACA,gEADA,IAGA,qBACA,sBACA,OACA,wBACA,sCACA,sCACA,yBAGA,uBAGA,uBACA,SACA,eACA,wDAMA,cANA,CACA,4BACA,eACA,gBAMA,WAGA,YACA,8BAEA,sFACA,oBAIA,gBACA,qCACA,kBALA,qCChPoX,ICQhX,G,UAAY,eACd,EACA,EACAO,GACA,EACA,KACA,KACA,OAIa,e","file":"js/chunk-5986bd32.9354f1aa.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/v2/dbDrcBuildV2\"}},[_vm._v(\"DB粒度 DRC 同步\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"18\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"数据库\",\"required\":true}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":!!_vm.meta.fixDb,\"placeholder\":\"请搜索数据库信息\",\"remote-method\":_vm.getExistDb,\"loading\":_vm.dataLoading},on:{\"on-change\":_vm.selectDb},model:{value:(_vm.meta.dbName),callback:function ($$v) {_vm.$set(_vm.meta, \"dbName\", $$v)},expression:\"meta.dbName\"}},_vm._l((_vm.meta.dbOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.dbName}},[_vm._v(\" \"+_vm._s(option.dbName)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"同步方向\",\"required\":true}},[_c('RadioGroup',{attrs:{\"button-style\":\"solid\"},on:{\"on-change\":_vm.afterSelectExistReplication},model:{value:(_vm.selectedExistReplication),callback:function ($$v) {_vm.selectedExistReplication=$$v},expression:\"selectedExistReplication\"}},_vm._l((_vm.meta.existReplicationRegionOptions),function(items){return _c('Radio',{key:items.srcRegionName+' -> '+items.dstRegionName,attrs:{\"label\":items.srcRegionName+' -> '+items.dstRegionName,\"border\":\"\"}},[_vm._v(\" \"+_vm._s(items.srcRegionName + ' -> ' + items.dstRegionName)+\" \")])}),1),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"ghost\":\"\"},on:{\"click\":_vm.goToCreateReplication}},[_vm._v(\"新增\")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":\"创建同步\"},model:{value:(_vm.createModal.open),callback:function ($$v) {_vm.$set(_vm.createModal, \"open\", $$v)},expression:\"createModal.open\"}},[(_vm.createModal.open)?_c('mha-preview',{attrs:{\"db-name\":_vm.meta.dbName,\"replication-type\":0,\"exist-replication-region-options\":_vm.meta.existReplicationRegionOptions},on:{\"updated\":_vm.selectDb}}):_vm._e()],1)],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"同步表\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[_c('tables',{attrs:{\"table-data\":_vm.drcConfig.logicTableSummaryDtos,\"data-loading\":_vm.configDataLoading,\"src-region\":_vm.meta.srcRegionName,\"dst-region\":_vm.meta.dstRegionName,\"db-name\":_vm.meta.dbName,\"db-names\":_vm.drcConfig.dbNames},on:{\"updated\":_vm.getDrcConfig}})],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"同步DB\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[(_vm.drcConfig.mhaReplications)?_c('mha-replication-panel',{attrs:{\"mha-replications\":_vm.drcConfig.mhaReplications},on:{\"updated\":_vm.getDrcConfig}}):_vm._e()],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Table',{ref:\"multipleTable\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.dataLoading,\"border\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdateConfig(row, index)}}},[_vm._v(\"修改 \")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDeleteConfig(row, index)}}},[_vm._v(\"删除 \")])]}}])}),_c('br'),_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"md-add\"},on:{\"click\":_vm.goToInsertConfig}},[_vm._v(\" 新增 \")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":_vm.actionTitle},model:{value:(_vm.editModal.open),callback:function ($$v) {_vm.$set(_vm.editModal, \"open\", $$v)},expression:\"editModal.open\"}},[(_vm.editModal.open)?_c('db-replication-config',{ref:\"dbReplicationConfigComponent\",attrs:{\"config-data\":_vm.selectedRow,\"src-region\":_vm.srcRegion,\"dst-region\":_vm.dstRegion,\"db-names\":_vm.dbNames,\"form-action\":_vm.action},on:{\"finished\":_vm.finishConfig}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"13\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"disabled\":_vm.formAction === 'delete',\"label-width\":100}},[(_vm.alertInfo.show)?_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),(_vm.alertInfo.successShow)?_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),_c('FormItem',{attrs:{\"prop\":\"dbName\",\"label\":\"库名\",\"required\":true}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":true,\"readonly\":true,\"border\":false,\"placeholder\":\"请输入库名（支持正则）\"},model:{value:(_vm.formItem.dbName),callback:function ($$v) {_vm.$set(_vm.formItem, \"dbName\", $$v)},expression:\"formItem.dbName\"}})],1),_c('FormItem',{attrs:{\"label\":\"同步表\",\"required\":true}},[_c('Input',{attrs:{\"placeholder\":\"请输入正则表达式\"},on:{\"on-keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"on-blur\":_vm.afterEnterTableName},model:{value:(_vm.formItem.tableName),callback:function ($$v) {_vm.$set(_vm.formItem, \"tableName\", $$v)},expression:\"formItem.tableName\"}})],1),_c('FormItem',{attrs:{\"label\":\"行过滤\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.rowsFilter),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"rowsFilter\", $$v)},expression:\"formItem.switch.rowsFilter\"}})],1),(_vm.formItem.switch.rowsFilter)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 行过滤配置 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,571298879)},[_c('FormItem',{attrs:{\"label\":\"模式\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择行过滤模式\"},model:{value:(_vm.formItem.rowsFilterCreateParam.mode),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"mode\", $$v)},expression:\"formItem.rowsFilterCreateParam.mode\"}},_vm._l((_vm.formItem.constants.rowsFilter.modes),function(item){return _c('Option',{key:item.mode,attrs:{\"value\":item.mode}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),(_vm.useTripUdlOrUidMode)?_c('div',[(_vm.fillContextByRegion)?_c('FormItem',{attrs:{\"label\":\"规则内容\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"Region 选择\"},model:{value:(_vm.formItem.rowsFilter.configInTripUid.regionsChosen),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilter.configInTripUid, \"regionsChosen\", $$v)},expression:\"formItem.rowsFilter.configInTripUid.regionsChosen\"}},_vm._l((_vm.formItem.constants.rowsFilter.regionsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1):_vm._e(),(_vm.showUdlConfigDetail)?_c('div',[_c('Divider',[_vm._v(\"UDL配置\")]),_c('FormItem',{attrs:{\"label\":\"UDL字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"disabled\":_vm.commonColumnLoading,\"placeholder\":\"不选默认则无UDL配置\"},model:{value:(_vm.formItem.rowsFilterCreateParam.udlColumns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"udlColumns\", $$v)},expression:\"formItem.rowsFilterCreateParam.udlColumns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1),(_vm.hasUdlColumn)?_c('FormItem',{attrs:{\"label\":\"DRC UDL策略id\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择ucs策略id\"},model:{value:(_vm.formItem.rowsFilterCreateParam.drcStrategyId),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"drcStrategyId\", $$v)},expression:\"formItem.rowsFilterCreateParam.drcStrategyId\"}},_vm._l((_vm.formItem.constants.rowsFilter.drcStrategyIdsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1):_vm._e()],1):_vm._e(),(_vm.showUidConfigDetail)?_c('div',[_c('Divider',[_vm._v(\"UID配置\")]),_c('FormItem',{attrs:{\"label\":\"UID字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"disabled\":_vm.commonColumnLoading,\"placeholder\":\"不选默认则无UID配置\"},model:{value:(_vm.formItem.rowsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.rowsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1),(_vm.hasUidColumn)?_c('FormItem',{attrs:{\"label\":\"fetchMode\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择\"},on:{\"on-change\":function($event){return _vm.fetchModeChange()}},model:{value:(_vm.formItem.rowsFilterCreateParam.fetchMode),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"fetchMode\", $$v)},expression:\"formItem.rowsFilterCreateParam.fetchMode\"}},_vm._l((_vm.formItem.constants.rowsFilter.fetchModeForChose),function(item){return _c('Option',{key:item.k,attrs:{\"value\":item.v}},[_vm._v(\" \"+_vm._s(item.k)+\" \")])}),1)],1):_vm._e(),(_vm.hasUidColumn)?_c('FormItem',{attrs:{\"label\":\"空处理\"}},[_c('Checkbox',{model:{value:(_vm.formItem.rowsFilterCreateParam.illegalArgument),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"illegalArgument\", $$v)},expression:\"formItem.rowsFilterCreateParam.illegalArgument\"}},[_vm._v(\"【字段为空时】同步\")])],1):_vm._e()],1):_vm._e()],1):_c('div',[_c('FormItem',{attrs:{\"label\":\"规则内容\"}},[_c('Input',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入行过滤内容\"},model:{value:(_vm.formItem.rowsFilterCreateParam.context),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"context\", $$v)},expression:\"formItem.rowsFilterCreateParam.context\"}})],1),_c('FormItem',{attrs:{\"label\":\"相关字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"placeholder\":\"选择相关字段\"},model:{value:(_vm.formItem.rowsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.rowsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.rowsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item,\"lable\":item}})}),1)],1)],1)],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"列过滤\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.colsFilter),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"colsFilter\", $$v)},expression:\"formItem.switch.colsFilter\"}})],1),(_vm.formItem.switch.colsFilter)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 列过滤配置 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,2228726756)},[_c('FormItem',{attrs:{\"label\":\"模式\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"选择字段过滤模式\"},model:{value:(_vm.formItem.columnsFilterCreateParam.mode),callback:function ($$v) {_vm.$set(_vm.formItem.columnsFilterCreateParam, \"mode\", $$v)},expression:\"formItem.columnsFilterCreateParam.mode\"}},_vm._l((_vm.formItem.constants.colsFilter.modes),function(item){return _c('Option',{key:item.mode,attrs:{\"value\":item.mode}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"multiple\":\"\",\"placeholder\":\"选择相关的字段\",\"disabled\":_vm.commonColumnLoading},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.formItem.columnsFilterCreateParam.columns),callback:function ($$v) {_vm.$set(_vm.formItem.columnsFilterCreateParam, \"columns\", $$v)},expression:\"formItem.columnsFilterCreateParam.columns\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item)+\" \")])}),1)],1)],1):_vm._e(),_c('br'),_c('Row',[_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"8\"}}),_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"4\"}})],1)],1)],1),_c('Col',{attrs:{\"span\":\"11\"}},[_c('db-tables-preview',{attrs:{\"src-region-name\":_vm.srcRegion,\"dst-region-name\":_vm.dstRegion,\"db-name\":_vm.formItem.dbName,\"table-names\":_vm.formItem.tableName,\"mode\":_vm.formItem.buildMode,\"replication-type\":Number(0)}})],1)],1),_c('Divider'),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"type\":_vm.buttonTypeMap.get(_vm.formAction),\"loading\":_vm.dataLoading || _vm.commonColumnLoading},on:{\"click\":_vm.submitAll}},[_vm._v(_vm._s(_vm.buttonTextMap.get(_vm.formAction))+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Row :gutter=10 align=\"middle\">\n      <Col span=\"13\">\n        <Form :model=\"formItem\" :disabled=\"formAction === 'delete'\" :label-width=\"100\"\n              style=\"margin-right: 20px;margin-top: 10px\">\n          <Alert type=\"warning\" show-icon v-if=\"alertInfo.show\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <Alert type=\"success\" show-icon v-if=\"alertInfo.successShow\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <FormItem prop=\"dbName\" label=\"库名\" :required=true>\n            <Input type=\"textarea\" v-model=\"formItem.dbName\" :autosize=\"true\" :readonly=\"true\" :border=\"false\"\n                   placeholder=\"请输入库名（支持正则）\"/>\n          </FormItem>\n          <FormItem label=\"同步表\" :required=true>\n            <Input @on-keydown.space.prevent v-model=\"formItem.tableName\" placeholder=\"请输入正则表达式\"\n                   @on-blur=\"afterEnterTableName\"></Input>\n          </FormItem>\n          <FormItem label=\"行过滤\">\n            <i-switch v-model=\"formItem.switch.rowsFilter\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.rowsFilter\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              行过滤配置\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"模式\">\n              <Select v-model=\"formItem.rowsFilterCreateParam.mode\" style=\"width: 200px\" placeholder=\"选择行过滤模式\">\n                <Option v-for=\"item in formItem.constants.rowsFilter.modes\" :value=\"item.mode\" :key=\"item.mode\">\n                  {{ item.name }}\n                </Option>\n              </Select>\n            </FormItem>\n            <div v-if=\"useTripUdlOrUidMode\">\n              <FormItem label=\"规则内容\" v-if=\"fillContextByRegion\">\n                <Select v-model=\"formItem.rowsFilter.configInTripUid.regionsChosen\" multiple\n                        style=\"width: 200px\" placeholder=\"Region 选择\">\n                  <Option v-for=\"item in formItem.constants.rowsFilter.regionsForChose\" :value=\"item\" :key=\"item\">\n                    {{ item }}\n                  </Option>\n                </Select>\n              </FormItem>\n              <div v-if=\"showUdlConfigDetail\">\n                <Divider>UDL配置</Divider>\n                <FormItem label=\"UDL字段\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.udlColumns\" filterable allow-create multiple\n                          :disabled=\"commonColumnLoading\"\n                          style=\"width: 200px\" placeholder=\"不选默认则无UDL配置\">\n                    <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                        item\n                      }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem label=\"DRC UDL策略id\" v-if=\"hasUdlColumn\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.drcStrategyId\" filterable allow-create\n                          style=\"width: 200px\"\n                          placeholder=\"请选择ucs策略id\">\n                    <Option v-for=\"item in formItem.constants.rowsFilter.drcStrategyIdsForChose\" :value=\"item\"\n                            :key=\"item\">{{ item }}\n                    </Option>\n                  </Select>\n                </FormItem>\n              </div>\n              <div v-if=\"showUidConfigDetail\">\n                <Divider>UID配置</Divider>\n                <FormItem label=\"UID字段\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.columns\" filterable allow-create multiple\n                          :disabled=\"commonColumnLoading\"\n                          style=\"width: 200px\" placeholder=\"不选默认则无UID配置\">\n                    <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                        item\n                      }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem label=\"fetchMode\" v-if=\"hasUidColumn\">\n                  <Select v-model=\"formItem.rowsFilterCreateParam.fetchMode\" style=\"width: 200px\" placeholder=\"选择\"\n                          @on-change=\"fetchModeChange()\">\n                    <Option v-for=\"item in formItem.constants.rowsFilter.fetchModeForChose\" :value=\"item.v\"\n                            :key=\"item.k\">\n                      {{ item.k }}\n                    </Option>\n                  </Select>\n                </FormItem>\n                <FormItem v-if=\"hasUidColumn\" label=\"空处理\">\n                  <Checkbox v-model=\"formItem.rowsFilterCreateParam.illegalArgument\">【字段为空时】同步</Checkbox>\n                </FormItem>\n              </div>\n            </div>\n            <div v-else>\n              <FormItem label=\"规则内容\">\n                <Input type=\"textarea\"\n                       v-model=\"formItem.rowsFilterCreateParam.context\" style=\"width: 250px\"\n                       placeholder=\"请输入行过滤内容\"/>\n              </FormItem>\n              <FormItem label=\"相关字段\">\n                <Select v-model=\"formItem.rowsFilterCreateParam.columns\" filterable allow-create multiple\n                        style=\"width: 200px\" placeholder=\"选择相关字段\">\n                  <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\"\n                          :lable=\"item\"></Option>\n                </Select>\n              </FormItem>\n            </div>\n          </Card>\n\n          <FormItem label=\"列过滤\">\n            <i-switch v-model=\"formItem.switch.colsFilter\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.colsFilter\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              列过滤配置\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"模式\">\n              <Select v-model=\"formItem.columnsFilterCreateParam.mode\" style=\"width: 200px\"\n                      placeholder=\"选择字段过滤模式\">\n                <Option v-for=\"item in formItem.constants.colsFilter.modes\" :value=\"item.mode\" :key=\"item.mode\">\n                  {{ item.name }}\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"字段\">\n              <Select v-model=\"formItem.columnsFilterCreateParam.columns\" filterable allow-create\n                      @on-create=\"handleCreateColumn\" multiple style=\"width: 200px\" placeholder=\"选择相关的字段\"\n                      :disabled=\"commonColumnLoading\">\n                <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{\n                    item\n                  }}\n                </Option>\n              </Select>\n            </FormItem>\n          </Card>\n          <br/>\n          <Row>\n            <Col span=\"6\" offset=\"8\"></Col>\n            <Col span=\"6\" offset=\"4\">\n            </Col>\n          </Row>\n        </Form>\n      </Col>\n      <Col span=\"11\">\n        <db-tables-preview :src-region-name=\"srcRegion\"\n                           :dst-region-name=\"dstRegion\"\n                           :db-name=\"formItem.dbName\"\n                           :table-names=\"formItem.tableName\"\n                           :mode=\"formItem.buildMode\"\n                           :replication-type=\"Number(0)\"\n        />\n      </Col>\n    </Row>\n    <Divider></Divider>\n    <Button :type=\"buttonTypeMap.get(formAction)\" @click=\"submitAll\" style=\"margin-left: 50px\"\n            :loading=\"dataLoading || commonColumnLoading\">{{\n        buttonTextMap.get(formAction)\n      }}\n    </Button>\n  </div>\n</template>\n\n<script>\n\nimport DbTablesPreview from '@/components/v2/dbDrcBuild/dbTablesPreview.vue'\n\nexport default {\n  components: { DbTablesPreview },\n  FORM_ACTION_OPTION: {\n    CREATE: 'create',\n    EDIT: 'edit',\n    DELETE: 'delete'\n  },\n  name: 'dbReplicationConfig',\n  props: {\n    configData: {},\n    srcRegion: String,\n    dstRegion: String,\n    dbNames: Array,\n    formAction: String\n  },\n  emits: ['finished'],\n  data () {\n    return {\n      meta: {\n        rowsFilterId: null,\n        colsFilterId: null,\n        dbReplicationIds: [],\n        originLogicTableConfig: {}\n      },\n      formItem: {\n        buildMode: 2,\n        dbName: null,\n        tableName: null,\n        rowsFilterCreateParam: this.rowsFilterCreateParamInit(),\n        columnsFilterCreateParam: this.columnsFilterCreateParamInit(),\n        rowsFilter: {\n          configInTripUid: {\n            regionsChosen: []\n          }\n        },\n        switch: {\n          rowsFilter: false,\n          colsFilter: false\n        },\n        constants: {\n          rowsFilter: {\n            filterMode: {\n              JAVA_REGEX: 0,\n              TRIP_UDL: 1,\n              AVIATOR_REGEX: 3,\n              CUSTOM: 4,\n              TRIP_UDL_UID: 5\n            },\n            fetchMode: {\n              RPC: 0,\n              BlackList: 1,\n              WhiteList: 2,\n              BlackList_Global: 3\n            },\n            modes: [\n              {\n                name: 'trip_udl',\n                mode: 1\n              },\n              {\n                name: 'java_regex',\n                mode: 0\n              },\n              {\n                name: 'aviator_regex',\n                mode: 3\n              },\n              {\n                name: 'custom',\n                mode: 4\n              },\n              {\n                name: 'trip_udl_uid',\n                mode: 5\n              }\n            ],\n            regionsForChose: [\n              'SGP',\n              'SIN',\n              'SH',\n              'FRA'\n            ],\n            drcStrategyIdsForChose: [\n              2000000002\n            ],\n            fetchModeForChose: [\n              {\n                k: 'RPC调用',\n                v: 0\n              },\n              {\n                k: 'BlackList',\n                v: 1\n              },\n              {\n                k: 'WhiteList',\n                v: 2\n              },\n              {\n                k: 'BlackListGlobal',\n                v: 3\n              }\n            ]\n          },\n          colsFilter: {\n            modes: [\n              {\n                name: 'exclude',\n                mode: 0\n              },\n              {\n                name: 'include',\n                mode: 1\n              },\n              {\n                name: 'regex',\n                mode: 2\n              }\n            ]\n          },\n          columnsForChose: []\n        }\n      },\n      checkTableDataList: [],\n      table: {\n        dbMhaTableLoading: false,\n        dbMhaTableColumn: [\n          {\n            title: 'DB名',\n            key: 'dbName'\n          },\n          {\n            title: '源集群',\n            key: 'srcMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.srcMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          },\n          {\n            title: '目标集群',\n            key: 'dstMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.dstMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                      {\n                        float: 'right',\n                        color: '#ababab'\n                      }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          }\n        ],\n        dbMhaTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        },\n        dbTableLoading: false,\n        dbTableColumn: [\n          {\n            title: '序号',\n            width: 75,\n            align: 'center',\n            fixed: 'left',\n            render: (h, params) => {\n              return h(\n                'span',\n                params.index + 1\n              )\n            }\n          },\n          {\n            title: '库名',\n            key: 'schema',\n            resizable: true\n          },\n          {\n            title: '表名',\n            key: 'table',\n            resizable: true\n          },\n          {\n            title: '结果',\n            align: 'center',\n            render: (h, params) => {\n              const row = params.row\n              const color = row.res !== 'ok' ? 'volcano' : 'green'\n              const text = row.res\n              return h('Tag', {\n                props: {\n                  color: color\n                }\n              }, text)\n            }\n          }\n        ],\n        dbTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      },\n      alertInfo: {\n        show: false,\n        successShow: false,\n        title: null,\n        message: null\n      },\n      buttonTextMap: new Map([\n        ['create', '新增表同步'],\n        ['edit', '更新表同步'],\n        ['delete', '删除表同步']\n      ]),\n      buttonTypeMap: new Map([\n        ['create', 'success'],\n        ['edit', 'primary'],\n        ['delete', 'error']\n      ]),\n      dataLoading: false,\n      successSubmit: false,\n      commonColumnLoading: false\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.buName = this.formItem.buName\n      param.tag = this.formItem.tag\n      param.mode = this.formItem.buildMode\n      param.srcRegionName = this.srcRegion\n      param.dstRegionName = this.dstRegion\n\n      if (this.gtidConfigurable) {\n        param.gtidInit = this.formItem.gtidInit\n      }\n\n      param.tblsFilterDetail = {\n        tableNames: this.formItem.tableName\n      }\n      param.dbName = this.formItem.dbName\n      return param\n    },\n    getEditParams: function () {\n      const param = {}\n      param.dbReplicationIds = this.meta.dbReplicationIds\n      param.dbNames = this.dbNames\n      param.srcRegionName = this.srcRegion\n      param.dstRegionName = this.dstRegion\n\n      param.logicTableConfig = {\n        logicTable: this.formItem.tableName,\n        rowsFilterId: this.formItem.switch.rowsFilter ? this.meta.rowsFilterId : null,\n        colsFilterId: this.formItem.switch.colsFilter ? this.meta.colsFilterId : null\n      }\n      param.originLogicTableConfig = this.meta.originLogicTableConfig\n      if (this.formItem.switch.rowsFilter) {\n        if (this.useTripUdlOrUidMode) {\n          if (this.fillContextByRegion) {\n            this.formItem.rowsFilterCreateParam.context = this.formItem.rowsFilter.configInTripUid.regionsChosen.join(',')\n          } else {\n            this.formItem.rowsFilterCreateParam.context = '//filter by config'\n          }\n        }\n        param.openRowsFilterConfig = true\n        param.rowsFilterCreateParam = this.formItem.rowsFilterCreateParam\n      }\n      if (this.formItem.switch.colsFilter) {\n        param.openColsFilterConfig = true\n        param.columnsFilterCreateParam = this.formItem.columnsFilterCreateParam\n      }\n      console.log(param)\n      return param\n    },\n    async getRowsFilterConfig () {\n      await this.axios.get('/api/drc/v2/autoconfig/getRowsFilterView?rowsFilterId=' + this.meta.rowsFilterId)\n        .then(response => {\n          if (response.data.status === 1) {\n            this.$Message.error('查询行过滤配置失败!')\n          } else {\n            const res = response.data.data\n            if (res == null) {\n              // empty config\n            } else {\n              this.formItem.switch.rowsFilter = true\n              // rowsFilterConfig.context和onfigInTripUid.regionsChosen要放在前面\n              // 不然会失效\n              this.formItem.rowsFilterCreateParam.context = res.context\n              this.formItem.rowsFilterCreateParam.mode = res.mode\n              if (this.useTripUdlOrUidMode) {\n                this.formItem.rowsFilter.configInTripUid.regionsChosen = res.context.split(',')\n              } else {\n                this.formItem.rowsFilter.configInTripUid = {\n                  regionsChosen: []\n                }\n              }\n              this.formItem.rowsFilterCreateParam.columns = res.columns === null ? [] : res.columns\n              if (res.udlColumns !== null) {\n                this.formItem.rowsFilterCreateParam.udlColumns = res.udlColumns\n              }\n              this.formItem.rowsFilterCreateParam.drcStrategyId = res.drcStrategyId === 0 ? null : res.drcStrategyId\n              this.formItem.rowsFilterCreateParam.routeStrategyId = res.routeStrategyId\n              this.formItem.rowsFilterCreateParam.illegalArgument = res.illegalArgument\n              this.formItem.rowsFilterCreateParam.fetchMode = res.fetchMode\n            }\n          }\n        })\n    },\n    async getColsFilterConfig () {\n      await this.axios.get('/api/drc/v2/autoconfig/getColsFilterView?colsFilterId=' + this.meta.colsFilterId)\n        .then(response => {\n          if (response.data.status === 1) {\n            this.$Message.error('查询字段过滤配置失败!')\n          } else {\n            const res = response.data.data\n            if (res == null) {\n              // empty config\n            } else {\n              this.formItem.switch.colsFilter = true\n              this.formItem.columnsFilterCreateParam.mode = res.mode\n              this.formItem.columnsFilterCreateParam.columns = res.columns\n            }\n          }\n        })\n    },\n    async getCommonColumns () {\n      const params = this.getParams()\n      this.formItem.constants.columnsForChose = []\n      this.commonColumnLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/commonColumns', {\n        params: this.flattenObj(params)\n      }).then(response => {\n        if (response.data.status === 1) {\n          this.$Message.error('查询公共列名失败，请手动添加：' + response.data.message)\n        } else {\n          this.formItem.constants.columnsForChose = response.data.data\n          this.$Message.info('查询公共列名数：' + response.data.data.length)\n        }\n      }).catch(message => {\n        this.$Message.error('查询公共列名异常: ' + message)\n      }).finally(() => {\n        this.commonColumnLoading = false\n      })\n    },\n    handleCreateColumn (val) {\n      if (this.contains(this.formItem.constants.columnsForChose, val)) {\n        alert('已有项禁止创建')\n        return\n      }\n      if (val === '' || val === undefined || val === null) {\n        alert('字段不能为空')\n        return\n      }\n      this.formItem.constants.columnsForChose.push(val)\n    },\n    async afterEnterTableName () {\n      await this.getTableInfo()\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    async refresh () {\n      this.formItem.dbName = this.dbNames.join(',')\n      if (this.configData) {\n        console.log('edit panel')\n        this.formItem.tableName = this.configData.config.logicTable\n        this.meta.rowsFilterId = this.configData.config.rowsFilterId\n        this.meta.colsFilterId = this.configData.config.colsFilterId\n        this.getCommonColumns()\n        if (this.meta.rowsFilterId) {\n          await this.getRowsFilterConfig(this.meta.rowsFilterId)\n        } else {\n          this.formItem.switch.rowsFilter = false\n          this.formItem.rowsFilterCreateParam = this.rowsFilterCreateParamInit()\n        }\n        if (this.meta.colsFilterId) {\n          await this.getColsFilterConfig(this.meta.colsFilterId)\n        } else {\n          this.formItem.switch.colsFilter = false\n          this.formItem.columnsFilterCreateParam = this.columnsFilterCreateParamInit()\n        }\n        this.meta.dbReplicationIds = this.configData.dbReplicationIds\n        this.meta.originLogicTableConfig = this.configData.config\n      } else {\n        console.log('insert new config')\n      }\n    },\n    async submitAll () {\n      const that = this\n      that.dataLoading = true\n      that.alertInfo.show = false\n      that.alertInfo.successShow = false\n      that.successSubmit = false\n      const params = this.getEditParams()\n      // if (!this.checkParam(params)) {\n      //   return\n      // }\n      await that.axios.post('/api/drc/v2/autoconfig/dbReplication/' + this.formAction, params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            that.$Message.success('提交成功')\n            that.successSubmit = true\n            that.alertInfo.successShow = true\n            that.alertInfo.message = null\n            that.alertInfo.title = '提交成功'\n            that.$emit('finished')\n          } else {\n            that.$Message.warning('提交失败: ' + data.message)\n            that.alertInfo.show = true\n            that.alertInfo.title = '提交失败'\n            that.alertInfo.message = data.message\n          }\n        })\n        .catch(message => {\n          that.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    rowsFilterCreateParamInit () {\n      return {\n        mode: 1,\n        drcStrategyId: 2000000002,\n        routeStrategyId: 0,\n        udlColumns: [],\n        columns: [],\n        context: '',\n        illegalArgument: false,\n        fetchMode: 0\n      }\n    },\n    columnsFilterCreateParamInit () {\n      return {\n        mode: null,\n        columns: []\n      }\n    }\n  },\n  computed: {\n    preCheckTablePage () {\n      const data = this.checkTableDataList\n      const start = this.table.dbTablePage.current * this.table.dbTablePage.size - this.table.dbTablePage.size\n      const end = start + this.table.dbTablePage.size\n      return [...data].slice(start, end)\n    },\n    useTripUdlOrUidMode () {\n      return [this.formItem.constants.rowsFilter.filterMode.TRIP_UDL, this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(this.formItem.rowsFilterCreateParam.mode)\n    },\n    hasUdlColumn () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0\n    },\n    fillContextByRegion () {\n      return this.formItem.rowsFilterCreateParam.fetchMode === this.formItem.constants.rowsFilter.fetchMode.RPC\n    },\n    hasUidColumn () {\n      return this.formItem.rowsFilterCreateParam.columns.length !== 0\n    },\n    showUdlConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUdlLegalConfig || !this.hasUidLegalConfig\n    },\n    showUidConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUidLegalConfig || !this.hasUdlLegalConfig\n    },\n    hasUdlLegalConfig () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0 && this.formItem.rowsFilterCreateParam.drcStrategyId != null && this.formItem.rowsFilterCreateParam.drcStrategyId > 0\n    },\n    hasUidLegalConfig () {\n      return this.hasUidColumn\n    }\n  },\n  created () {\n    this.refresh()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbReplicationConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbReplicationConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dbReplicationConfig.vue?vue&type=template&id=fbaf1956&scoped=true&\"\nimport script from \"./dbReplicationConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./dbReplicationConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fbaf1956\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Table style=\"margin-top: 20px\" stripe :columns=\"columns\" :data=\"tableData\" :loading=\"dataLoading\" border\n           ref=\"multipleTable\">\n      <template slot=\"action\" slot-scope=\"{ row, index }\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdateConfig(row, index)\">修改\n        </Button>\n        <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToDeleteConfig(row, index)\">删除\n        </Button>\n      </template>\n    </Table>\n    <br/>\n    <Button type=\"success\" @click=\"goToInsertConfig\" icon=\"md-add\">\n      新增\n    </Button>\n    <Modal v-model=\"editModal.open\" width=\"1200px\" :footer-hide=\"true\" :title=\"actionTitle\">\n      <db-replication-config ref=\"dbReplicationConfigComponent\" @finished=\"finishConfig\"\n                             v-if=\"editModal.open\"\n                             :config-data=\"selectedRow\"\n                             :src-region=\"srcRegion\"\n                             :dst-region=\"dstRegion\"\n                             :db-names=\"dbNames\"\n                             :form-action=\"action\"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport DbReplicationConfig from '@/components/v2/dbDrcBuild/dbReplicationConfig.vue'\n\nexport default {\n  name: 'tables',\n  components: { DbReplicationConfig },\n  props: {\n    dbName: String,\n    dbNames: Array,\n    srcRegion: String,\n    dstRegion: String,\n    tableData: Array,\n    dataLoading: Boolean\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      selectedRow: {},\n      action: null,\n      actionTitleMap: new Map([\n        ['create', '新增 表同步'],\n        ['edit', '更新 表同步'],\n        ['delete', '⚠️删除 表同步']\n      ]),\n      editModal: {\n        open: false\n      },\n      columns: [\n        {\n          title: '表名',\n          key: 'config',\n          minWidth: 300,\n          render: (h, params) => {\n            const row = params.row\n            return h('div', row.config.logicTable)\n          }\n        },\n        {\n          title: '过滤规则',\n          key: 'filterTypes',\n          minWidth: 100,\n          render: (h, params) => {\n            const row = params.row\n            const rowsFilterId = row.config.rowsFilterId\n            const colsFilterId = row.config.colsFilterId\n            if (!rowsFilterId && !colsFilterId) {\n              return h('Tag', {\n                props: {\n                  color: 'red'\n                }\n              }, '无')\n            } else {\n              return h('div', [\n                rowsFilterId && h('Tag', {\n                  props: {\n                    color: 'blue'\n                  }\n                }, '行过滤'),\n                colsFilterId && h('Tag', {\n                  props: {\n                    color: 'green'\n                  }\n                }, '字段过滤')\n              ])\n            }\n          }\n        },\n        {\n          title: '操作',\n          minWidth: 100,\n          slot: 'action',\n          align: 'center',\n          fixed: 'right'\n        }\n      ]\n    }\n  },\n  methods: {\n    async goToInsertConfig () {\n      this.selectedRow = null\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.CREATE\n      this.editModal.open = true\n    },\n    async goToUpdateConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.EDIT\n      this.editModal.open = true\n    },\n    async goToDeleteConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbReplicationConfig.FORM_ACTION_OPTION.DELETE\n      this.editModal.open = true\n    },\n    finishConfig () {\n      this.selectedRow = null\n      this.editModal.open = false\n      this.$emit('updated')\n    }\n  },\n  computed: {\n    actionTitle () {\n      return this.actionTitleMap.get(this.action)\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tables.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tables.vue?vue&type=template&id=6250ec54&scoped=true&\"\nimport script from \"./tables.vue?vue&type=script&lang=js&\"\nexport * from \"./tables.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6250ec54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Collapse',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.mhaReplications),function(replication,index){return _c('Panel',{key:replication.srcMha.name +'->'+replication.dstMha.name,attrs:{\"name\":String(index)},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"icon\":\"ios-open-outline\"},on:{\"click\":function($event){return _vm.openModal(index)}}},[_vm._v(\" 打开详情\")]),_c('mha-db-replication-panel',{attrs:{\"mha-replication\":replication}}),_c('Modal',{attrs:{\"width\":\"1500px\",\"footer-hide\":true},model:{value:(_vm.openDetailModal[index]),callback:function ($$v) {_vm.$set(_vm.openDetailModal, index, $$v)},expression:\"openDetailModal[index]\"}},[(_vm.openDetailModal[index])?_c('drc-build-v2',{ref:\"dbReplicationConfigComponent\",refInFor:true,attrs:{\"src-mha-name\":replication.srcMha.name,\"src-dc\":replication.srcMha.dcName,\"dst-mha-name\":replication.dstMha.name,\"dst-dc\":replication.dstMha.dcName}}):_vm._e()],1)]},proxy:true}],null,true)},[_vm._v(\" \"+_vm._s(replication.srcMha.name + ' -> ' + replication.dstMha.name + ' ------ ['+ ([replication.mhaDbReplications.length] +'DB]'))+\" \")])}),1),_c('br'),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-sync\"},on:{\"click\":_vm.goToSwitchAppliers}},[_vm._v(\" 切换Applier生效配置 \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.mhaReplication.mhaApplierDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.mhaDbReplications}}):_vm._e(),(_vm.mhaReplication.mhaApplierDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.mhaColumns,\"data\":[_vm.mhaReplication]}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div>\n    <Table stripe border :columns=\"columns\" :data=\"mhaDbReplications\" v-if=\"!mhaReplication.mhaApplierDto\">\n    </Table>\n    <Table stripe border :columns=\"mhaColumns\" :data=\"[mhaReplication]\" v-if=\"mhaReplication.mhaApplierDto\">\n    </Table>\n  </div>\n\n</template>\n\n<script>\nimport prettyMilliseconds from 'pretty-ms'\n\nexport default {\n  name: 'mhaDbReplicationPanel',\n  props: {\n    mhaReplication: {}\n  },\n  data () {\n    return {\n      mhaDbReplications: this.mhaReplication.mhaDbReplications,\n      value: ['1'],\n      delayDataLoading: false,\n      columns: [\n        {\n          title: '类型',\n          width: 80,\n          render: (h, params) => {\n            const row = params.row\n            let text = 'none'\n            let type = 'error'\n            let disabled = false\n            switch (row.transmissionType) {\n              case 'simplex':\n                text = '单'\n                type = 'info'\n                break\n              case 'duplex':\n                text = '双'\n                type = 'success'\n                break\n              default:\n                text = '无'\n                disabled = true\n                break\n            }\n            return h('Button', {\n              props: {\n                type: type,\n                size: 'small',\n                disabled: disabled\n              },\n              on: {\n                click: () => {\n                  this.showModal(row)\n                }\n              }\n            }, text)\n          }\n        },\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.replicationIds && this.replicationIds.length !== 0 && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.drcStatus === true) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.src.dbName)\n          }\n        },\n        {\n          title: 'applier',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.dbApplierDto ? params.row.dbApplierDto.ips.join(', ') : null)\n          }\n        }\n      ],\n      mhaColumns: [\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.mhaReplication.mhaApplierDto.ips && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getMhaDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.mhaApplierDto.ips) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '类型',\n          width: 100,\n          key: '',\n          render: (h, params) => {\n            return h('p', 'mha 同步')\n          }\n        },\n        {\n          title: 'applier',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaApplierDto.ips.join(','))\n          }\n        },\n        {\n          title: 'initGtid',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaApplierDto.gtidInit)\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    showModal (row) {\n      this.$Message.info('还未上线，敬请期待')\n    },\n    async getDelay () {\n      const param = {\n        replicationIds: this.replicationIds\n      }\n      if (param.replicationIds.length === 0) {\n        console.log('skip delay search')\n        return\n      }\n      this.delayDataLoading = true\n      this.axios.get('/api/drc/v2/replication/db/delay', { params: param })\n        .then(response => {\n          const delays = response.data.data\n          const emptyResult = delays == null || !Array.isArray(delays) || delays.length === 0\n          if (emptyResult) {\n            return\n          }\n          const dataMap = new Map(delays.map(e => [e.srcMha + '->' + e.dstMha + '->' + e.dbName, e.delay]))\n          this.mhaDbReplications.forEach(line => {\n            this.$set(line, 'delay', dataMap.get(line.src.mhaName + '->' + line.dst.mhaName + '->' + line.src.dbName))\n          })\n        })\n        .catch(message => {\n          console.log(message)\n          this.$Message.error('查询延迟异常: ' + message)\n        })\n        .finally(() => {\n          this.delayDataLoading = false\n        })\n    },\n    async getMhaDelay () {\n      const param = {\n        srcMha: this.mhaReplication.srcMha.name,\n        dstMha: this.mhaReplication.dstMha.name\n      }\n      this.delayDataLoading = true\n      this.axios.get('/api/drc/v2/replication/delayByName', { params: param })\n        .then(response => {\n          const delays = response.data.data.delay\n          this.$set(this.mhaReplication, 'delay', delays)\n        })\n        .catch(message => {\n          console.log(message)\n          this.$Message.error('查询 MHA 延迟异常: ' + message)\n        })\n        .finally(() => {\n          this.delayDataLoading = false\n        })\n    }\n  },\n  computed: {\n    replicationIds () {\n      return this.mhaDbReplications\n        .filter(item => item.drcStatus === true)\n        .map(item => item.id)\n        .join(',')\n    }\n  },\n  created () {\n    this.getDelay()\n    this.getMhaDelay()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mhaDbReplicationPanel.vue?vue&type=template&id=cdb296d6&scoped=true&\"\nimport script from \"./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./mhaDbReplicationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdb296d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Collapse v-model=\"value\">\n      <Panel v-for=\"(replication, index) in mhaReplications\"\n             :key=\"replication.srcMha.name +'->'+replication.dstMha.name\"\n             :name=\"String(index)\">\n        {{ replication.srcMha.name + ' -> ' + replication.dstMha.name + '     ------   ['+ ([replication.mhaDbReplications.length] +'DB]')}}\n        <template #content>\n          <Button icon=\"ios-open-outline\" @click=\"openModal(index)\" style=\"margin-bottom: 10px\"> 打开详情</Button>\n          <mha-db-replication-panel :mha-replication=\"replication\"/>\n          <Modal v-model=\"openDetailModal[index]\" width=\"1500px\" :footer-hide=\"true\">\n            <drc-build-v2 ref=\"dbReplicationConfigComponent\" v-if=\"openDetailModal[index]\"\n                          :src-mha-name=\"replication.srcMha.name\"\n                          :src-dc=\"replication.srcMha.dcName\"\n                          :dst-mha-name=\"replication.dstMha.name\"\n                          :dst-dc=\"replication.dstMha.dcName\"\n            />\n          </Modal>\n        </template>\n      </Panel>\n    </Collapse>\n    <br/>\n    <Button type=\"primary\" @click=\"goToSwitchAppliers\" icon=\"md-sync\">\n      切换Applier生效配置\n    </Button>\n  </div>\n</template>\n\n<script>\nimport MhaDbReplicationPanel from '@/components/v2/dbDrcBuild/mhaDbReplicationPanel.vue'\nimport DrcBuildV2 from '@/views/v2/meta/buildStep/drcBuildV2.vue'\n\nexport default {\n  name: 'mhaReplicationPanel',\n  components: { DrcBuildV2, MhaDbReplicationPanel },\n  props: {\n    mhaReplications: Array\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      value: [],\n      openDetailModal: [],\n      dataLoading: false\n    }\n  },\n  methods: {\n    openModal (index) {\n      this.$set(this.openDetailModal, index, true)\n    },\n    goToSwitchAppliers () {\n      this.$Modal.confirm({\n        title: '切换Applier',\n        content: '<p>请确认</p>',\n        loading: true,\n        onOk: () => {\n          this.switchAppliers()\n        }\n      })\n    },\n    switchAppliers () {\n      const params = this.getSwitchParams()\n      console.log(params)\n      this.dataLoading = true\n      this.axios.post('/api/drc/v2/autoconfig/switchAppliers', params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            this.$Message.success('提交成功')\n          } else {\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.$Modal.remove()\n          this.dataLoading = false\n          this.$emit('updated')\n        })\n    },\n    getSwitchParams () {\n      return this.mhaReplications.map((item) => {\n        return {\n          srcMhaName: item.srcMha.name,\n          dstMhaName: item.dstMha.name,\n          dbNames: item.mhaDbReplications.map((mhaDbReplication) => {\n            return mhaDbReplication.src.dbName\n          })\n        }\n      })\n    }\n  },\n  created () {\n    this.openDetailModal = Array(this.mhaReplications.length).fill(false)\n    console.log('mhaReplications.length', this.mhaReplications)\n    if (this.mhaReplications && this.mhaReplications.length === 1) {\n      this.value = ['0']\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaReplicationPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mhaReplicationPanel.vue?vue&type=template&id=857874c4&scoped=true&\"\nimport script from \"./mhaReplicationPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./mhaReplicationPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"857874c4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/v2/dbDrcBuildV2\">DB粒度 DRC 同步</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\"\n             :style=\"{padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'}\">\n      <Row :gutter=10 align=\"middle\">\n        <Col span=\"18\">\n          <Form :model=\"formItem\" :label-width=\"100\" style=\"margin-right: 20px;margin-top: 10px\">\n            <FormItem label=\"数据库\" :required=true>\n              <Select\n                v-model=\"meta.dbName\"\n                filterable\n                :disabled=\"!!meta.fixDb\"\n                placeholder=\"请搜索数据库信息\"\n                @on-change=\"selectDb\"\n                :remote-method=\"getExistDb\"\n                :loading=\"dataLoading\">\n                <Option v-for=\"(option, index) in meta.dbOptions\" :value=\"option.dbName\" :key=\"index\">\n                  {{ option.dbName }}\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"同步方向\" :required=true>\n              <RadioGroup v-model=\"selectedExistReplication\" button-style=\"solid\"\n                          @on-change=\"afterSelectExistReplication\">\n                <Radio v-for=\"items in meta.existReplicationRegionOptions\"\n                       :key=\"items.srcRegionName+' -> '+items.dstRegionName\"\n                       :label=\"items.srcRegionName+' -> '+items.dstRegionName\" border>\n                  {{ items.srcRegionName + ' -> ' + items.dstRegionName }}\n                </Radio>\n              </RadioGroup>\n              <Button type=\"primary\" icon=\"md-add\" ghost @click=\"goToCreateReplication\">新增</Button>\n              <Modal v-model=\"createModal.open\" width=\"1200px\" :footer-hide=\"true\" title=\"创建同步\">\n                <mha-preview v-if=\"createModal.open\" :db-name=\"meta.dbName\" :replication-type=0 @updated=\"selectDb\"\n                             :exist-replication-region-options=\"meta.existReplicationRegionOptions\"></mha-preview>\n              </Modal>\n            </FormItem>\n            <Divider orientation=\"left\">同步表</Divider>\n            <Card style=\"width:100%\">\n              <tables :table-data=\"drcConfig.logicTableSummaryDtos\" :data-loading=\"configDataLoading\"\n                      :src-region=\"meta.srcRegionName\" :dst-region=\"meta.dstRegionName\" :db-name=\"meta.dbName\"\n                      :db-names=\"drcConfig.dbNames\" @updated=\"getDrcConfig\"\n              />\n            </Card>\n            <Divider orientation=\"left\">同步DB</Divider>\n            <Card style=\"width:100%\">\n              <mha-replication-panel v-if=\"drcConfig.mhaReplications\" :mha-replications=\"drcConfig.mhaReplications\" @updated=\"getDrcConfig\"/>\n            </Card>\n          </Form>\n        </Col>\n      </Row>\n    </Content>\n  </base-component>\n</template>\n<script>\n\nimport tables from '@/components/v2/dbDrcBuild/tables.vue'\nimport MhaReplicationPanel from '@/components/v2/dbDrcBuild/mhaReplicationPanel.vue'\nimport MhaPreview from '@/components/v2/dbDrcBuild/mhaPreview.vue'\n\nexport default {\n  components: { MhaPreview, MhaReplicationPanel, tables },\n  data () {\n    return {\n      createModal: {\n        open: false\n      },\n      dataLoading: false,\n      configDataLoading: false,\n      selectedExistReplication: this.$route.query.srcRegionName + ' -> ' + this.$route.query.dstRegionName,\n      formItem: {\n        srcRegionName: null,\n        dstRegionName: null\n      },\n      drcConfig: {},\n      meta: {\n        dbName: this.$route.query.dbName,\n        srcRegionName: this.$route.query.srcRegionName,\n        dstRegionName: this.$route.query.dstRegionName,\n        fixDb: this.$route.query.fixDb,\n        regionOptions: [],\n        dbOptions: [],\n        existReplicationRegionOptions: []\n      }\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.dbName = this.meta.dbName\n      param.srcRegionName = this.meta.srcRegionName\n      param.dstRegionName = this.meta.dstRegionName\n      return param\n    },\n    async getExistDb (dbName) {\n      if (dbName === null || dbName.length === null || dbName.length <= 0) {\n        return []\n      }\n      const that = this\n      that.dataLoading = true\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDb', {\n        params: {\n          dbName: dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          if (data) {\n            that.meta.dbOptions = data\n          } else {\n            that.$Message.warning('查询DB失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询DB异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async selectDb () {\n      await this.getExistReplicationRegionOptions()\n      await this.getDrcConfig()\n    },\n    async getDrcConfig () {\n      this.createModal.open = false\n      this.resetPath()\n      const params = this.getParams()\n      this.drcConfig = {}\n      if (!params.dbName) {\n        this.$Message.warning('请先填写数据库')\n        return\n      }\n      if (!params.srcRegionName || !params.dstRegionName) {\n        return\n      }\n      if (params.srcRegionName === params.dstRegionName) {\n        return\n      }\n      this.configDataLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/getDbDrcConfig', {\n        params: {\n          dbName: params.dbName,\n          srcRegionName: params.srcRegionName,\n          dstRegionName: params.dstRegionName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.drcConfig = data\n            this.$Message.success('查询DRC配置成功 ')\n          } else {\n            this.$Message.warning('查询失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询异常: ' + message)\n        })\n        .finally(() => {\n          this.configDataLoading = false\n        })\n    },\n    async afterSelectExistReplication () {\n      console.log('afterSelectExistReplication ', this.selectedExistReplication)\n      const ret = this.selectedExistReplication.split('->')\n      this.meta.srcRegionName = ret[0].trim()\n      this.meta.dstRegionName = ret[1].trim()\n      this.getDrcConfig()\n    },\n    async getExistReplicationRegionOptions () {\n      const that = this\n      that.dataLoading = true\n      that.meta.existReplicationRegionOptions = []\n      const params = this.getParams()\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDbReplicationDirections', {\n        params: {\n          dbName: params.dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            that.meta.existReplicationRegionOptions = data\n            if (that.meta.existReplicationRegionOptions.length > 0) {\n              that.$Message.success('查询到 ' + that.meta.existReplicationRegionOptions.length + ' 个可选同步方向')\n            }\n          } else {\n            that.meta.srcRegionName = null\n            that.meta.dstRegionName = null\n            that.$Message.warning('查询可选地域失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询可选地域失败: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async goToCreateReplication () {\n      this.createModal.open = true\n    },\n    resetPath () {\n      this.$router.replace({\n        query: {\n          dbName: this.meta.dbName,\n          srcRegionName: this.meta.srcRegionName,\n          dstRegionName: this.meta.dstRegionName,\n          fixDb: this.meta.fixDb\n        }\n        // eslint-disable-next-line handle-callback-err\n      }).catch(() => {\n      })\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    }\n  },\n  computed: {},\n  created () {\n    // this.getRegions()\n    this.axios.get('/api/drc/v2/permission/meta/mhaReplication/modify').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      if (this.meta.dbName) {\n        this.getExistReplicationRegionOptions()\n        this.getDrcConfig()\n      }\n    })\n  }\n}\n</script>\n\n<style>\n.drawer-footer {\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbDrcBuildV2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dbDrcBuildV2.vue?vue&type=template&id=4b5ba3a0&\"\nimport script from \"./dbDrcBuildV2.vue?vue&type=script&lang=js&\"\nexport * from \"./dbDrcBuildV2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dbDrcBuildV2.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}