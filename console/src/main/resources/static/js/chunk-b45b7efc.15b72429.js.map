{"version":3,"sources":["webpack:///./src/assets/hickwall.png","webpack:///./src/views/monitor/unitRouteVerificationCluster.vue?c571","webpack:///src/views/monitor/unitRouteVerificationCluster.vue","webpack:///./src/views/monitor/unitRouteVerificationCluster.vue?426c","webpack:///./src/views/monitor/unitRouteVerificationCluster.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","isFather","fatherMenu","style","margin","position","_v","staticClass","padding","background","zIndex","staticStyle","columns","dataWithPage","scopedSlots","_u","key","fn","ref","row","on","$event","showCheckResult","hickwall","mhaGroups","length","current","handleChangeSize","staticRenderFns","component"],"mappings":"mGAAAA,EAAOC,QAAU,knE,yCCAjB,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,iBAAiB,CAACE,MAAM,CAAC,SAAWN,EAAIO,SAAS,YAAc,CAAC,KAAK,WAAaP,EAAIQ,aAAa,CAACJ,EAAG,aAAa,CAACK,MAAM,CAAEC,OAAQ,oBAAqBC,SAAU,UAAW,CAACP,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,UAAU,CAACN,EAAIY,GAAG,QAAQR,EAAG,iBAAiB,CAACE,MAAM,CAAC,GAAK,kCAAkC,CAACN,EAAIY,GAAG,cAAc,GAAGR,EAAG,UAAU,CAACS,YAAY,UAAUJ,MAAM,CAAEK,QAAS,OAAQC,WAAY,OAAQL,OAAQ,mBAAoBM,OAAQ,MAAO,CAACZ,EAAG,MAAM,CAACa,YAAY,CAAC,QAAU,YAAY,CAACb,EAAG,QAAQ,CAACE,MAAM,CAAC,OAAS,GAAG,QAAUN,EAAIkB,QAAQ,KAAOlB,EAAImB,cAAcC,YAAYpB,EAAIqB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GACjtB,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAACrB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACK,MAAM,CAAEC,OAAQ,oBAAqBJ,MAAM,CAAC,KAAO,UAAU,KAAO,SAASoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAI4B,gBAAgBH,MAAQ,CAACzB,EAAIY,GAAG,QAAQR,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAI6B,SAAS,OAAS,WAAW,CAACzB,EAAG,MAAM,CAACa,YAAY,CAAC,OAAS,oBAAoBX,MAAM,CAAC,IAAM,EAAQ,QAA6B,OAAS,KAAK,MAAQ,WAAW,UAAUF,EAAG,MAAM,CAACa,YAAY,CAAC,aAAa,SAAS,OAAS,WAAW,CAACb,EAAG,OAAO,CAACE,MAAM,CAAC,UAAW,EAAK,MAAQN,EAAI8B,UAAUC,OAAO,QAAU/B,EAAIgC,QAAQ,aAAa,GAAG,gBAAgB,IAAIN,GAAG,CAAC,iBAAiB,SAASC,GAAQ3B,EAAIgC,QAAQL,GAAQ,sBAAsB3B,EAAIiC,qBAAqB,IAAI,MAAM,IAC/qBC,EAAkB,G,YC8BtB,G,UAAA,CACA,oCACA,2BACA,OACA,SACA,CACA,WACA,SACA,eACA,qBACA,SACA,OACA,kCAIA,CACA,YACA,cAEA,CACA,YACA,eAEA,CACA,WACA,6BACA,UACA,eACA,qBACA,YACA,gDACA,+CAEA,mBACA,OACA,OACA,cAEA,IACA,iBACA,2BAGA,KAGA,CACA,aACA,cACA,iBAqBA,aACA,QACA,UACA,QACA,YACA,2CACA,cAGA,UACA,wBACA,qBACA,mCACA,cACA,sCAGA,SACA,wBACA,WACA,4DACA,kBACA,eACA,2BACA,4BAGA,6BACA,aAEA,+BACA,8CACA,wDACA,gBACA,oBACA,kBACA,2BACA,oBACA,oBACA,yDAIA,4BACA,mBACA,mCACA,gDAGA,8BACA,WACA,yDACA,YACA,yBACA,4BAKA,mBACA,oBACA,6BCrKqX,I,YCOjXC,EAAY,eACd,EACApC,EACAmC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-b45b7efc.15b72429.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAIAAADZrBkAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NjAxNTYxQ0E2MkQxMUU2OUNEOUEwQzhCODY3MDdENyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NjAxNTYxREE2MkQxMUU2OUNEOUEwQzhCODY3MDdENyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg2MDE1NjFBQTYyRDExRTY5Q0Q5QTBDOEI4NjcwN0Q3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg2MDE1NjFCQTYyRDExRTY5Q0Q5QTBDOEI4NjcwN0Q3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+OuaBRgAAArVJREFUeNp0k11Ik1EYx//vxz6abbiP9mV+ZLYFXihEMhoSZSJ0EVSEZYSERR+CEHRhJBRepUF2IZSGXQSBYdBFURR4k9GFllJ0EylzuNa2Fpttbi239/ScOV0LOhfvec7zPr/nnOec/yO4XC5BEGRZTqVS0Wg0kUgCDP8MWWU1Gc1mM5m5XI6+IjGSJMViMb/fn0gkyiTmMZYgBgk6ZTUSiSwtLRFDG3CMpuXl5WAwqCgKrXUippox2gi1AK2IM9WY2w+HlvPJZDIQCFCYKIpyOp0mZiN3uYpOhLMNOFWJeBZ2C6Di2EKK/6VCQqFQRUWFHApHGCsUoxMwUE8T5r9iIoCXEfzO4Xg1xptwYgZTP3hMPB43GAzcKpPwyIPX++BrAzuNsV2FnTvr0FEDDeAxYPoAmkwFv16v5/WlFfyS0ewBMng7j673qDdi5hhdGjar8VCLw09w9A36diMwi+AKMpnMek0CPnSBDaGllq8WuzF+CBoZTj0mO8HG4K3E9nJ4t+ZjBaF40ffawR7DUc7tldvw7ij4RQnRO4gOlryKuGF59wJO2PLY5RcY6cG1k2ishZLDxEeYW7HNUqoBfRme3wILgS1g8FzBuacena2w5O9s5ApYBg/61jWTf3E0urHwCtF3YBEwH9o8JUndVYjNgq2CnuliO/eoNZs4ShVKMqwmXD8P9hPsC/p70OBCXRU6DuLbNAfu96O7C0daOGY0bYHVav0797NhsBUex3k/2HewGG5cKgaoVCq32y2TrkkypLc172KYq2RyFBmGnTWobcPTYfQOFTG73S5LEi/O6XSSRgkm+9Nn9F7AwN1C0M2r8PmKjMPhIGVls1mB+o0ah3QdDodJb/jPUKvVNpttjSENS3RIPkkSubRa7WqWupSGstGhoqyxmI10Np1Ot8aQ948AAwDt2gZTYilp2gAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',{attrs:{\"isFather\":_vm.isFather,\"subMenuName\":['1'],\"fatherMenu\":_vm.fatherMenu}},[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/unitRouteVerificationCluster\"}},[_vm._v(\"单元化路由校验\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Table',{attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.dataWithPage},scopedSlots:_vm._u([{key:\"result\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',[_c('Button',{style:({margin: '5px 0px 20px 5px'}),attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showCheckResult(row)}}},[_vm._v(\"查看\")]),_c('a',{attrs:{\"href\":_vm.hickwall,\"target\":\"_blank\"}},[_c('img',{staticStyle:{\"margin\":\"20px 0px 0px 6px\"},attrs:{\"src\":require(\"../../assets/hickwall.png\"),\"height\":\"23\",\"width\":\"23\"}})])],1)]}}])}),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"16px 0\"}},[_c('Page',{attrs:{\"transfer\":true,\"total\":_vm.mhaGroups.length,\"current\":_vm.current,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"update:current\":function($event){_vm.current=$event},\"on-page-size-change\":_vm.handleChangeSize}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component :isFather=\"isFather\" :subMenuName=\"['1']\" :fatherMenu=\"fatherMenu\">\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/unitRouteVerificationCluster\">单元化路由校验</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div style=\"padding: 1px 1px\">\n        <Table stripe :columns=\"columns\" :data=\"dataWithPage\">\n          <template slot-scope=\"{ row }\" slot=\"result\">\n            <div>\n              <Button type=\"success\" size=\"small\" :style=\"{margin: '5px 0px 20px 5px'}\" @click=\"showCheckResult(row)\">查看</Button>\n              <a :href=\"hickwall\" target=\"_blank\">\n                <img src=\"../../assets/hickwall.png\" height=\"23\" width=\"23\" style=\"margin: 20px 0px 0px 6px\">\n              </a>\n            </div>\n          </template>\n        </Table>\n        <div style=\"text-align: center;margin: 16px 0\">\n          <Page\n            :transfer=\"true\"\n            :total=\"mhaGroups.length\"\n            :current.sync=\"current\"\n            show-sizer\n            show-elevator\n            @on-page-size-change=\"handleChangeSize\"></Page>\n        </div>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'unitRouteVerificationCluster',\n  data () {\n    return {\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1 + (this.current - 1) * this.size\n            )\n          }\n        },\n        {\n          title: '集群A',\n          key: 'srcMha'\n        },\n        {\n          title: '集群B',\n          key: 'destMha'\n        },\n        {\n          title: '操作',\n          key: 'unitVerificationSwitch',\n          width: 200,\n          align: 'center',\n          render: (h, params) => {\n            const row = params.row\n            const type = row.unitVerificationSwitch === 0 ? 'info' : 'warning'\n            const text = row.unitVerificationSwitch === 0 ? '开启校验' : '校验中...'\n\n            return h('Button', {\n              props: {\n                type: type,\n                size: 'small'\n              },\n              on: {\n                click: () => {\n                  this.switchVerification(row)\n                }\n              }\n            }, text)\n          }\n        },\n        {\n          title: '校验结果',\n          slot: 'result',\n          align: 'center'\n          // render: (h, params) => {\n          //   return h('div', [\n          //     h('Button', {\n          //       props: {\n          //         type: 'success',\n          //         size: 'small'\n          //       },\n          //       style: {\n          //         marginRight: '5px'\n          //       },\n          //       on: {\n          //         click: () => {\n          //           this.showCheckResult(params.row)\n          //         }\n          //       }\n          //     }, '查看')\n          //   ])\n          // }\n        }\n      ],\n      mhaGroups: [],\n      total: 0,\n      current: 1,\n      size: 10,\n      isFather: true,\n      fatherMenu: '/unitRouteVerificationCluster',\n      hickwall: ''\n    }\n  },\n  computed: {\n    dataWithPage () {\n      const data = this.mhaGroups\n      const start = this.current * this.size - this.size\n      const end = start + this.size\n      return [...data].slice(start, end)\n    }\n  },\n  methods: {\n    getMhaGroups () {\n      const that = this\n      that.axios.get('/api/drc/v1/meta/orderedGroups/all?deleted=0')\n        .then(response => {\n          console.log(response)\n          that.total = response.data.data.length\n          that.mhaGroups = response.data.data\n        })\n    },\n    handleChangeSize (val) {\n      this.size = val\n    },\n    switchVerification (row) {\n      const switchStatus = row.unitVerificationSwitch === 0 ? 'on' : 'off'\n      this.axios.post('/api/drc/v1/monitor/unit/switches/' + switchStatus, {\n        srcMha: row.srcMha,\n        destMha: row.destMha\n      }).then(res => {\n        console.log('show result')\n        console.log(res.data)\n        if (res.data.status === 0) {\n          row.unitVerificationSwitch = 1 - row.unitVerificationSwitch\n        }\n      })\n    },\n    showCheckResult (row) {\n      this.$router.push({\n        name: 'unitRouteVerificationResult',\n        query: { clusterA: row.srcMha, clusterB: row.destMha }\n      })\n    },\n    setHickwallAddress () {\n      const that = this\n      this.axios.get('/api/drc/v1/unit/result/hickwall').then(\n        res => {\n          console.log(res.data.data)\n          that.hickwall = res.data.data\n        }\n      )\n    }\n  },\n  created () {\n    this.getMhaGroups()\n    this.setHickwallAddress()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./unitRouteVerificationCluster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./unitRouteVerificationCluster.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./unitRouteVerificationCluster.vue?vue&type=template&id=16a1b942&scoped=true&\"\nimport script from \"./unitRouteVerificationCluster.vue?vue&type=script&lang=js&\"\nexport * from \"./unitRouteVerificationCluster.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16a1b942\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}