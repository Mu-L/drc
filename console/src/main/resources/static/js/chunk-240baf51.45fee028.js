(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-240baf51"],{"00b4":function(t,e,n){"use strict";n("ac1f");var a=n("23e7"),r=n("c65b"),o=n("1626"),i=n("825a"),s=n("577e"),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),l=/./.test;a({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=i(this),n=s(t),a=e.exec;if(!o(a))return r(l,e,n);var c=r(a,e,n);return null!==c&&(i(c),!0)}})},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("00b4"),n("25f0"),n("3ca3");var a=n("6b75");function r(t,e){if(t){if("string"==typeof t)return Object(a["a"])(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(t,e):void 0}}},"107c":function(t,e,n){"use strict";var a=n("d039"),r=n("cfe9"),o=r.RegExp;t.exports=a((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"25f0":function(t,e,n){"use strict";var a=n("5e77").PROPER,r=n("cb2d"),o=n("825a"),i=n("577e"),s=n("d039"),c=n("90d8"),l="toString",u=RegExp.prototype,d=u[l],m=s((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),f=a&&d.name!==l;(m||f)&&r(u,l,(function(){var t=o(this),e=i(t.source),n=i(c(t));return"/"+e+"/"+n}),{unsafe:!0})},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("6b75");function r(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var i=n("06c5");n("d9e2");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||o(t)||Object(i["a"])(t)||s()}},4038:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("base-component",{attrs:{isFather:t.isFather,subMenuName:["1"],fatherMenu:t.fatherMenu}},[e("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[e("BreadcrumbItem",{attrs:{to:"/home"}},[t._v("首页")]),e("BreadcrumbItem",{attrs:{to:"/incrementDataConsistencyResult"}},[t._v("校验结果")]),e("BreadcrumbItem",{attrs:{to:"/incrementDataConsistencyCluster"}},[t._v("校验集群")]),e("BreadcrumbItem",[t._v("校验配置")])],1),e("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[e("div",{staticStyle:{padding:"1px 1px"}},[e("div",{staticClass:"ivu-list-item-meta-title"},[e("p",[t._v("DRC集群："+t._s(t.$route.query.clusterA)+"(集群A)---"+t._s(t.$route.query.clusterB)+"(集群B)")])]),e("Table",{attrs:{stripe:"",columns:t.columns,data:t.dataWithPage}}),e("div",{staticStyle:{"text-align":"center",margin:"16px 0"}},[e("Page",{attrs:{transfer:!0,total:t.tables.length,current:t.current,"show-sizer":"","show-elevator":""},on:{"update:current":function(e){t.current=e},"on-page-size-change":t.handleChangeSize}})],1)],1)])],1)},r=[],o=n("2909"),i=(n("14d9"),n("fb6a"),{name:"consistencyMonitorConfig",data:function(){var t=this;return{isFather:!0,fatherMenu:"/incrementDataConsistencyResult",confirmAddTableModal:!1,resultConfirmAddTableModal:!1,confirmAddTableResult:"",addTableStatus:"",addTableSMsg:"",commitItem:{monitorTableName:"",monitorTableKey:"",monitorTableOnUpdate:""},confirmDeleteTableModal:!1,resultConfirmDeleteTableModal:!1,confirmDeleteTableResult:"",deleteTableStatus:"",deleteTableSMsg:"",commitDeleteItem:{monitorTableName:"",monitorTableKey:"",monitorTableOnUpdate:""},deleteIndex:0,tables:[],current:1,size:10,columns:[{title:"序号",width:75,align:"center",render:function(e,n){return e("span",n.index+1+(t.current-1)*t.size)}},{title:"库名",key:"monitorSchemaName"},{title:"表名",key:"monitorTableName"},{title:"key",width:100,key:"monitorTableKey",align:"center"},{title:"onUpdate",key:"monitorTableOnUpdate",align:"center"},{title:"操作",key:"monitorSwitch",width:200,align:"center",render:function(e,n){var a=n.row;return e("i-switch",{props:{size:"large",value:1===a.monitorSwitch},scopedSlots:{open:function(){return e("span","开启")},close:function(){return e("span","关闭")}},on:{"on-change":function(){t.switchDataConsistencyMonitor(a)}}})}},{title:"校验结果",align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showCheckResult(n.row)}}},"查看")])}}]}},computed:{dataWithPage:function(){var t=this.tables,e=this.current*this.size-this.size,n=e+this.size;return Object(o["a"])(t).slice(e,n)}},methods:{handleDataConsistencyAdd:function(){this.tables.push({monitorTableName:"",monitorTableKey:"",monitorTableOnUpdate:"",status:0})},handleDataConsistencyAddCommit:function(t){this.confirmAddTableModal=!0,this.commitItem.monitorTableName=t.monitorTableName,this.commitItem.monitorTableKey=t.monitorTableKey,this.commitItem.monitorTableOnUpdate=t.monitorTableOnUpdate},okHandleDataConsistencyAddCommit:function(){var t=this;this.axios.post("/api/drc/v1/monitor/consistency/data/"+this.$route.query.clusterA+"/"+this.$route.query.clusterB,{table:t.commitItem.monitorTableName,key:t.commitItem.monitorTableKey,onUpdate:t.commitItem.monitorTableOnUpdate}).then((function(e){console.log("add result"),console.log(e.data),0===e.data.status?(t.addTableStatus="success",t.addTableSMsg=e.data.message):(t.addTableStatus="error",t.addTableSMsg=e.data.data.message)})),this.resultConfirmAddTableModal=!0},cancelHandleDataConsistencyAddCommit:function(){this.confirmAddTableModal=!1},okAddTableResult:function(){this.$router.go(0),this.confirmAddTableModal=!1,this.resultConfirmAddTableModal=!1},handleDataConsistencyDeleteCommit:function(t){this.confirmDeleteTableModal=!0,this.commitDeleteItem.monitorTableName=t.monitorTableName,this.commitDeleteItem.monitorTableKey=t.monitorTableKey,this.commitDeleteItem.monitorTableOnUpdate=t.monitorTableOnUpdate,this.deleteIndex=t.id},okHandleDataConsistencyDeleteCommit:function(){var t=this;this.axios.delete("/api/drc/v1/monitor/consistency/data/"+this.deleteIndex).then((function(e){console.log(e.data),0===e.data.status?(t.deleteTableStatus="success",t.deleteTableSMsg=e.data.message):(t.deleteTableStatus="error",t.deleteTableSMsg=e.data.data.message)})),this.resultConfirmDeleteTableModal=!0},cancelHandleDataConsistencyDeleteCommit:function(){this.confirmDeleteTableModal=!1},okDeleteTableResult:function(){this.$router.go(0),this.confirmDeleteTableModal=!1,this.resultConfirmDeleteTableModal=!1},getConfiguredTables:function(){var t=this;this.axios.get("/api/drc/v1/monitor/consistency/data/"+this.$route.query.clusterA+"/"+this.$route.query.clusterB).then((function(e){t.tables=e.data.data,console.log(e.data)}))},handleChangeSize:function(t){this.size=t},switchDataConsistencyMonitor:function(t){var e=this,n=0===t.monitorSwitch?"on":"off";this.axios.post("/api/drc/v1/monitor/consistency/switches/"+n,[{srcMha:e.$route.query.clusterA,dstMha:e.$route.query.clusterB,schema:t.monitorSchemaName,table:t.monitorTableName,key:t.monitorTableKey,onUpdate:t.monitorTableOnUpdate}]).then((function(e){console.log("show result"),console.log(e.data),0===e.data.status&&(t.monitorSwitch=1-t.monitorSwitch)}))},showCheckResult:function(t){this.$router.push({name:"incrementDataConsistencyResult"})}},created:function(){this.getConfiguredTables()}}),s=i,c=n("2877"),l=Object(c["a"])(s,a,r,!1,null,"e8b2e880",null);e["default"]=l.exports},"4df4":function(t,e,n){"use strict";var a=n("0366"),r=n("c65b"),o=n("7b0b"),i=n("9bdd"),s=n("e95a"),c=n("68ee"),l=n("07fa"),u=n("8418"),d=n("9a1f"),m=n("35a1"),f=Array;t.exports=function(t){var e=o(t),n=c(this),b=arguments.length,h=b>1?arguments[1]:void 0,p=void 0!==h;p&&(h=a(h,b>2?arguments[2]:void 0));var g,y,v,x,T,C,I=m(e),S=0;if(!I||this===f&&s(I))for(g=l(e),y=n?new this(g):f(g);g>S;S++)C=p?h(e[S],S):e[S],u(y,S,C);else for(y=n?new this:[],x=d(e,I),T=x.next;!(v=r(T,x)).done;S++)C=p?i(x,h,[v.value,S],!0):v.value,u(y,S,C);return y.length=S,y}},"6b75":function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}n.d(e,"a",(function(){return a}))},"90d8":function(t,e,n){"use strict";var a=n("c65b"),r=n("1a2d"),o=n("3a9b"),i=n("ad6d"),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||r(t,"flags")||!o(s,t)?e:a(i,t)}},9263:function(t,e,n){"use strict";var a=n("c65b"),r=n("e330"),o=n("577e"),i=n("ad6d"),s=n("9f7f"),c=n("5692"),l=n("7c73"),u=n("69f3").get,d=n("fce3"),m=n("107c"),f=c("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,h=b,p=r("".charAt),g=r("".indexOf),y=r("".replace),v=r("".slice),x=function(){var t=/a/,e=/b*/g;return a(b,t,"a"),a(b,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),T=s.BROKEN_CARET,C=void 0!==/()??/.exec("")[1],I=x||C||T||d||m;I&&(h=function(t){var e,n,r,s,c,d,m,I=this,S=u(I),w=o(t),A=S.raw;if(A)return A.lastIndex=I.lastIndex,e=a(h,A,w),I.lastIndex=A.lastIndex,e;var D=S.groups,M=T&&I.sticky,R=a(i,I),k=I.source,O=0,E=w;if(M&&(R=y(R,"y",""),-1===g(R,"g")&&(R+="g"),E=v(w,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==p(w,I.lastIndex-1))&&(k="(?: "+k+")",E=" "+E,O++),n=new RegExp("^(?:"+k+")",R)),C&&(n=new RegExp("^"+k+"$(?!\\s)",R)),x&&(r=I.lastIndex),s=a(b,M?n:I,E),M?s?(s.input=v(s.input,O),s[0]=v(s[0],O),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:x&&s&&(I.lastIndex=I.global?s.index+s[0].length:r),C&&s&&s.length>1&&a(f,s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&D)for(s.groups=d=l(null),c=0;c<D.length;c++)m=D[c],d[m[0]]=s[m[1]];return s}),t.exports=h},"9bdd":function(t,e,n){"use strict";var a=n("825a"),r=n("2a62");t.exports=function(t,e,n,o){try{return o?e(a(n)[0],n[1]):e(n)}catch(i){r(t,"throw",i)}}},"9f7f":function(t,e,n){"use strict";var a=n("d039"),r=n("cfe9"),o=r.RegExp,i=a((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),s=i||a((function(){return!o("a","y").sticky})),c=i||a((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:s,UNSUPPORTED_Y:i}},a630:function(t,e,n){"use strict";var a=n("23e7"),r=n("4df4"),o=n("1c7e"),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:r})},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},fce3:function(t,e,n){"use strict";var a=n("d039"),r=n("cfe9"),o=r.RegExp;t.exports=a((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-240baf51.45fee028.js.map