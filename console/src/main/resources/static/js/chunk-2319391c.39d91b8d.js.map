{"version":3,"sources":["webpack:///./src/views/v2/meta/dbMqBuildV2.vue?3abe","webpack:///./src/components/v2/mhaMessengers/drcMqConfig.vue","webpack:///src/components/v2/mhaMessengers/drcMqConfig.vue","webpack:///./src/components/v2/mhaMessengers/drcMqConfig.vue?9f1c","webpack:///./src/components/v2/mhaMessengers/drcMqConfig.vue?42f1","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/v2/meta/dbMqBuildV2.vue","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue","webpack:///src/components/v2/dbDrcBuild/dbMqConfig.vue","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue?6ec2","webpack:///./src/components/v2/dbDrcBuild/dbMqConfig.vue?ab6d","webpack:///src/components/v2/dbDrcBuild/mqTables.vue","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue?9c46","webpack:///./src/components/v2/dbDrcBuild/mqTables.vue?356f","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue","webpack:///src/components/v2/dbDrcBuild/mhaDbMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue?0b54","webpack:///./src/components/v2/dbDrcBuild/mhaDbMqPanel.vue?1210","webpack:///src/components/v2/dbDrcBuild/mhaMqPanel.vue","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue?da43","webpack:///./src/components/v2/dbDrcBuild/mhaMqPanel.vue?73f4","webpack:///src/views/v2/meta/dbMqBuildV2.vue","webpack:///./src/views/v2/meta/dbMqBuildV2.vue?3589","webpack:///./src/views/v2/meta/dbMqBuildV2.vue?e408"],"names":["render","_vm","this","_c","_self","ref","staticStyle","attrs","drc","model","value","mhaName","callback","$$v","$set","expression","key","currentInstances","replicator","replicators","_l","replicatorList","item","ip","_v","_s","az","getRole","on","autoConfigReplicator","showMhaApplierConfig","messenger","messengers","messengerList","type","autoConfigMessenger","_e","rGtidExecuted","queryMhaMachineGtid","hasTest1","testSuccess1","queryMhaGtidCheckRes","goToMqConfigs","showDbMhaApplierConfig","getMhaDbMessenger","aGtidExecuted","$event","handleReset","preCheckConfigure","submitConfig","reviewModal","minRows","maxRows","resultModal","result","reviewConfigure","warnModal","directives","name","rawName","conflictMha","domProps","target","composing","share","conflictCurrent","gtidCheck","modal","resVo","legal","mha","configGtid","purgedGtid","staticRenderFns","props","String","dc","data","dbMessengerSwitch","dbMessengerList","methods","_this","axios","get","then","response","console","log","forEach","push","_this2","getResources","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","applierData","a","existItem","find","existing","stop","refreshReplicatorInstances","_this4","params","ips","join","instances","refreshMessengerInstances","_this5","getResourcesInUse","_this6","messengerDto","gtidInit","$router","path","query","$refs","resetFields","_this7","replicatorIps","messengerIps","preCheckRes","status","workingReplicatorIps","window","alert","_this8","that","$Message","warning","message","catch","error","_this9","hasAppliers","length","_step","_iterator","_createForOfIteratorHelper","s","n","done","instance","master","err","e","f","dbApplierDtos","_step2","_iterator2","x","_this10","post","content","duration","created","component","$","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","proto","forced","callbackfn","arguments","undefined","style","margin","position","staticClass","padding","background","zIndex","formItem","meta","fixDb","getExistDb","dataLoading","selectDb","dbName","dbOptions","option","index","afterSelectExistReplication","selectedExistReplication","existReplicationRegionOptions","items","srcRegionName","goToCreateReplication","createModal","open","drcConfig","logicTableSummaryDtos","configDataLoading","dstRegionName","dbNames","getDrcConfig","mhaMqDtos","height","columns","tableData","scopedSlots","_u","fn","_ref","row","goToUpdateConfig","goToDeleteConfig","goToInsertConfig","actionTitle","editModal","selectedRow","srcRegion","action","filterReadOnly","finishConfig","formAction","alertInfo","show","proxy","title","successShow","bu","constants","buForChosen","indexOf","_k","keyCode","preventDefault","afterEnterTableName","tableName","refreshTopicBu","topic","excludeFilterTypes","excludeFilterTypesForChose","label","switch","order","commonColumnLoading","getCommonColumns","handleCreateColumn","orderKey","columnsForChose","buildMode","Number","buttonTypeMap","submitAll","buttonTextMap","components","DbTablesPreview","FORM_ACTION_OPTION","CREATE","EDIT","DELETE","configData","dstRegion","Boolean","emits","rowsFilterId","colsFilterId","dbReplicationIds","originLogicTableConfig","checkTableDataList","table","dbMhaTableLoading","dbMhaTableColumn","h","srcMha","float","color","regionName","dcName","dstMha","dbMhaTablePage","total","current","size","pageSizeOpts","dbTableLoading","dbTableColumn","width","align","fixed","resizable","res","text","dbTablePage","Map","successSubmit","getParams","param","buName","tag","mode","replicationType","gtidConfigurable","tblsFilterDetail","tableNames","getEditParams","logicTableConfig","logicTable","dstLogicTable","mqConfig","mqType","serialization","persistent","flattenObj","info","finally","val","contains","split","_callee2","_context2","getTableInfo","ob","i","_typeof","isArray","temp","j","refresh","_callee3","_context3","JSON","stringify","config","originMyConfig","getBuListFromQmq","_callee4","_context4","success","$emit","rowsFilterCreateParamInit","drcStrategyId","routeStrategyId","udlColumns","context","illegalArgument","fetchMode","columnsFilterCreateParamInit","computed","preCheckTablePage","start","end","_toConsumableArray","slice","useTripUdlOrUidMode","rowsFilter","filterMode","TRIP_UDL","TRIP_UDL_UID","includes","rowsFilterCreateParam","hasUdlColumn","fillContextByRegion","RPC","hasUidColumn","showUdlConfigDetail","hasUdlLegalConfig","hasUidLegalConfig","showUidConfigDetail","DbMqConfig","actionTitleMap","slot","mhaMqDto","openModal","openDetailModal","refInFor","mhaDbReplications","goToSwitchMessengers","mhaMessengerDto","mhaColumns","delayDataLoading","disabled","transmissionType","click","showModal","renderHeader","replicationIds","_click","getMhaMessengerDelay","apply","loading","shape","icon","drcStatus","delay","prettyMilliseconds","compact","src","dbMessengerDto","_click2","map","mhas","dbs","delays","delayInfoDto","filter","id","DrcMqConfig","MhaDbMqPanel","$Modal","confirm","onOk","switchMessengers","getSwitchParams","remove","srcMhaName","mhaDbReplication","fill","MhaMqPanel","MqTables","MhaPreview","$route","regionOptions","abrupt","getExistReplicationRegionOptions","resetPath","trim","_callee5","_context5","_callee6","_context6","replace"],"mappings":"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","file":"js/chunk-2319391c.39d91b8d.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=style&index=0&id=8a03bef6&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Row',[_c('Form',{ref:\"drc1\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.drc,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"集群名\",\"prop\":\"mhaName\"}},[_c('Input',{attrs:{\"readonly\":\"\",\"placeholder\":\"请输入集群名\"},model:{value:(_vm.drc.mhaName),callback:function ($$v) {_vm.$set(_vm.drc, \"mhaName\", $$v)},expression:\"drc.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择Replicator\",\"prop\":\"replicator\"}},[_c('Select',{key:_vm.drc.currentInstances.replicator,staticStyle:{\"width\":\"300px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择Replicator\"},model:{value:(_vm.drc.replicators),callback:function ($$v) {_vm.$set(_vm.drc, \"replicators\", $$v)},expression:\"drc.replicators\"}},_vm._l((_vm.drc.replicatorList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" — \"+_vm._s(item.az)+\" \"+_vm._s(_vm.getRole(item.ip, _vm.drc.currentInstances.replicator))+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigReplicator}},[_vm._v(\"自动录入\")])],1),(_vm.showMhaApplierConfig())?_c('FormItem',{attrs:{\"label\":\"选择Messenger\",\"prop\":\"messenger\"}},[_c('Select',{key:_vm.drc.currentInstances.messenger,staticStyle:{\"width\":\"300px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"选择集群Messenger\"},model:{value:(_vm.drc.messengers),callback:function ($$v) {_vm.$set(_vm.drc, \"messengers\", $$v)},expression:\"drc.messengers\"}},_vm._l((_vm.drc.messengerList),function(item){return _c('Option',{key:item.ip,attrs:{\"value\":item.ip}},[_vm._v(_vm._s(item.ip)+\" [\"+_vm._s(item.type === 1 ? 'A' : (item.type === 7 ? 'M' : ''))+\"] — \"+_vm._s(item.az)+\" \"+_vm._s(_vm.getRole(item.ip, _vm.drc.currentInstances.messenger))+\" \")])}),1),_vm._v(\"   \"),_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.autoConfigMessenger}},[_vm._v(\"自动录入\")])],1):_vm._e(),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始拉取位点R\"}},[_c('Input',{attrs:{\"placeholder\":\"变更replicator机器时，请输入binlog拉取位点\"},model:{value:(_vm.drc.rGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"rGtidExecuted\", $$v)},expression:\"drc.rGtidExecuted\"}}),_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{on:{\"click\":_vm.queryMhaMachineGtid}},[_vm._v(\"查询mha位点\")]),(_vm.hasTest1)?_c('span',[_c('Icon',{attrs:{\"type\":_vm.testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle',\"color\":_vm.testSuccess1 ? 'green' : 'red'}}),_vm._v(\" \"+_vm._s(_vm.testSuccess1 ? '查询实时位点成功' : '连接查询失败')+\" \")],1):_vm._e()],1),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.queryMhaGtidCheckRes}},[_vm._v(\"位点校验\")])],1)],1)],1),_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"mq配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.goToMqConfigs}},[_vm._v(\"mq配置\")])],1),(_vm.showDbMhaApplierConfig())?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"DB Applier 配置\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.getMhaDbMessenger}},[_vm._v(\"Db Applier 管理\")])],1):_vm._e(),(_vm.showMhaApplierConfig())?_c('FormItem',{staticStyle:{\"width\":\"600px\"},attrs:{\"label\":\"初始同步位点A\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入DRC同步起始位点\"},model:{value:(_vm.drc.aGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"aGtidExecuted\", $$v)},expression:\"drc.aGtidExecuted\"}})],1):_vm._e()],1)],1),_c('Form',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"label-width\":250}},[_c('FormItem',[_c('Row',[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('drc1')}}},[_vm._v(\"重置\")])],1),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.preCheckConfigure ()}}},[_vm._v(\"提交\")])],1)],1)],1),_c('Modal',{attrs:{\"title\":\"确认配置信息\",\"width\":\"900px\"},on:{\"on-ok\":_vm.submitConfig},model:{value:(_vm.drc.reviewModal),callback:function ($$v) {_vm.$set(_vm.drc, \"reviewModal\", $$v)},expression:\"drc.reviewModal\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"集群名\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.mhaName),callback:function ($$v) {_vm.$set(_vm.drc, \"mhaName\", $$v)},expression:\"drc.mhaName\"}})],1),_c('FormItem',{attrs:{\"label\":\"集群Replicator\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.replicators),callback:function ($$v) {_vm.$set(_vm.drc, \"replicators\", $$v)},expression:\"drc.replicators\"}})],1),_c('FormItem',{attrs:{\"label\":\"集群Messenger\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.messengers),callback:function ($$v) {_vm.$set(_vm.drc, \"messengers\", $$v)},expression:\"drc.messengers\"}})],1),_c('FormItem',{attrs:{\"label\":\"新增Replicator的新增binlog拉取位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.rGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"rGtidExecuted\", $$v)},expression:\"drc.rGtidExecuted\"}})],1),_c('FormItem',{attrs:{\"label\":\"Messenger集群的起始位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.drc.aGtidExecuted),callback:function ($$v) {_vm.$set(_vm.drc, \"aGtidExecuted\", $$v)},expression:\"drc.aGtidExecuted\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"配置结果\",\"width\":\"1200px\"},model:{value:(_vm.drc.resultModal),callback:function ($$v) {_vm.$set(_vm.drc, \"resultModal\", $$v)},expression:\"drc.resultModal\"}},[_c('Form',{staticStyle:{\"width\":\"100%\"}},[_c('FormItem',{attrs:{\"label\":\"集群配置\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"存在一对多共用运行配置请确认\",\"width\":\"900px\"},on:{\"on-ok\":_vm.reviewConfigure},model:{value:(_vm.drc.warnModal),callback:function ($$v) {_vm.$set(_vm.drc, \"warnModal\", $$v)},expression:\"drc.warnModal\"}},[_c('label',{staticStyle:{\"color\":\"black\"}},[_vm._v(\"共用replicator配置的集群: \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.drc.conflictMha),expression:\"drc.conflictMha\"}],domProps:{\"value\":(_vm.drc.conflictMha)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.drc, \"conflictMha\", $event.target.value)}}}),_c('Divider'),_c('div',[_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"线上一对多replicator配置\")]),_c('ul',_vm._l((_vm.drc.replicators.share),function(item){return _c('ol',{key:item},[_vm._v(_vm._s(item))])}),0)]),_c('Divider'),_c('div',[_c('p',{staticStyle:{\"color\":\"black\"}},[_vm._v(\"修改后replicator配置\")]),_c('ul',_vm._l((_vm.drc.replicators.conflictCurrent),function(item){return _c('ol',{key:item},[_vm._v(_vm._s(item))])}),0)])],1),_c('Modal',{attrs:{\"title\":\"gitd位点校验结果\",\"width\":\"900px\"},model:{value:(_vm.gtidCheck.modal),callback:function ($$v) {_vm.$set(_vm.gtidCheck, \"modal\", $$v)},expression:\"gtidCheck.modal\"}},[_c('Form',{staticStyle:{\"width\":\"80%\"}},[_c('FormItem',{attrs:{\"label\":\"校验结果\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.legal),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"legal\", $$v)},expression:\"gtidCheck.resVo.legal\"}})],1),_c('FormItem',{attrs:{\"label\":\"当前Mha\"}},[_c('Input',{attrs:{\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.mha),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"mha\", $$v)},expression:\"gtidCheck.resVo.mha\"}})],1),_c('FormItem',{attrs:{\"label\":\"配置位点\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.configGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"configGtid\", $$v)},expression:\"gtidCheck.resVo.configGtid\"}})],1),_c('FormItem',{attrs:{\"label\":\"purgedGtid\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 1,maxRows: 30},\"readonly\":\"\"},model:{value:(_vm.gtidCheck.resVo.purgedGtid),callback:function ($$v) {_vm.$set(_vm.gtidCheck.resVo, \"purgedGtid\", $$v)},expression:\"gtidCheck.resVo.purgedGtid\"}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-if=\"current === 0\" :key=\"0\">\n  <div>\n    <Row>\n      <Form ref=\"drc1\" :model=\"drc\" :label-width=\"250\" style=\"float: left; margin-top: 50px\">\n        <FormItem label=\"集群名\" prop=\"mhaName\" style=\"width: 600px\">\n          <Input v-model=\"drc.mhaName\" readonly placeholder=\"请输入集群名\"/>\n        </FormItem>\n        <FormItem label=\"选择Replicator\" prop=\"replicator\">\n          <Select v-model=\"drc.replicators\" multiple style=\"width: 300px\" :key=\"drc.currentInstances.replicator\"  placeholder=\"选择Replicator\">\n            <Option v-for=\"item in drc.replicatorList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }} — {{ item.az}}\n              {{getRole(item.ip, drc.currentInstances.replicator)}}\n            </Option>\n          </Select>\n          &nbsp;\n          <Button type=\"success\" @click=\"autoConfigReplicator\">自动录入</Button>\n        </FormItem>\n        <FormItem  v-if=\"showMhaApplierConfig()\" label=\"选择Messenger\" prop=\"messenger\">\n          <Select v-model=\"drc.messengers\" multiple style=\"width: 300px\" :key=\"drc.currentInstances.messenger\" placeholder=\"选择集群Messenger\">\n            <Option v-for=\"item in drc.messengerList\" :value=\"item.ip\" :key=\"item.ip\">{{ item.ip }}  [{{ item.type === 1 ? 'A' : (item.type === 7 ? 'M' : '') }}] — {{ item.az }}\n              {{getRole(item.ip, drc.currentInstances.messenger)}}\n            </Option>\n          </Select>\n          &nbsp;\n          <Button type=\"success\" @click=\"autoConfigMessenger\">自动录入</Button>\n        </FormItem>\n        <FormItem label=\"初始拉取位点R\" style=\"width: 600px\">\n          <Input v-model=\"drc.rGtidExecuted\" placeholder=\"变更replicator机器时，请输入binlog拉取位点\"/>\n          <Row>\n            <Col span=\"12\">\n              <Button @click=\"queryMhaMachineGtid\">查询mha位点</Button>\n              <span v-if=\"hasTest1\">\n                  <Icon :type=\"testSuccess1 ? 'ios-checkmark-circle' : 'ios-close-circle'\"\n                        :color=\"testSuccess1 ? 'green' : 'red'\"/>\n                    {{ testSuccess1 ? '查询实时位点成功' : '连接查询失败' }}\n                </span>\n            </Col>\n            <Col span=\"12\">\n              <Button type=\"success\" @click=\"queryMhaGtidCheckRes\">位点校验</Button>\n            </Col>\n          </Row>\n        </FormItem>\n        <FormItem label=\"mq配置\" style=\"width: 600px\">\n          <Button type=\"primary\" ghost @click=\"goToMqConfigs\">mq配置</Button>\n        </FormItem>\n        <FormItem v-if=\"showDbMhaApplierConfig()\" label=\"DB Applier 配置\"  style=\"width: 600px\">\n          <Button type=\"primary\" ghost @click=\"getMhaDbMessenger\">Db Applier 管理</Button>\n        </FormItem>\n        <FormItem v-if=\"showMhaApplierConfig()\"  label=\"初始同步位点A\" style=\"width: 600px\">\n          <Input v-model=\"drc.aGtidExecuted\" placeholder=\"请输入DRC同步起始位点\"/>\n        </FormItem>\n        <!--      <FormItem label=\"行过滤\" style=\"width: 600px\">-->\n        <!--        <Button type=\"primary\" ghost @click=\"goToConfigRowsFiltersInSrcApplier\">配置行过滤</Button>-->\n        <!--      </FormItem>-->\n      </Form>\n    </Row>\n    <Form :label-width=\"250\" style=\"margin-top: 50px\">\n      <FormItem>\n        <Row>\n          <Col span=\"6\">\n            <Button @click=\"handleReset('drc1')\">重置</Button>\n          </Col>\n          <Col span=\"6\">\n            <Button type=\"primary\" @click=\"preCheckConfigure ()\">提交</Button>\n          </Col>\n        </Row>\n      </FormItem>\n      <Modal\n        v-model=\"drc.reviewModal\"\n        title=\"确认配置信息\"\n        width=\"900px\"\n        @on-ok=\"submitConfig\">\n        <Form style=\"width: 80%\">\n          <FormItem label=\"集群名\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.mhaName\" readonly/>\n          </FormItem>\n          <FormItem label=\"集群Replicator\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.replicators\" readonly/>\n          </FormItem>\n          <FormItem label=\"集群Messenger\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.messengers\" readonly/>\n          </FormItem>\n          <FormItem label=\"新增Replicator的新增binlog拉取位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.rGtidExecuted\" readonly/>\n          </FormItem>\n          <FormItem label=\"Messenger集群的起始位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"drc.aGtidExecuted\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <Modal\n        v-model=\"drc.resultModal\"\n        title=\"配置结果\"\n        width=\"1200px\">\n        <Form style=\"width: 100%\">\n          <FormItem label=\"集群配置\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"result\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n      <!--             v-model=\"drc.warnModal\"-->\n      <Modal\n        v-model=\"drc.warnModal\"\n        title=\"存在一对多共用运行配置请确认\"\n        width=\"900px\"\n        @on-ok=\"reviewConfigure\">\n        <label style=\"color: black\">共用replicator配置的集群: </label>\n        <input v-model=\"drc.conflictMha\"></input>\n        <Divider/>\n        <div>\n          <p style=\"color: red\">线上一对多replicator配置</p>\n          <ul>\n            <ol v-for=\"item in drc.replicators.share\" :key=\"item\">{{ item }}</ol>\n          </ul>\n        </div>\n        <Divider/>\n        <div>\n          <p style=\"color: black\">修改后replicator配置</p>\n          <ul>\n            <ol v-for=\"item in drc.replicators.conflictCurrent\" :key=\"item\">{{ item }}</ol>\n          </ul>\n        </div>\n      </Modal>\n      <Modal\n        v-model=\"gtidCheck.modal\"\n        title=\"gitd位点校验结果\"\n        width=\"900px\">\n        <Form style=\"width: 80%\">\n          <FormItem label=\"校验结果\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.legal\" readonly/>\n          </FormItem>\n          <FormItem label=\"当前Mha\">\n            <Input :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.mha\" readonly/>\n          </FormItem>\n          <FormItem label=\"配置位点\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.configGtid\" readonly/>\n          </FormItem>\n          <FormItem label=\"purgedGtid\">\n            <Input type=\"textarea\" :autosize=\"{minRows: 1,maxRows: 30}\" v-model=\"gtidCheck.resVo.purgedGtid\" readonly/>\n          </FormItem>\n        </Form>\n      </Modal>\n    </Form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'drcMqConfig',\n  props: {\n    mhaName: String,\n    dc: String\n  },\n  data () {\n    return {\n      hasTest1: false,\n      testSuccess1: false,\n      result: false,\n      gtidCheck: {\n        modal: false,\n        resVo: {\n          mha: '',\n          legal: '',\n          configGtid: '',\n          purgedGtid: ''\n        }\n      },\n      drc: {\n        reviewModal: false,\n        warnModal: false,\n        mhaName: this.mhaName,\n        rGtidExecuted: '',\n        aGtidExecuted: '',\n        replicators: {},\n        messengers: [],\n        currentInstances: {\n          messenger: [],\n          replicator: []\n        },\n        replicatorList: {},\n        messengerList: [],\n        dbMessengerSwitch: false,\n        dbMessengerList: []\n      }\n    }\n  },\n  methods: {\n    autoConfigReplicator () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.drc.mhaName + '&type=0' + '&selectedIps=' + this.drc.replicators)\n        .then(response => {\n          console.log(response.data)\n          this.drc.replicators = []\n          response.data.data.forEach(ip => this.drc.replicators.push(ip.ip))\n        })\n    },\n    autoConfigMessenger () {\n      this.axios.get('/api/drc/v2/resource/mha/auto?mhaName=' + this.drc.mhaName + '&type=7' + '&selectedIps=' + this.drc.messengers)\n        .then(response => {\n          console.log(response.data)\n          this.drc.messengers = []\n          response.data.data.forEach(ip => this.drc.messengers.push(ip.ip))\n        })\n    },\n    async getResources () {\n      this.drc.messengerList = []\n      this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.drc.mhaName + '&type=0')\n        .then(response => {\n          console.log(response.data)\n          this.drc.replicatorList = response.data.data\n        })\n      await this.axios.get('/api/drc/v2/resource/mha/all?mhaName=' + this.drc.mhaName + '&type=7')\n        .then(response => {\n          const applierData = response.data.data\n          applierData.forEach(a => {\n            const existItem = this.drc.messengerList.find(existing => existing.ip === a.ip)\n            if (!existItem) {\n              this.drc.messengerList.push(a)\n            }\n          })\n          // this.drc.messengerList = { ...this.drc.messengerList, ...response.data.data }\n        })\n      this.axios.get('/api/drc/v2/config/mha/dbMessenger?mhaName=' + this.drc.mhaName + '&type=1')\n        .then(response => {\n          this.drc.dbMessengerList = response.data.data\n        })\n    },\n    refreshReplicatorInstances () {\n      this.axios.get('/api/drc/v2/remote/resource/replicatorInstances', {\n        params: {\n          mhaName: this.drc.mhaName,\n          ips: this.drc.replicators.join(',')\n        }\n      }).then(response => {\n        const instances = response.data.data\n        console.log('replicator instance: ', instances)\n        this.drc.currentInstances.replicator = instances\n      })\n    },\n    refreshMessengerInstances () {\n      this.axios.get('/api/drc/v2/remote/resource/messengerInstances', {\n        params: {\n          mhaName: this.drc.mhaName,\n          ips: this.drc.messengers.join(',')\n        }\n      }).then(response => {\n        const instances = response.data.data\n        console.log('messenger instance: ', instances)\n        this.drc.currentInstances.messenger = instances\n      })\n    },\n    getResourcesInUse () {\n      this.axios.get('/api/drc/v2/mha/replicator', { params: { mhaName: this.drc.mhaName } })\n        .then(response => {\n          console.log(this.drc.mhaName + ' replicators ' + response.data.data)\n          this.drc.replicators = []\n          response.data.data.forEach(ip => this.drc.replicators.push(ip))\n          this.refreshReplicatorInstances()\n        })\n      this.axios.get('/api/drc/v2/mha/messenger', { params: { mhaName: this.drc.mhaName } })\n        .then(response => {\n          const messengerDto = response.data.data\n          console.log(this.drc.mhaName + ' messengers ' + messengerDto)\n          this.drc.messengers = messengerDto.ips\n          this.drc.aGtidExecuted = messengerDto.gtidInit\n          this.refreshMessengerInstances()\n        })\n    },\n    goToMqConfigs () {\n      console.log('go to change mq config for ' + this.drc.mhaName)\n      this.$router.push({ path: '/v2/mqConfigs', query: { mhaName: this.drc.mhaName } })\n    },\n    getMhaDbMessenger () {\n      this.$router.push({\n        path: '/dbMessengers',\n        query: {\n          mhaName: this.drc.mhaName\n        }\n      })\n    },\n    handleReset (name) {\n      this.$refs[name].resetFields()\n    },\n    preCheckConfigure () {\n      const params = {\n        mhaName: this.drc.mhaName,\n        replicatorIps: this.drc.replicators.join(','),\n        messengerIps: this.drc.messengers.join(',')\n      }\n      console.log(params)\n      this.axios.get('/api/drc/v2/mha/replicatorIps/check', {\n        params: params\n      }).then(response => {\n        const preCheckRes = response.data.data\n        if (preCheckRes.status === 0) {\n          // 无风险继续\n          this.drc.reviewModal = true\n        } else if (preCheckRes.status === 1) {\n          // 有风险，进入确认页面\n          this.drc.replicators.share = preCheckRes.workingReplicatorIps\n          this.drc.replicators.conflictCurrent = this.drc.replicators\n          this.drc.conflictMha = preCheckRes.conflictMha\n          this.drc.warnModal = true\n        } else {\n          // 响应失败\n          window.alert('config preCheck fail')\n        }\n      })\n    },\n    queryMhaMachineGtid () {\n      this.hasTest1 = false\n      this.drc.rGtidExecuted = ''\n      const that = this\n      console.log('/api/drc/v2/mha/gtid/executed?mha=' + this.drc.mhaName)\n      that.axios.get('/api/drc/v2/mha/gtid/executed?mha=' + this.drc.mhaName)\n        .then(response => {\n          this.hasTest1 = true\n          if (response.data.status === 0) {\n            this.drc.rGtidExecuted = response.data.data\n            this.testSuccess1 = true\n          } else {\n            this.testSuccess1 = false\n            this.$Message.warning('查询位点失败: ' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询位点异常: ' + message)\n        })\n    },\n    queryMhaGtidCheckRes () {\n      if (this.drc.rGtidExecuted == null || this.drc.rGtidExecuted === '') {\n        this.$Message.warning('位点为空！')\n        return\n      }\n      const that = this\n      console.log('/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n        '&configGtid=' + this.drc.rGtidExecuted)\n      that.axios.get('/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n        '&configGtid=' + this.drc.rGtidExecuted)\n        .then(response => {\n          if (response.data.status === 0) {\n            this.gtidCheck.resVo = {\n              mha: this.drc.mhaName,\n              legal: response.data.data.legal === true ? '合理位点' : 'binlog已经被purge',\n              configGtid: this.drc.rGtidExecuted,\n              purgedGtid: response.data.data.purgedGtid\n            }\n            this.gtidCheck.modal = true\n          } else {\n            console.log('api fail:' + '/api/drc/v2/mha/gtid/checkResult?mha=' + this.drc.mhaName +\n              '&configGtid=' + this.drc.rGtidExecuted)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('校验位点异常: ' + message)\n        })\n    },\n    showDbMhaApplierConfig () {\n      return this.drc.dbMessengerSwitch || this.hasAppliers(this.drc.dbMessengerList)\n    },\n    showMhaApplierConfig () {\n      return true\n      // return !this.hasAppliers(this.drc.dbMessengerList)\n    },\n    getRole (ip, currentInstances) {\n      if (!currentInstances || currentInstances.length === 0) {\n        return ''\n      }\n      for (const instance of currentInstances) {\n        if (instance.ip === ip) {\n          return ' — ' + (instance.master ? 'Master' : 'Slave')\n        }\n      }\n      return ''\n    },\n    hasAppliers (dbApplierDtos) {\n      for (const x of dbApplierDtos) {\n        if (x.ips && x.ips.length > 0) {\n          return true\n        }\n      }\n      return false\n    },\n    submitConfig () {\n      const that = this\n      this.axios.post('/api/drc/v2/config/messenger/submitConfig', {\n        mhaName: this.drc.mhaName,\n        replicatorIps: this.drc.replicators,\n        messengerIps: this.drc.messengers,\n        aGtidExecuted: this.drc.aGtidExecuted,\n        rGtidExecuted: this.drc.rGtidExecuted\n      }).then(response => {\n        console.log(response.data)\n        if (response.data.status === 1) {\n          this.$Message.warning({\n            content: '提交失败：' + response.data.message,\n            duration: 10\n          })\n          return\n        }\n        that.result = response.data.data\n        that.drc.reviewModal = false\n        that.drc.resultModal = true\n      }).catch(message => {\n        this.$Message.error({\n          content: '提交异常: ' + message,\n          duration: 10\n        })\n      })\n    },\n    reviewConfigure () {\n      this.drc.reviewModal = true\n    }\n  },\n  created () {\n    this.getResources()\n    this.getResourcesInUse()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcMqConfig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./drcMqConfig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./drcMqConfig.vue?vue&type=template&id=0c6faf62&scoped=true&v-if=current%20%3D%3D%3D%200&%3Akey=0\"\nimport script from \"./drcMqConfig.vue?vue&type=script&lang=js\"\nexport * from \"./drcMqConfig.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c6faf62\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/v2/dbMqBuildV2\"}},[_vm._v(\"DB粒度 Mq\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"18\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"数据库\",\"required\":true}},[_c('Select',{attrs:{\"filterable\":\"\",\"disabled\":!!_vm.meta.fixDb,\"placeholder\":\"请搜索数据库信息\",\"remote-method\":_vm.getExistDb,\"loading\":_vm.dataLoading},on:{\"on-change\":_vm.selectDb},model:{value:(_vm.meta.dbName),callback:function ($$v) {_vm.$set(_vm.meta, \"dbName\", $$v)},expression:\"meta.dbName\"}},_vm._l((_vm.meta.dbOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.dbName}},[_vm._v(_vm._s(option.dbName))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"同步方向\",\"required\":true}},[_c('RadioGroup',{attrs:{\"button-style\":\"solid\"},on:{\"on-change\":_vm.afterSelectExistReplication},model:{value:(_vm.selectedExistReplication),callback:function ($$v) {_vm.selectedExistReplication=$$v},expression:\"selectedExistReplication\"}},_vm._l((_vm.meta.existReplicationRegionOptions),function(items){return _c('Radio',{key:items.srcRegionName,attrs:{\"label\":items.srcRegionName,\"border\":\"\"}},[_vm._v(\" \"+_vm._s(items.srcRegionName)+\" \")])}),1),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\",\"ghost\":\"\"},on:{\"click\":_vm.goToCreateReplication}},[_vm._v(\"新增\")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":\"创建同步\"},model:{value:(_vm.createModal.open),callback:function ($$v) {_vm.$set(_vm.createModal, \"open\", $$v)},expression:\"createModal.open\"}},[(_vm.createModal.open)?_c('mha-preview',{attrs:{\"db-name\":_vm.meta.dbName,\"replication-type\":1,\"exist-replication-region-options\":_vm.meta.existReplicationRegionOptions},on:{\"updated\":_vm.selectDb}}):_vm._e()],1)],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"消息投递配置\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[_c('mq-tables',{attrs:{\"table-data\":_vm.drcConfig.logicTableSummaryDtos,\"data-loading\":_vm.configDataLoading,\"src-region\":_vm.meta.srcRegionName,\"dst-region\":_vm.meta.dstRegionName,\"db-name\":_vm.meta.dbName,\"db-names\":_vm.drcConfig.dbNames},on:{\"updated\":_vm.getDrcConfig}})],1),_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"DB\")]),_c('Card',{staticStyle:{\"width\":\"100%\"}},[(_vm.drcConfig.mhaMqDtos)?_c('mha-mq-panel',{attrs:{\"mha-mq-dtos\":_vm.drcConfig.mhaMqDtos},on:{\"updated\":_vm.getDrcConfig}}):_vm._e()],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Table',{ref:\"multipleTable\",staticStyle:{\"margin-top\":\"20px\"},attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.dataLoading,\"border\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ row, index }){return [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToUpdateConfig(row, index)}}},[_vm._v(\"修改 \")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDeleteConfig(row, index)}}},[_vm._v(\"删除 \")])]}}])}),_c('br'),_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"md-add\"},on:{\"click\":_vm.goToInsertConfig}},[_vm._v(\" 新增 \")]),_c('Modal',{attrs:{\"width\":\"1200px\",\"footer-hide\":true,\"title\":_vm.actionTitle},model:{value:(_vm.editModal.open),callback:function ($$v) {_vm.$set(_vm.editModal, \"open\", $$v)},expression:\"editModal.open\"}},[(_vm.editModal.open)?_c('db-mq-config',{ref:\"dbReplicationConfigComponent\",attrs:{\"config-data\":_vm.selectedRow,\"src-region\":_vm.srcRegion,\"dst-region\":_vm.srcRegion,\"db-names\":_vm.dbNames,\"form-action\":_vm.action,\"filter-read-only\":_vm.filterReadOnly},on:{\"finished\":_vm.finishConfig}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Row',{attrs:{\"gutter\":10,\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"13\"}},[_c('Form',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"model\":_vm.formItem,\"disabled\":_vm.formAction === 'delete',\"label-width\":100}},[(_vm.alertInfo.show)?_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),(_vm.alertInfo.successShow)?_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\",\"closable\":\"\"},scopedSlots:_vm._u([{key:\"desc\",fn:function(){return [_vm._v(_vm._s(_vm.alertInfo.message))]},proxy:true}],null,false,3041357252)},[_vm._v(\" \"+_vm._s(_vm.alertInfo.title)+\" \")]):_vm._e(),_c('FormItem',{attrs:{\"label\":\"部门\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"选择部门\"},model:{value:(_vm.formItem.bu),callback:function ($$v) {_vm.$set(_vm.formItem, \"bu\", $$v)},expression:\"formItem.bu\"}},_vm._l((_vm.formItem.constants.buForChosen),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"prop\":\"dbName\",\"label\":\"库名\",\"required\":true}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":true,\"readonly\":true,\"border\":false,\"placeholder\":\"请输入库名（支持正则）\"},model:{value:(_vm.formItem.dbName),callback:function ($$v) {_vm.$set(_vm.formItem, \"dbName\", $$v)},expression:\"formItem.dbName\"}})],1),_c('FormItem',{attrs:{\"label\":\"同步表\",\"required\":true}},[_c('Input',{attrs:{\"placeholder\":\"请输入正则表达式\"},on:{\"on-keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;$event.preventDefault();},\"on-blur\":_vm.afterEnterTableName},model:{value:(_vm.formItem.tableName),callback:function ($$v) {_vm.$set(_vm.formItem, \"tableName\", $$v)},expression:\"formItem.tableName\"}})],1),_c('FormItem',{attrs:{\"label\":\"MQ主题\"}},[_c('Input',{staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"请输入自定义Topic\"},on:{\"on-blur\":_vm.refreshTopicBu},model:{value:(_vm.formItem.topic),callback:function ($$v) {_vm.$set(_vm.formItem, \"topic\", $$v)},expression:\"formItem.topic\"}})],1),_c('FormItem',{attrs:{\"label\":\"exclude类型\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"选择过滤类型\",\"disabled\":_vm.filterReadOnly},model:{value:(_vm.formItem.excludeFilterTypes),callback:function ($$v) {_vm.$set(_vm.formItem, \"excludeFilterTypes\", $$v)},expression:\"formItem.excludeFilterTypes\"}},_vm._l((_vm.excludeFilterTypesForChose),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"有序消息\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},scopedSlots:_vm._u([{key:\"open\",fn:function(){return [_c('span',[_vm._v(\"On\")])]},proxy:true},{key:\"close\",fn:function(){return [_c('span',[_vm._v(\"Off\")])]},proxy:true}]),model:{value:(_vm.formItem.switch.order),callback:function ($$v) {_vm.$set(_vm.formItem.switch, \"order\", $$v)},expression:\"formItem.switch.order\"}})],1),(_vm.formItem.switch.order)?_c('Card',{staticStyle:{\"margin-left\":\"100px\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\" 有序消息字段 \"),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"icon\":\"ios-refresh\",\"size\":\"small\",\"type\":\"primary\",\"loading\":_vm.commonColumnLoading},on:{\"click\":_vm.getCommonColumns}},[_vm._v(\"获取公共字段 \")])]},proxy:true}],null,false,4117777808)},[_c('FormItem',{attrs:{\"label\":\"字段\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"不选表示按主键投递\",\"clearable\":\"\"},on:{\"on-create\":_vm.handleCreateColumn},model:{value:(_vm.formItem.orderKey),callback:function ($$v) {_vm.$set(_vm.formItem, \"orderKey\", $$v)},expression:\"formItem.orderKey\"}},_vm._l((_vm.formItem.constants.columnsForChose),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1)],1):_vm._e()],1)],1),_c('Col',{attrs:{\"span\":\"11\"}},[_c('db-tables-preview',{attrs:{\"src-region-name\":_vm.srcRegion,\"dst-region-name\":null,\"db-name\":_vm.formItem.dbName,\"table-names\":_vm.formItem.tableName,\"mode\":_vm.formItem.buildMode,\"replication-type\":Number(1)}})],1)],1),_c('Divider'),_c('Button',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"type\":_vm.buttonTypeMap.get(_vm.formAction),\"loading\":_vm.dataLoading || _vm.commonColumnLoading},on:{\"click\":_vm.submitAll}},[_vm._v(_vm._s(_vm.buttonTextMap.get(_vm.formAction))+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Row :gutter=10 align=\"middle\">\n      <Col span=\"13\">\n        <Form :model=\"formItem\" :disabled=\"formAction === 'delete'\" :label-width=\"100\"\n              style=\"margin-right: 20px;margin-top: 10px\">\n          <Alert type=\"warning\" show-icon v-if=\"alertInfo.show\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <Alert type=\"success\" show-icon v-if=\"alertInfo.successShow\" closable>\n            {{ alertInfo.title }}\n            <template #desc>{{ alertInfo.message }}</template>\n          </Alert>\n          <FormItem label=\"部门\">\n            <Select v-model=\"formItem.bu\" filterable placeholder=\"选择部门\">\n              <Option v-for=\"item in formItem.constants.buForChosen\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem prop=\"dbName\" label=\"库名\" :required=true>\n            <Input type=\"textarea\" v-model=\"formItem.dbName\" :autosize=\"true\" :readonly=\"true\" :border=\"false\"\n                   placeholder=\"请输入库名（支持正则）\"/>\n          </FormItem>\n          <FormItem label=\"同步表\" :required=true>\n            <Input @on-keydown.space.prevent v-model=\"formItem.tableName\" placeholder=\"请输入正则表达式\"\n                   @on-blur=\"afterEnterTableName\"></Input>\n          </FormItem>\n\n          <FormItem label=\"MQ主题\">\n            <Input v-model=\"formItem.topic\" style=\"width:350px\" placeholder=\"请输入自定义Topic\"\n                   @on-blur=\"refreshTopicBu\"\n            />\n          </FormItem>\n          <FormItem label=\"exclude类型\">\n            <Select v-model=\"formItem.excludeFilterTypes\" filterable  multiple style=\"width: 200px\" placeholder=\"选择过滤类型\" :disabled=\"filterReadOnly\">\n              <Option v-for=\"item in excludeFilterTypesForChose\" :value=\"item.value\" :key=\"item.value\" >{{ item.label }}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"有序消息\">\n            <i-switch v-model=\"formItem.switch.order\" size=\"large\">\n              <template #open>\n                <span>On</span>\n              </template>\n              <template #close>\n                <span>Off</span>\n              </template>\n            </i-switch>\n          </FormItem>\n          <Card v-if=\"formItem.switch.order\" style=\"margin-left: 100px\">\n            <template #title>\n              <Icon type=\"md-settings\"/>\n              有序消息字段\n              <Button icon=\"ios-refresh\" size=\"small\" type=\"primary\" :loading=\"commonColumnLoading\"\n                      @click=\"getCommonColumns\" style=\"margin-left: 50px\">获取公共字段\n              </Button>\n            </template>\n            <FormItem label=\"字段\">\n              <Select v-model=\"formItem.orderKey\" filterable allow-create @on-create=\"handleCreateColumn\"\n                      style=\"width: 200px\" placeholder=\"不选表示按主键投递\" clearable>\n                <Option v-for=\"item in formItem.constants.columnsForChose\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n              </Select>\n            </FormItem>\n          </Card>\n        </Form>\n      </Col>\n      <Col span=\"11\">\n        <db-tables-preview :src-region-name=\"srcRegion\"\n                           :dst-region-name=\"null\"\n                           :db-name=\"formItem.dbName\"\n                           :table-names=\"formItem.tableName\"\n                           :mode=\"formItem.buildMode\"\n                           :replication-type=\"Number(1)\"\n        />\n      </Col>\n    </Row>\n    <Divider></Divider>\n    <Button :type=\"buttonTypeMap.get(formAction)\" @click=\"submitAll\" style=\"margin-left: 50px\"\n            :loading=\"dataLoading || commonColumnLoading\">{{\n        buttonTextMap.get(formAction)\n      }}\n    </Button>\n  </div>\n</template>\n\n<script>\n\nimport DbTablesPreview from '@/components/v2/dbDrcBuild/dbTablesPreview.vue'\n\nexport default {\n  components: { DbTablesPreview },\n  FORM_ACTION_OPTION: {\n    CREATE: 'create',\n    EDIT: 'edit',\n    DELETE: 'delete'\n  },\n  name: 'dbMqConfig',\n  props: {\n    configData: {},\n    srcRegion: String,\n    dstRegion: String,\n    dbNames: Array,\n    formAction: String,\n    filterReadOnly: Boolean\n  },\n  emits: ['finished'],\n  data () {\n    return {\n      meta: {\n        rowsFilterId: null,\n        colsFilterId: null,\n        dbReplicationIds: [],\n        originLogicTableConfig: {}\n      },\n      formItem: {\n        bu: null,\n        buildMode: 2,\n        dbName: null,\n        tableName: null,\n        topic: null,\n        orderKey: null,\n        excludeFilterTypes: [],\n        switch: {\n          order: false\n        },\n        constants: {\n          columnsForChose: [],\n          buForChosen: []\n        }\n      },\n      checkTableDataList: [],\n      table: {\n        dbMhaTableLoading: false,\n        dbMhaTableColumn: [\n          {\n            title: 'DB名',\n            key: 'dbName'\n          },\n          {\n            title: '源集群',\n            key: 'srcMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.srcMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                        {\n                          float: 'right',\n                          color: '#ababab'\n                        }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          },\n          {\n            title: '目标集群',\n            key: 'dstMhaName',\n            render: (h, params) => {\n              const row = params.row\n              const mha = row.dstMha\n              if (mha != null) {\n                return h('div', [\n                  h('span', mha.name),\n                  h('span', {\n                    style:\n                        {\n                          float: 'right',\n                          color: '#ababab'\n                        }\n                  }, mha.regionName + '(' + mha.dcName + ')')\n                ])\n              }\n            }\n          }\n        ],\n        dbMhaTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        },\n        dbTableLoading: false,\n        dbTableColumn: [\n          {\n            title: '序号',\n            width: 75,\n            align: 'center',\n            fixed: 'left',\n            render: (h, params) => {\n              return h(\n                'span',\n                params.index + 1\n              )\n            }\n          },\n          {\n            title: '库名',\n            key: 'schema',\n            resizable: true\n          },\n          {\n            title: '表名',\n            key: 'table',\n            resizable: true\n          },\n          {\n            title: '结果',\n            align: 'center',\n            render: (h, params) => {\n              const row = params.row\n              const color = row.res !== 'ok' ? 'volcano' : 'green'\n              const text = row.res\n              return h('Tag', {\n                props: {\n                  color: color\n                }\n              }, text)\n            }\n          }\n        ],\n        dbTablePage: {\n          total: 0,\n          current: 1,\n          size: 5,\n          pageSizeOpts: [5, 10, 20, 100]\n        }\n      },\n      alertInfo: {\n        show: false,\n        successShow: false,\n        title: null,\n        message: null\n      },\n      buttonTextMap: new Map([\n        ['create', '新增 MQ投递'],\n        ['edit', '更新 MQ投递'],\n        ['delete', '删除 MQ投递']\n      ]),\n      buttonTypeMap: new Map([\n        ['create', 'success'],\n        ['edit', 'primary'],\n        ['delete', 'error']\n      ]),\n      dataLoading: false,\n      successSubmit: false,\n      commonColumnLoading: false,\n      excludeFilterTypesForChose: [\n        {\n          value: 'D',\n          label: 'DELETE'\n        },\n        {\n          value: 'U',\n          label: 'UPDATE'\n        },\n        {\n          value: 'I',\n          label: 'INSERT'\n        }\n      ]\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.buName = this.formItem.buName\n      param.tag = this.formItem.tag\n      param.mode = this.formItem.buildMode\n      param.srcRegionName = this.srcRegion\n      param.replicationType = 1\n\n      if (this.gtidConfigurable) {\n        param.gtidInit = this.formItem.gtidInit\n      }\n\n      param.tblsFilterDetail = {\n        tableNames: this.formItem.tableName\n      }\n      param.dbName = this.formItem.dbName\n      return param\n    },\n    getEditParams: function () {\n      const param = {}\n      param.dbReplicationIds = this.meta.dbReplicationIds\n      param.dbNames = this.dbNames\n      param.srcRegionName = this.srcRegion\n\n      param.logicTableConfig = {\n        logicTable: this.formItem.tableName,\n        dstLogicTable: this.formItem.topic\n      }\n      param.originLogicTableConfig = this.meta.originLogicTableConfig\n      param.mqConfig = {\n        bu: this.formItem.bu,\n        mqType: 'qmq',\n        // table: this.mqConfig.table,\n        // topic: this.mqConfig.topic,\n        serialization: 'json',\n        persistent: false,\n        order: this.formItem.switch.order,\n        orderKey: this.formItem.switch.orderKey === '' ? null : this.formItem.orderKey,\n        excludeFilterTypes: this.formItem.excludeFilterTypes\n      }\n      console.log(param)\n      return param\n    },\n    async getCommonColumns () {\n      const params = this.getParams()\n      this.formItem.constants.columnsForChose = []\n      this.commonColumnLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/commonColumns', {\n        params: this.flattenObj(params)\n      }).then(response => {\n        if (response.data.status === 1) {\n          this.$Message.error('查询公共列名失败，请手动添加：' + response.data.message)\n        } else {\n          this.formItem.constants.columnsForChose = response.data.data\n          this.$Message.info('查询公共列名数：' + response.data.data.length)\n        }\n      }).catch(message => {\n        this.$Message.error('查询公共列名异常: ' + message)\n      }).finally(() => {\n        this.commonColumnLoading = false\n      })\n    },\n    handleCreateColumn (val) {\n      if (this.contains(this.formItem.constants.columnsForChose, val)) {\n        alert('已有项禁止创建')\n        return\n      }\n      if (val === '' || val === undefined || val === null) {\n        alert('字段不能为空')\n        return\n      }\n      this.formItem.constants.columnsForChose.push(val)\n    },\n    refreshTopicBu () {\n      if (this.formItem.topic) {\n        this.formItem.bu = this.formItem.topic.split('.')[0]\n      }\n    },\n    async afterEnterTableName () {\n      await this.getTableInfo()\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    },\n    async refresh () {\n      this.formItem.dbName = this.dbNames.join(',')\n      if (this.configData) {\n        console.log('edit panel ', JSON.stringify(this.configData))\n        this.formItem.tableName = this.configData.config.logicTable\n        this.formItem.topic = this.configData.config.dstLogicTable\n        this.formItem.orderKey = this.configData.orderKey\n        this.formItem.switch.order = this.configData.order\n        this.formItem.excludeFilterTypes = this.configData.excludeFilterTypes\n        this.refreshTopicBu()\n        this.getCommonColumns()\n        this.meta.dbReplicationIds = this.configData.dbReplicationIds\n        this.meta.originLogicTableConfig = this.configData.config\n        this.meta.originMyConfig = this.configData.config\n      } else {\n        console.log('insert new config')\n      }\n    },\n    getBuListFromQmq () {\n      this.axios.get('/api/drc/v2/messenger/qmq/bus')\n        .then(response => {\n          if (response.data.status === 1) {\n            window.alert('从查询qmq 部门信息失败!')\n          } else {\n            this.formItem.constants.buForChosen = response.data.data\n          }\n        })\n    },\n    async submitAll () {\n      const that = this\n      that.alertInfo.show = false\n      that.alertInfo.successShow = false\n      that.successSubmit = false\n      const params = this.getEditParams()\n      // if (!this.checkParam(params)) {\n      //   return\n      // }\n      that.dataLoading = true\n      await that.axios.post('/api/drc/v2/autoconfig/dbMq/' + this.formAction, params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            that.$Message.success('提交成功')\n            that.successSubmit = true\n            that.alertInfo.successShow = true\n            that.alertInfo.message = null\n            that.alertInfo.title = '提交成功'\n            that.$emit('finished')\n          } else {\n            that.$Message.warning('提交失败: ' + data.message)\n            that.alertInfo.show = true\n            that.alertInfo.title = '提交失败'\n            that.alertInfo.message = data.message\n          }\n        })\n        .catch(message => {\n          that.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    rowsFilterCreateParamInit () {\n      return {\n        mode: 1,\n        drcStrategyId: 2000000002,\n        routeStrategyId: 0,\n        udlColumns: [],\n        columns: [],\n        context: '',\n        illegalArgument: false,\n        fetchMode: 0\n      }\n    },\n    columnsFilterCreateParamInit () {\n      return {\n        mode: null,\n        columns: []\n      }\n    }\n  },\n  computed: {\n    preCheckTablePage () {\n      const data = this.checkTableDataList\n      const start = this.table.dbTablePage.current * this.table.dbTablePage.size - this.table.dbTablePage.size\n      const end = start + this.table.dbTablePage.size\n      return [...data].slice(start, end)\n    },\n    useTripUdlOrUidMode () {\n      return [this.formItem.constants.rowsFilter.filterMode.TRIP_UDL, this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID].includes(this.formItem.rowsFilterCreateParam.mode)\n    },\n    hasUdlColumn () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0\n    },\n    fillContextByRegion () {\n      return this.formItem.rowsFilterCreateParam.fetchMode === this.formItem.constants.rowsFilter.fetchMode.RPC\n    },\n    hasUidColumn () {\n      return this.formItem.rowsFilterCreateParam.columns.length !== 0\n    },\n    showUdlConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUdlLegalConfig || !this.hasUidLegalConfig\n    },\n    showUidConfigDetail () {\n      return this.formItem.rowsFilterCreateParam.mode === this.formItem.constants.rowsFilter.filterMode.TRIP_UDL_UID || this.hasUidLegalConfig || !this.hasUdlLegalConfig\n    },\n    hasUdlLegalConfig () {\n      return this.formItem.rowsFilterCreateParam.udlColumns.length !== 0 && this.formItem.rowsFilterCreateParam.drcStrategyId != null && this.formItem.rowsFilterCreateParam.drcStrategyId > 0\n    },\n    hasUidLegalConfig () {\n      return this.hasUidColumn\n    }\n  },\n  created () {\n    this.getBuListFromQmq()\n    this.refresh()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqConfig.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqConfig.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dbMqConfig.vue?vue&type=template&id=549a1030&scoped=true\"\nimport script from \"./dbMqConfig.vue?vue&type=script&lang=js\"\nexport * from \"./dbMqConfig.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"549a1030\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Table style=\"margin-top: 20px\" stripe :columns=\"columns\" :data=\"tableData\" :loading=\"dataLoading\" border\n           ref=\"multipleTable\">\n      <template slot=\"action\" slot-scope=\"{ row, index }\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToUpdateConfig(row, index)\">修改\n        </Button>\n        <Button type=\"error\" size=\"small\" style=\"margin-right: 5px\" @click=\"goToDeleteConfig(row, index)\">删除\n        </Button>\n      </template>\n    </Table>\n    <br/>\n    <Button type=\"success\" @click=\"goToInsertConfig\" icon=\"md-add\">\n      新增\n    </Button>\n    <Modal v-model=\"editModal.open\" width=\"1200px\" :footer-hide=\"true\" :title=\"actionTitle\">\n      <db-mq-config ref=\"dbReplicationConfigComponent\" @finished=\"finishConfig\"\n                             v-if=\"editModal.open\"\n                             :config-data=\"selectedRow\"\n                             :src-region=\"srcRegion\"\n                             :dst-region=\"srcRegion\"\n                             :db-names=\"dbNames\"\n                             :form-action=\"action\"\n                             :filter-read-only=\"filterReadOnly\"\n      />\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport DbMqConfig from '@/components/v2/dbDrcBuild/dbMqConfig.vue'\n\nexport default {\n  name: 'mqTables',\n  components: { DbMqConfig },\n  props: {\n    dbName: String,\n    dbNames: Array,\n    srcRegion: String,\n    dstRegion: String,\n    tableData: Array,\n    dataLoading: Boolean\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      selectedRow: {},\n      action: null,\n      actionTitleMap: new Map([\n        ['create', '新增 MQ投递配置'],\n        ['edit', '更新 MQ投递配置'],\n        ['delete', '⚠️删除 MQ投递配置']\n      ]),\n      editModal: {\n        open: false\n      },\n      filterReadOnly: false,\n      columns: [\n        {\n          title: '序号',\n          width: 75,\n          align: 'center',\n          fixed: 'left',\n          render: (h, params) => {\n            return h(\n              'span',\n              params.index + 1\n            )\n          }\n        },\n        {\n          title: '表名',\n          key: 'config.logicTable',\n          render: (h, params) => {\n            const config = params.row.config\n            return h(\n              'span',\n              config.logicTable\n            )\n          }\n        },\n        {\n          title: '主题',\n          key: 'topic',\n          render: (h, params) => {\n            const config = params.row.config\n            return h(\n              'span',\n              config.dstLogicTable\n            )\n          }\n        },\n        {\n          title: '有序',\n          key: 'order',\n          width: 100,\n          render: (h, params) => {\n            const row = params.row\n            const color = 'blue'\n            const text = row.order ? '有序' : '无序'\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '有序相关字段',\n          key: 'orderKey',\n          width: 100,\n          render: (h, params) => {\n            const row = params.row\n            const text = row.orderKey ? row.orderKey : '主键'\n            return h('span', text)\n          }\n        },\n        {\n          title: '过滤类型',\n          key: 'excludeFilterTypes'\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center',\n          fixed: 'right'\n        }\n      ]\n    }\n  },\n  methods: {\n    async goToInsertConfig () {\n      this.selectedRow = null\n      this.action = DbMqConfig.FORM_ACTION_OPTION.CREATE\n      this.editModal.open = true\n      this.filterReadOnly = false\n    },\n    async goToUpdateConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbMqConfig.FORM_ACTION_OPTION.EDIT\n      this.editModal.open = true\n      this.filterReadOnly = true\n    },\n    async goToDeleteConfig (row, index) {\n      this.selectedRow = row\n      this.action = DbMqConfig.FORM_ACTION_OPTION.DELETE\n      this.editModal.open = true\n    },\n    finishConfig () {\n      this.selectedRow = null\n      this.editModal.open = false\n      this.$emit('updated')\n    }\n  },\n  computed: {\n    actionTitle () {\n      return this.actionTitleMap.get(this.action)\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqTables.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mqTables.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mqTables.vue?vue&type=template&id=2247ec85&scoped=true\"\nimport script from \"./mqTables.vue?vue&type=script&lang=js\"\nexport * from \"./mqTables.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2247ec85\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{style:({padding: '1px 1px',height: '100%'})},[_c('Collapse',{model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.mhaMqDtos),function(mhaMqDto,index){return _c('Panel',{key:mhaMqDto.srcMha.name +'-> mq',attrs:{\"name\":String(index)},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('Button',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"icon\":\"ios-open-outline\"},on:{\"click\":function($event){return _vm.openModal(index)}}},[_vm._v(\" 打开详情\")]),_c('mha-db-mq-panel',{attrs:{\"mha-mq-dtos\":mhaMqDto}}),_c('Modal',{attrs:{\"width\":\"1500px\",\"footer-hide\":true},model:{value:(_vm.openDetailModal[index]),callback:function ($$v) {_vm.$set(_vm.openDetailModal, index, $$v)},expression:\"openDetailModal[index]\"}},[(_vm.openDetailModal[index])?_c('drc-mq-config',{ref:\"dbReplicationConfigComponent\",refInFor:true,attrs:{\"mha-name\":mhaMqDto.srcMha.name,\"dc\":mhaMqDto.srcMha.dcName}}):_vm._e()],1)]},proxy:true}],null,true)},[_vm._v(\" \"+_vm._s(mhaMqDto.srcMha.name + ' ------ ' + ([mhaMqDto.mhaDbReplications.length] + 'DB'))+\" \")])}),1),_c('br'),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-sync\"},on:{\"click\":_vm.goToSwitchMessengers}},[_vm._v(\" 切换Messenger生效配置 \")]),_c('br')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.mhaMqDtos.mhaMessengerDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.mhaDbReplications}}):_vm._e(),(_vm.mhaMqDtos.mhaMessengerDto)?_c('Table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.mhaColumns,\"data\":[_vm.mhaMqDtos]}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div>\n    <Table stripe border :columns=\"columns\" :data=\"mhaDbReplications\" v-if=\"!mhaMqDtos.mhaMessengerDto\">\n    </Table>\n    <Table stripe border :columns=\"mhaColumns\" :data=\"[mhaMqDtos]\" v-if=\"mhaMqDtos.mhaMessengerDto\">\n    </Table>\n  </div>\n\n</template>\n\n<script>\nimport prettyMilliseconds from 'pretty-ms'\n\nexport default {\n  name: 'mhaDbMqPanel',\n  props: {\n    mhaMqDtos: {}\n  },\n  data () {\n    return {\n      mhaDbReplications: this.mhaMqDtos.mhaDbReplications,\n      value: ['1'],\n      delayDataLoading: false,\n      columns: [\n        {\n          title: '类型',\n          width: 80,\n          render: (h, params) => {\n            const row = params.row\n            let text = 'none'\n            let type = 'error'\n            let disabled = false\n            switch (row.transmissionType) {\n              case 'simplex':\n                text = '单'\n                type = 'info'\n                break\n              case 'duplex':\n                text = '双'\n                type = 'success'\n                break\n              default:\n                text = '无'\n                disabled = true\n                break\n            }\n            return h('Button', {\n              props: {\n                type: type,\n                size: 'small',\n                disabled: disabled\n              },\n              on: {\n                click: () => {\n                  this.showModal(row)\n                }\n              }\n            }, text)\n          }\n        },\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.replicationIds && this.replicationIds.length !== 0 && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getMhaMessengerDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.drcStatus === true) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.src.dbName)\n          }\n        },\n        {\n          title: 'messenger',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.dbMessengerDto ? params.row.dbMessengerDto.ips.join(', ') : null)\n          }\n        }\n      ],\n      mhaColumns: [\n        {\n          title: '延迟',\n          key: 'drcStatus',\n          width: 100,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h('span', [\n              h('span', '延迟'),\n              this.mhaMqDtos.mhaMessengerDto.ips && h('Button', {\n                on: {\n                  click: async () => {\n                    await this.getMhaMessengerDelay()\n                  }\n                },\n                props: {\n                  loading: this.delayDataLoading,\n                  size: 'small',\n                  shape: 'circle',\n                  type: 'default',\n                  icon: 'md-refresh'\n                }\n              })\n            ])\n          },\n          render: (h, params) => {\n            const row = params.row\n            let color, text\n            if (row.mhaMessengerDto.ips) {\n              if (row.delay != null) {\n                text = prettyMilliseconds(row.delay, { compact: true })\n                if (row.delay > 10000) {\n                  color = 'warning'\n                } else {\n                  color = 'success'\n                }\n              } else {\n                text = '已接入'\n                color = 'blue'\n              }\n            } else {\n              text = '未接入'\n              color = 'default'\n            }\n            return h('Tag', {\n              props: {\n                color: color\n              }\n            }, text)\n          }\n        },\n        {\n          title: '类型',\n          width: 100,\n          key: '',\n          render: (h, params) => {\n            return h('p', 'mha 同步')\n          }\n        },\n        {\n          title: 'DB 名',\n          key: 'srcDbName',\n          render: (h, params) => {\n            return h('p', params.row.mhaDbReplications.map(item => item.src.dbName).join(','))\n          }\n        },\n        {\n          title: 'messenger',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaMessengerDto.ips.join(','))\n          }\n        },\n        {\n          title: 'initGtid',\n          key: '',\n          render: (h, params) => {\n            return h('p', params.row.mhaMessengerDto.gtidInit)\n          }\n        }\n      ]\n    }\n  },\n  methods: {\n    showModal (row) {\n      this.$Message.info('还未上线，敬请期待')\n    },\n    async getMhaMessengerDelay () {\n      this.delayDataLoading = true\n      this.axios.post('/api/drc/v2/messenger/delay', {\n        mhas: [this.mhaMqDtos.srcMha.name],\n        dbs: this.mhaMqDtos.mhaDbReplications.map(item => item.src.dbName)\n      })\n        .then(response => {\n          const delays = response.data.data[0].delayInfoDto.delay\n          this.$set(this.mhaMqDtos, 'delay', delays)\n        })\n        .catch(message => {\n          console.log(message)\n          // this.$Message.error('查询 MHA 延迟异常: ' + message)\n        })\n        .finally(() => {\n          this.delayDataLoading = false\n        })\n    }\n  },\n  computed: {\n    replicationIds () {\n      return this.mhaDbReplications\n        .filter(item => item.drcStatus === true)\n        .map(item => item.id)\n        .join(',')\n    }\n  },\n  created () {\n    this.getMhaMessengerDelay()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbMqPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaDbMqPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mhaDbMqPanel.vue?vue&type=template&id=74db8a0d&scoped=true\"\nimport script from \"./mhaDbMqPanel.vue?vue&type=script&lang=js\"\nexport * from \"./mhaDbMqPanel.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74db8a0d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :style=\"{padding: '1px 1px',height: '100%'}\">\n    <Collapse v-model=\"value\">\n      <Panel v-for=\"(mhaMqDto, index) in mhaMqDtos\"\n             :key=\"mhaMqDto.srcMha.name +'-> mq'\"\n             :name=\"String(index)\">\n        {{ mhaMqDto.srcMha.name + ' ------ ' + ([mhaMqDto.mhaDbReplications.length] + 'DB') }}\n        <template #content>\n          <Button icon=\"ios-open-outline\" @click=\"openModal(index)\" style=\"margin-bottom: 10px\"> 打开详情</Button>\n          <mha-db-mq-panel :mha-mq-dtos=\"mhaMqDto\"/>\n              <Modal v-model=\"openDetailModal[index]\" width=\"1500px\" :footer-hide=\"true\">\n                <drc-mq-config ref=\"dbReplicationConfigComponent\" v-if=\"openDetailModal[index]\"\n                              :mha-name=\"mhaMqDto.srcMha.name\"\n                              :dc=\"mhaMqDto.srcMha.dcName\"\n                />\n              </Modal>\n        </template>\n      </Panel>\n    </Collapse>\n    <br/>\n    <Button type=\"primary\" @click=\"goToSwitchMessengers\" icon=\"md-sync\">\n      切换Messenger生效配置\n    </Button>\n    <br/>\n  </div>\n</template>\n\n<script>\n\nimport MhaDbMqPanel from '@/components/v2/dbDrcBuild/mhaDbMqPanel.vue'\nimport DrcMqConfig from '@/components/v2/mhaMessengers/drcMqConfig.vue'\n\nexport default {\n  name: 'mhaMqPanel',\n  components: { DrcMqConfig, MhaDbMqPanel },\n  props: {\n    mhaMqDtos: Array\n  },\n  emits: ['updated'],\n  data () {\n    return {\n      value: [],\n      openDetailModal: [],\n      dataLoading: false\n    }\n  },\n  methods: {\n    openModal (index) {\n      this.$set(this.openDetailModal, index, true)\n    },\n    goToSwitchMessengers () {\n      this.$Modal.confirm({\n        title: '切换Messenger',\n        content: '<p>请确认</p>',\n        loading: true,\n        onOk: () => {\n          this.switchMessengers()\n        }\n      })\n    },\n    switchMessengers () {\n      const params = this.getSwitchParams()\n      console.log(params)\n      this.dataLoading = true\n      this.axios.post('/api/drc/v2/autoconfig/switchMessengers', params)\n        .then(response => {\n          const data = response.data\n          const success = data.status === 0\n          if (success) {\n            this.$Message.success('提交成功')\n          } else {\n            this.$Message.warning('提交失败: ' + data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('提交异常: ' + message)\n        })\n        .finally(() => {\n          this.$Modal.remove()\n          this.dataLoading = false\n          this.$emit('updated')\n        })\n    },\n    getSwitchParams () {\n      return this.mhaMqDtos.map((item) => {\n        return {\n          srcMhaName: item.srcMha.name,\n          dbNames: item.mhaDbReplications.map((mhaDbReplication) => {\n            return mhaDbReplication.src.dbName\n          })\n        }\n      })\n    }\n  },\n  created () {\n    console.log('mhaMqDtos', this.mhaMqDtos)\n    this.openDetailModal = Array(this.mhaMqDtos.length).fill(false)\n    if (this.mhaMqDtos.length === 1) {\n      this.value = ['0']\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaMqPanel.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mhaMqPanel.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mhaMqPanel.vue?vue&type=template&id=8f02f32c&scoped=true\"\nimport script from \"./mhaMqPanel.vue?vue&type=script&lang=js\"\nexport * from \"./mhaMqPanel.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f02f32c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/v2/dbMqBuildV2\">DB粒度 Mq</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\"\n             :style=\"{padding: '10px', background: '#ffffff', margin: '50px 0 111px 185px', zIndex: '1'}\">\n      <Row :gutter=10 align=\"middle\">\n        <Col span=\"18\">\n          <Form :model=\"formItem\" :label-width=\"100\" style=\"margin-right: 20px;margin-top: 10px\">\n            <FormItem label=\"数据库\" :required=true>\n              <Select\n                v-model=\"meta.dbName\"\n                filterable\n                :disabled=\"!!meta.fixDb\"\n                placeholder=\"请搜索数据库信息\"\n                @on-change=\"selectDb\"\n                :remote-method=\"getExistDb\"\n                :loading=\"dataLoading\">\n                <Option v-for=\"(option, index) in meta.dbOptions\" :value=\"option.dbName\" :key=\"index\">{{ option.dbName }}</Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"同步方向\" :required=true>\n              <RadioGroup v-model=\"selectedExistReplication\" button-style=\"solid\"\n                          @on-change=\"afterSelectExistReplication\">\n                <Radio v-for=\"items in meta.existReplicationRegionOptions\"\n                       :key=\"items.srcRegionName\"\n                       :label=\"items.srcRegionName\" border>\n                  {{ items.srcRegionName  }}\n                </Radio>\n              </RadioGroup>\n              <Button type=\"primary\" icon=\"md-add\" ghost @click=\"goToCreateReplication\">新增</Button>\n              <Modal v-model=\"createModal.open\" width=\"1200px\" :footer-hide=\"true\" title=\"创建同步\">\n                <mha-preview v-if=\"createModal.open\" :db-name=\"meta.dbName\" :replication-type=1 @updated=\"selectDb\"\n                             :exist-replication-region-options=\"meta.existReplicationRegionOptions\"></mha-preview>\n              </Modal>\n            </FormItem>\n            <Divider orientation=\"left\">消息投递配置</Divider>\n            <Card style=\"width:100%\">\n              <mq-tables :table-data=\"drcConfig.logicTableSummaryDtos\" :data-loading=\"configDataLoading\"\n                      :src-region=\"meta.srcRegionName\" :dst-region=\"meta.dstRegionName\" :db-name=\"meta.dbName\"\n                      :db-names=\"drcConfig.dbNames\" @updated=\"getDrcConfig\"\n              />\n            </Card>\n            <Divider orientation=\"left\">DB</Divider>\n            <Card style=\"width:100%\">\n              <mha-mq-panel v-if=\"drcConfig.mhaMqDtos\" :mha-mq-dtos=\"drcConfig.mhaMqDtos\"  @updated=\"getDrcConfig\"/>\n            </Card>\n          </Form>\n        </Col>\n      </Row>\n    </Content>\n  </base-component>\n</template>\n<script>\n\nimport MhaPreview from '@/components/v2/dbDrcBuild/mhaPreview.vue'\nimport MqTables from '@/components/v2/dbDrcBuild/mqTables.vue'\nimport MhaMqPanel from '@/components/v2/dbDrcBuild/mhaMqPanel.vue'\n\nexport default {\n  components: { MhaMqPanel, MqTables, MhaPreview },\n  data () {\n    return {\n      createModal: {\n        open: false\n      },\n      dataLoading: false,\n      configDataLoading: false,\n      selectedExistReplication: this.$route.query.srcRegionName,\n      formItem: {\n        srcRegionName: null,\n        dstRegionName: null\n      },\n      drcConfig: {},\n      meta: {\n        dbName: this.$route.query.dbName,\n        srcRegionName: this.$route.query.srcRegionName,\n        dstRegionName: this.$route.query.dstRegionName,\n        fixDb: this.$route.query.fixDb,\n        regionOptions: [],\n        dbOptions: [],\n        existReplicationRegionOptions: []\n      }\n    }\n  },\n  methods: {\n    getParams: function () {\n      const param = {}\n      param.dbName = this.meta.dbName\n      param.srcRegionName = this.meta.srcRegionName\n      param.dstRegionName = this.meta.dstRegionName\n      return param\n    },\n    async getExistDb (dbName) {\n      if (dbName === null || dbName.length === null || dbName.length <= 0) {\n        return []\n      }\n      const that = this\n      that.dataLoading = true\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDb', {\n        params: {\n          dbName: dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          if (data) {\n            that.meta.dbOptions = data\n          } else {\n            that.$Message.warning('查询DB失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询DB异常: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async selectDb () {\n      await this.getExistReplicationRegionOptions()\n      await this.getDrcConfig()\n    },\n    async getDrcConfig () {\n      this.createModal.open = false\n      this.resetPath()\n      const params = this.getParams()\n      this.drcConfig = {}\n      if (!params.dbName) {\n        this.$Message.warning('请先填写数据库')\n        return\n      }\n      if (!params.srcRegionName) {\n        return\n      }\n      this.configDataLoading = true\n      await this.axios.get('/api/drc/v2/autoconfig/getDbMqConfig', {\n        params: {\n          dbName: params.dbName,\n          srcRegionName: params.srcRegionName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            this.drcConfig = data\n            this.$Message.success('查询DRC配置成功 ')\n          } else {\n            this.$Message.warning('查询失败：' + response.data.message)\n          }\n        })\n        .catch(message => {\n          this.$Message.error('查询异常: ' + message)\n        })\n        .finally(() => {\n          this.configDataLoading = false\n        })\n    },\n    async afterSelectExistReplication () {\n      console.log('afterSelectExistReplication ', this.selectedExistReplication)\n      this.meta.srcRegionName = this.selectedExistReplication.trim()\n      this.getDrcConfig()\n    },\n    async getExistReplicationRegionOptions () {\n      const that = this\n      that.dataLoading = true\n      that.meta.existReplicationRegionOptions = []\n      const params = this.getParams()\n      await that.axios.get('/api/drc/v2/autoconfig/getExistDbMqConfigDcOption', {\n        params: {\n          dbName: params.dbName\n        }\n      })\n        .then(response => {\n          const data = response.data.data\n          const success = data && response.data.status === 0\n          if (success) {\n            that.meta.existReplicationRegionOptions = data\n            if (that.meta.existReplicationRegionOptions.length > 0) {\n              that.$Message.success('查询到 ' + that.meta.existReplicationRegionOptions.length + ' 个可选同步方向')\n            }\n          } else {\n            that.meta.srcRegionName = null\n            that.meta.dstRegionName = null\n            that.$Message.warning('查询可选地域失败')\n          }\n        })\n        .catch(message => {\n          that.$Message.error('查询可选地域失败: ' + message)\n        })\n        .finally(() => {\n          that.dataLoading = false\n        })\n    },\n    async goToCreateReplication () {\n      this.createModal.open = true\n    },\n    resetPath () {\n      this.$router.replace({\n        query: {\n          dbName: this.meta.dbName,\n          srcRegionName: this.meta.srcRegionName,\n          dstRegionName: this.meta.dstRegionName,\n          fixDb: this.meta.fixDb\n        }\n        // eslint-disable-next-line handle-callback-err\n      }).catch(() => {\n      })\n    },\n    flattenObj (ob) {\n      const result = {}\n      for (const i in ob) {\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n          const temp = this.flattenObj(ob[i])\n          for (const j in temp) {\n            result[i + '.' + j] = temp[j]\n          }\n        } else {\n          result[i] = ob[i]\n        }\n      }\n      return result\n    }\n  },\n  computed: {},\n  created () {\n    // this.getRegions()\n    this.axios.get('/api/drc/v2/permission/meta/mhaReplication/modify').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      if (this.meta.dbName) {\n        this.getExistReplicationRegionOptions()\n        this.getDrcConfig()\n      }\n    })\n  }\n}\n</script>\n\n<style>\n.drawer-footer {\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dbMqBuildV2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dbMqBuildV2.vue?vue&type=template&id=8a03bef6\"\nimport script from \"./dbMqBuildV2.vue?vue&type=script&lang=js\"\nexport * from \"./dbMqBuildV2.vue?vue&type=script&lang=js\"\nimport style0 from \"./dbMqBuildV2.vue?vue&type=style&index=0&id=8a03bef6&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}