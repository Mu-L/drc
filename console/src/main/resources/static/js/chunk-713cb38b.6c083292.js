(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-713cb38b"],{"0251":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("base-component",[o("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[o("BreadcrumbItem",{attrs:{to:{path:"/v2/mhaReplications",query:{srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,preciseSearchMode:!0}}}},[e._v("首页 ")]),o("BreadcrumbItem",{attrs:{to:{path:"/drcV2",query:{step:3,srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,srcDc:this.commonInfo.srcDc,dstDc:this.commonInfo.dstDc,order:this.commonInfo.order}}}},[e._v("DRC-MHA 配置 ")]),o("BreadcrumbItem",{attrs:{to:"/v2/mhaDbReplications"}},[e._v("DB 复制链路")]),o("BreadcrumbItem",{attrs:{to:{path:"/dbTables",query:{srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,srcDc:this.commonInfo.srcDc,dstDc:this.commonInfo.dstDc}}}},[e._v("同步表 ")]),o("BreadcrumbItem",[e._v("同步表配置")])],1),o("Content",{staticClass:"content",style:{padding:"10px",background:"#ffffff",margin:"50px 0 1px 185px",zIndex:"1"}},[o("span",{staticStyle:{"margin-top":"10px",color:"#464c5b","font-weight":"600"}},[e._v(e._s(e.commonInfo.srcMhaName)+"("+e._s(e.commonInfo.srcDc)+") ==> "+e._s(e.commonInfo.dstMhaName)+"("+e._s(e.commonInfo.dstDc)+")")]),o("br"),o("br"),e.showMsg?o("Alert",{attrs:{type:"warning","show-icon":"",closable:""},scopedSlots:e._u([{key:"desc",fn:function(){return[e._v(e._s(e.message))]},proxy:!0}],null,!1,964728714)},[e._v(" "+e._s(e.title)+" ")]):e._e(),o("Row",{attrs:{gutter:10,align:"middle"}},[o("Col",{attrs:{span:"13"}},[o("Form",{ref:"commonInfo",attrs:{model:e.commonInfo,rules:e.ruleInline,"label-width":100}},[o("FormItem",{attrs:{prop:"dbName",label:"库名",required:!0}},[o("Input",{attrs:{type:"text",readonly:e.update,placeholder:"请输入库名（支持正则）"},model:{value:e.commonInfo.dbName,callback:function(t){e.$set(e.commonInfo,"dbName",t)},expression:"commonInfo.dbName"}})],1),o("FormItem",{attrs:{prop:"tableName",label:"表名",required:!0}},[o("Input",{attrs:{type:"text",readonly:e.show,placeholder:"请输入表名（支持正则）"},model:{value:e.commonInfo.tableName,callback:function(t){e.$set(e.commonInfo,"tableName",t)},expression:"commonInfo.tableName"}})],1),o("FormItem",{attrs:{label:"行过滤"}},[o("i-switch",{attrs:{disabled:e.show,size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[o("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[o("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.rowsFilter,callback:function(t){e.$set(e.formItem.switch,"rowsFilter",t)},expression:"formItem.switch.rowsFilter"}})],1),e.formItem.switch.rowsFilter?o("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[o("Icon",{attrs:{type:"md-settings"}}),e._v(" 行过滤配置 ")]},proxy:!0}],null,!1,2915474430)},[o("FormItem",{attrs:{label:"模式"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择行过滤模式"},model:{value:e.rowsFilterConfig.mode,callback:function(t){e.$set(e.rowsFilterConfig,"mode",t)},expression:"rowsFilterConfig.mode"}},e._l(e.rowsFilterConfig.modes,(function(t){return o("Option",{key:t.mode,attrs:{value:t.mode}},[e._v(e._s(t.name)+" ")])})),1)],1),e.useTripUdlOrUidMode?o("div",[e.fillContextByRegion?o("FormItem",{attrs:{label:"规则内容"}},[o("Select",{staticStyle:{width:"200px"},attrs:{multiple:"",placeholder:"Region 选择"},model:{value:e.configInTripUid.regionsChosen,callback:function(t){e.$set(e.configInTripUid,"regionsChosen",t)},expression:"configInTripUid.regionsChosen"}},e._l(e.constants.regionsForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1):e._e(),e.showUdlConfigDetail?o("div",[o("Divider",[e._v("UDL配置")]),o("FormItem",{attrs:{label:"UDL字段"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UDL配置"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.udlColumns,callback:function(t){e.$set(e.rowsFilterConfig,"udlColumns",t)},expression:"rowsFilterConfig.udlColumns"}},e._l(e.columnsForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e.hasUdlColumn?o("FormItem",{attrs:{label:"DRC UDL策略id"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择ucs策略id"},model:{value:e.rowsFilterConfig.drcStrategyId,callback:function(t){e.$set(e.rowsFilterConfig,"drcStrategyId",t)},expression:"rowsFilterConfig.drcStrategyId"}},e._l(e.constants.drcStrategyIdsForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1):e._e()],1):e._e(),e.showUidConfigDetail?o("div",[o("Divider",[e._v("UID配置")]),o("FormItem",{attrs:{label:"UID字段"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"不选默认则无UID配置"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e.hasUidColumn?o("FormItem",{attrs:{label:"fetchMode"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择"},on:{"on-change":function(t){return e.fetchModeChange()}},model:{value:e.rowsFilterConfig.fetchMode,callback:function(t){e.$set(e.rowsFilterConfig,"fetchMode",t)},expression:"rowsFilterConfig.fetchMode"}},e._l(e.rowsFilterConfig.fetchModeForChose,(function(t){return o("Option",{key:t.k,attrs:{value:t.v}},[e._v(e._s(t.k)+" ")])})),1)],1):e._e(),e.hasUidColumn?o("FormItem",{attrs:{label:"空处理"}},[o("Checkbox",{model:{value:e.rowsFilterConfig.illegalArgument,callback:function(t){e.$set(e.rowsFilterConfig,"illegalArgument",t)},expression:"rowsFilterConfig.illegalArgument"}},[e._v("【字段为空时】同步")])],1):e._e()],1):e._e()],1):e.useCustomSoaMode?o("div",[o("FormItem",{attrs:{label:"相关字段"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(e){return o("Option",{key:e,attrs:{value:e,lable:e}})})),1)],1),o("FormItem",{attrs:{label:"ServiceCode"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择soaServiceCode"},on:{"on-create":e.handleCreateSoaServiceCode},model:{value:e.rowsFilterConfig.drcStrategyId,callback:function(t){e.$set(e.rowsFilterConfig,"drcStrategyId",t)},expression:"rowsFilterConfig.drcStrategyId"}},e._l(e.rowsFilterConfig.serviceCodeForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1),o("FormItem",{attrs:{label:"服务名"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择服务名"},on:{"on-create":e.handleCreateSoaServiceName},model:{value:e.rowsFilterConfig.context,callback:function(t){e.$set(e.rowsFilterConfig,"context",t)},expression:"rowsFilterConfig.context"}},e._l(e.rowsFilterConfig.serviceNameForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t)+" ")])})),1)],1)],1):o("div",[o("FormItem",{attrs:{label:"规则内容"}},[o("Input",{staticStyle:{width:"250px"},attrs:{type:"textarea",placeholder:"请输入行过滤内容"},model:{value:e.rowsFilterConfig.context,callback:function(t){e.$set(e.rowsFilterConfig,"context",t)},expression:"rowsFilterConfig.context"}})],1),o("FormItem",{attrs:{label:"相关字段"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.rowsFilterConfig.columns,callback:function(t){e.$set(e.rowsFilterConfig,"columns",t)},expression:"rowsFilterConfig.columns"}},e._l(e.columnsForChose,(function(e){return o("Option",{key:e,attrs:{value:e,lable:e}})})),1)],1)],1)],1):e._e(),o("FormItem",{attrs:{label:"字段过滤"}},[o("i-switch",{attrs:{disabled:e.show,size:"large"},scopedSlots:e._u([{key:"open",fn:function(){return[o("span",[e._v("On")])]},proxy:!0},{key:"close",fn:function(){return[o("span",[e._v("Off")])]},proxy:!0}]),model:{value:e.formItem.switch.columnsFilter,callback:function(t){e.$set(e.formItem.switch,"columnsFilter",t)},expression:"formItem.switch.columnsFilter"}})],1),e.formItem.switch.columnsFilter?o("Card",{staticStyle:{"margin-left":"100px"},scopedSlots:e._u([{key:"title",fn:function(){return[o("Icon",{attrs:{type:"md-settings"}}),e._v(" 字段过滤配置 ")]},proxy:!0}],null,!1,495830608)},[o("FormItem",{attrs:{label:"模式"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择字段过滤模式"},model:{value:e.columnsFilterConfig.mode,callback:function(t){e.$set(e.columnsFilterConfig,"mode",t)},expression:"columnsFilterConfig.mode"}},e._l(e.columnsFilterConfig.modes,(function(t){return o("Option",{key:t.mode,attrs:{value:t.mode}},[e._v(e._s(t.name)+" ")])})),1)],1),o("FormItem",{attrs:{label:"字段"}},[o("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",multiple:"",placeholder:"选择相关的字段"},on:{"on-create":e.handleCreateUDLColumn},model:{value:e.columnsFilterConfig.columns,callback:function(t){e.$set(e.columnsFilterConfig,"columns",t)},expression:"columnsFilterConfig.columns"}},e._l(e.columnsForChose,(function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1):e._e(),o("br"),e.show?e._e():o("FormItem",[o("Button",{attrs:{type:"primary",loading:e.dataLoading},on:{click:e.submitAll}},[e._v("提交")])],1)],1)],1),o("Col",{attrs:{span:"11"}},[o("Divider",{staticStyle:{"margin-top":"1px"}},[e._v("预览：同步表")]),o("Button",{attrs:{type:"primary",loading:e.tableLoading},on:{click:e.checkMysqlTablesInSrcMha}},[e._v("检查同步表")]),o("Table",{attrs:{size:"small",height:e.tableHeight,loading:e.tableLoading,stripe:"",columns:e.nameFilterCheck.columns,data:e.dataWithPage,border:""}}),o("div",[o("Page",{attrs:{transfer:!0,total:e.commonInfo.tableData.length,current:e.nameFilterCheck.current,"page-size-opts":e.nameFilterCheck.pageSizeOpts,"page-size":this.nameFilterCheck.size,"show-total":"","show-sizer":"","show-elevator":""},on:{"update:current":function(t){return e.$set(e.nameFilterCheck,"current",t)},"on-page-size-change":e.handleChangeSize}})],1)],1)],1)],1)],1)},r=[],i=(o("caad"),o("a15b"),o("fb6a"),o("a9e3"),o("ac1f"),o("2532"),o("1276"),o("2909")),s={data:function(){return{currentStep:0,dataLoading:!1,tableLoading:!1,update:!1,batchUpdate:!1,show:!1,message:"",showMsg:!1,title:"",tableHeight:80,submit:!0,constants:{regionsForChose:["SGP","SIN","SH","FRA"],drcStrategyIdsForChose:[2000000002],filterMode:{JAVA_REGEX:0,TRIP_UDL:1,AVIATOR_REGEX:3,TRIP_UDL_UID:5,CUSTOM_SOA:6},fetchMode:{RPC:0,BlackList:1,WhiteList:2,BlackList_Global:3}},rowsFilterConfig:{mode:1,drcStrategyId:2000000002,routeStrategyId:0,udlColumns:[],columns:[],context:"",illegalArgument:!1,fetchMode:0,modes:[{name:"trip_udl",mode:1},{name:"java_regex",mode:0},{name:"aviator_regex",mode:3},{name:"trip_udl_uid",mode:5},{name:"custom_soa",mode:6}],fetchModeForChose:[{k:"RPC调用",v:0},{k:"BlackList",v:1},{k:"WhiteList",v:2},{k:"BlackListGlobal",v:3}],serviceCodeForChose:[32578],serviceNameForChose:["DataSyncService","FilterRowService"]},columnsForChose:[],configInTripUid:{regionsChosen:[]},columnsFilterConfig:{mode:Number,columns:[],modes:[{name:"exclude",mode:0},{name:"include",mode:1},{name:"regex",mode:2}]},formItem:{switch:{rowsFilter:!1,columnsFilter:!1}},commonInfo:{srcMhaName:"",srcMhaId:0,dstMhaName:"",srcDc:"",dstDc:"",order:!0,testIds:[],dbReplicationIds:[],dbReplicationId:0,dbName:"",tableName:"",tableData:[],rowsFilterDetail:{mode:"trip-uld",row:null},colsFilterDetail:{mode:null,row:null},switch:{rowsFilter:!1,columnsFilter:!1}},ruleInline:{dbName:[{required:!0,message:"请输入库名",trigger:"blur"}],tableName:[{required:!0,message:"请输入表名",trigger:"blur"}]},nameFilterCheck:{columns:[{title:"序号",width:75,align:"center",fixed:"left",render:function(e,t){return e("span",t.index+1)}},{title:"库名",key:"schema",resizable:!0},{title:"表名",key:"table",resizable:!0},{title:"结果",align:"center",render:function(e,t){var o=t.row,n="ok"!==o.res?"volcano":"green",r=o.res;return e("Tag",{props:{color:n}},r)}}],total:0,current:1,size:10,pageSizeOpts:[10,20,50,100]}}},methods:{submitAll:function(){var e=this;console.log("dbReplicationId: "+this.commonInfo.dbReplicationId),console.log("dbReplicationIds: "+this.commonInfo.dbReplicationIds),console.log("testIds: "+this.commonInfo.testIds),this.submit=!0;var t=this.getRowsFilterParam(),o=this.getColumnsFilterParam();if(this.submit){this.dataLoading=!0;var n={dbReplicationIds:this.commonInfo.dbReplicationIds,srcMhaName:this.commonInfo.srcMhaName,dstMhaName:this.commonInfo.dstMhaName,dbName:this.commonInfo.dbName,tableName:this.commonInfo.tableName,rowsFilterCreateParam:t,columnsFilterCreateParam:o};this.axios.post("/api/drc/v2/config/dbReplications",n).then((function(t){e.dataLoading=!1,1===t.data.status?e.$Message.error({content:"提交失败! "+t.data.message,duration:2}):(e.update=!0,e.show=!0,e.$Message.success("提交成功！"))}))}},checkMysqlTablesInSrcMha:function(){this.nameFilterCheck.current=1,this.getCommonColumns(),this.checkMySqlTables(this.commonInfo.srcMhaName,this.commonInfo.dbName+"\\."+this.commonInfo.tableName)},checkMySqlTables:function(e,t){var o=this;console.log("nameFilter:"+t),null==t&&(t=""),this.tableLoading=!0,this.axios.get("/api/drc/v2/mysql/preCheckMySqlTables?mha="+e+"&nameFilter="+t).then((function(e){o.tableLoading=!1,o.commonInfo.tableData=e.data.data,o.commonInfo.tableData.length<10?o.tableHeight=40*(o.commonInfo.tableData.length+1):o.tableHeight=440}))},handleChangeSize:function(e){this.nameFilterCheck.size=e},getRowsFilterParam:function(){if(!this.formItem.switch.rowsFilter)return null;if(this.useTripUdlOrUidMode){if(!this.hasUidColumn&&!this.hasUdlColumn)return this.$Message.warning("uid 与 uld字段不能同时为空！"),void(this.submit=!1);if(this.fillContextByRegion?this.rowsFilterConfig.context=this.configInTripUid.regionsChosen.join(","):this.rowsFilterConfig.context="//filter by config",this.fillContextByRegion&&(""===this.rowsFilterConfig.context||void 0===this.rowsFilterConfig.context||"//filter by config"===this.rowsFilterConfig.context))return this.$Message.warning("context 不能为空！"),void(this.submit=!1)}if(""!==this.rowsFilterConfig.mode&&void 0!==this.rowsFilterConfig.mode&&(0!==this.rowsFilterConfig.columns.length||0!==this.rowsFilterConfig.udlColumns.length)){var e={dbName:this.dbName,tableName:this.tableName,mode:this.rowsFilterConfig.mode,columns:0===this.rowsFilterConfig.columns.length?null:this.rowsFilterConfig.columns,udlColumns:0===this.rowsFilterConfig.udlColumns.length?null:this.rowsFilterConfig.udlColumns,drcStrategyId:0!==this.rowsFilterConfig.udlColumns.length||this.useCustomSoaMode?this.rowsFilterConfig.drcStrategyId:null,routeStrategyId:this.rowsFilterConfig.routeStrategyId,illegalArgument:this.rowsFilterConfig.illegalArgument,fetchMode:this.rowsFilterConfig.fetchMode,context:""===this.rowsFilterConfig.context?null:this.rowsFilterConfig.context};return e}this.$Message.warning("缺少行过滤配置 禁止提交"),this.submit=!1},getRowsFilterConfig:function(){var e=this;this.axios.get("/api/drc/v2/config/rowsFilter?dbReplicationId="+this.commonInfo.dbReplicationId).then((function(t){if(1===t.data.status)e.$Message.error("查询行过滤配置失败!");else{var o=t.data.data;null==o||(e.formItem.switch.rowsFilter=!0,e.rowsFilterConfig.context=o.context,e.rowsFilterConfig.mode=o.mode,e.useTripUdlOrUidMode?e.configInTripUid.regionsChosen=o.context.split(","):e.configInTripUid={regionsChosen:[]},e.rowsFilterConfig.columns=null===o.columns?[]:o.columns,null!==o.udlColumns&&(e.rowsFilterConfig.udlColumns=o.udlColumns),e.rowsFilterConfig.drcStrategyId=0===o.drcStrategyId?null:o.drcStrategyId,e.rowsFilterConfig.routeStrategyId=o.routeStrategyId,e.rowsFilterConfig.illegalArgument=o.illegalArgument,e.rowsFilterConfig.fetchMode=o.fetchMode)}}))},getCommonColumns:function(){var e=this;this.axios.get("/api/drc/v2/mysql/commonColumns?&mhaName="+this.commonInfo.srcMhaName+"&namespace="+this.commonInfo.dbName+"&name="+this.commonInfo.tableName).then((function(t){1===t.data.status?(e.$Message.error("查询公共列名失败，请手动添加！"),e.columnsForChose=[]):(console.log(t.data.data),e.columnsForChose=t.data.data,0===e.columnsForChose.length&&e.$Message.warning("查询无公共字段！"))}))},fetchModeChange:function(){1===this.rowsFilterConfig.fetchMode||3===this.rowsFilterConfig.fetchMode?this.rowsFilterConfig.illegalArgument=!0:this.rowsFilterConfig.illegalArgument=!1},getColumnsFilterParam:function(){if(this.formItem.switch.columnsFilter){var e={mode:this.columnsFilterConfig.mode,columns:this.columnsFilterConfig.columns};return e}return null},getColumnsFilterConfig:function(){var e=this;this.axios.get("/api/drc/v2/config/columnsFilter?dbReplicationId="+this.commonInfo.dbReplicationId).then((function(t){if(1===t.data.status)e.$Message.error("查询字段过滤配置失败!");else{var o=t.data.data;null==o||(e.columnsFilterConfig.mode=o.mode,e.columnsFilterConfig.columns=o.columns,e.formItem.switch.columnsFilter=!0)}}))},contains:function(e,t){var o=e.length;while(o--)if(e[o]===t)return!0;return!1},handleCreateUDLColumn:function(e){var t=this;this.showMsg=!1,"无UDL"===e||this.contains(this.columnsForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.axios.get("/api/drc/v2/mysql//columnCheck?mhaName="+this.commonInfo.srcMhaName+"&namespace="+this.commonInfo.dbName+"&name="+this.commonInfo.tableName+"&column="+e).then((function(o){if(1===o.data.status)t.$Message.error("查询字段:"+e+"失败！"+o.data.data),t.columnsForChose.push(e);else{var n=o.data.data;0!==n.length&&(t.showMsg=!0,t.title="以下表无字段"+e,t.message=n),t.columnsForChose.push(e)}})):alert("字段不能为空")},handleCreateColumn:function(e){this.contains(this.columnsForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.columnsForChose.push(e):alert("字段不能为空")},handleCreateSoaServiceCode:function(e){this.contains(this.rowsFilterConfig.serviceCodeForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e&&0!==e?this.rowsFilterConfig.serviceCodeForChose.push(e):alert("serviceCode不能为空")},handleCreateSoaServiceName:function(e){this.contains(this.rowsFilterConfig.serviceNameForChose,e)?alert("已有项禁止创建"):""!==e&&void 0!==e&&null!==e?this.rowsFilterConfig.serviceNameForChose.push(e):alert("serviceName不能为空")},notice:function(){this.batchUpdate&&void 0!==this.commonInfo.dbReplicationIds&&this.$Message.info("共选中"+this.commonInfo.dbReplicationIds.length+"行")},init:function(){this.notice(),void 0!==this.commonInfo.dbReplicationId&&(this.getRowsFilterConfig(),this.getColumnsFilterConfig())}},computed:{dataWithPage:function(){var e=this.commonInfo.tableData,t=this.nameFilterCheck.current*this.nameFilterCheck.size-this.nameFilterCheck.size,o=t+this.nameFilterCheck.size;return Object(i["a"])(e).slice(t,o)},useTripUdlOrUidMode:function(){return[this.constants.filterMode.TRIP_UDL,this.constants.filterMode.TRIP_UDL_UID].includes(this.rowsFilterConfig.mode)},useCustomSoaMode:function(){return[this.constants.filterMode.CUSTOM_SOA].includes(this.rowsFilterConfig.mode)},hasUdlColumn:function(){return 0!==this.rowsFilterConfig.udlColumns.length},fillContextByRegion:function(){return this.rowsFilterConfig.fetchMode===this.constants.fetchMode.RPC},hasUidColumn:function(){return 0!==this.rowsFilterConfig.columns.length},showUdlConfigDetail:function(){return this.rowsFilterConfig.mode===this.constants.filterMode.TRIP_UDL_UID||this.hasUdlLegalConfig||!this.hasUidLegalConfig},showUidConfigDetail:function(){return this.rowsFilterConfig.mode===this.constants.filterMode.TRIP_UDL_UID||this.hasUidLegalConfig||!this.hasUdlLegalConfig},hasUdlLegalConfig:function(){return 0!==this.rowsFilterConfig.udlColumns.length&&null!=this.rowsFilterConfig.drcStrategyId&&this.rowsFilterConfig.drcStrategyId>0},hasUidLegalConfig:function(){return this.hasUidColumn}},created:function(){var e=this;this.axios.get("/api/drc/v2/permission/meta/mhaReplication/modify").then((function(t){if(403!==t.data.status){var o=[];void 0!==e.$route.query.dbReplicationIds&&(o=JSON.parse(e.$route.query.dbReplicationIds)),console.log("dbReplicationIds:"+o),e.commonInfo={srcMhaName:e.$route.query.srcMhaName,srcMhaId:e.$route.query.srcMhaId,dstMhaName:e.$route.query.dstMhaName,srcDc:e.$route.query.srcDc,dstDc:e.$route.query.dstDc,dbName:e.$route.query.dbName,tableName:e.$route.query.tableName,dbReplicationId:e.$route.query.dbReplicationId,dbReplicationIds:o,tableData:[]},e.update=!0===e.$route.query.update||"true"===e.$route.query.update,e.batchUpdate=!0===e.$route.query.batchUpdate||"true"===e.$route.query.batchUpdate,e.show=!0===e.$route.query.show||"true"===e.$route.query.show;var n=void 0!==e.commonInfo.dbName&&void 0!==e.commonInfo.tableName;n&&e.checkMysqlTablesInSrcMha(),console.log("commonInfo"),console.log(e.commonInfo),e.init()}else e.$router.push("/nopermission")}))}},l=s,a=o("2877"),c=Object(a["a"])(l,n,r,!1,null,null,null);t["default"]=c.exports},1276:function(e,t,o){"use strict";var n=o("d784"),r=o("44e7"),i=o("825a"),s=o("1d80"),l=o("4840"),a=o("8aa5"),c=o("50c4"),u=o("14c3"),d=o("9263"),m=o("d039"),h=[].push,f=Math.min,g=4294967295,p=!m((function(){return!RegExp(g,"y")}));n("split",2,(function(e,t,o){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,o){var n=String(s(this)),i=void 0===o?g:o>>>0;if(0===i)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,i);var l,a,c,u=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=new RegExp(e.source,m+"g");while(l=d.call(p,n)){if(a=p.lastIndex,a>f&&(u.push(n.slice(f,l.index)),l.length>1&&l.index<n.length&&h.apply(u,l.slice(1)),c=l[0].length,f=a,u.length>=i))break;p.lastIndex===l.index&&p.lastIndex++}return f===n.length?!c&&p.test("")||u.push(""):u.push(n.slice(f)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,o){return void 0===e&&0===o?[]:t.call(this,e,o)}:t,[function(t,o){var r=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r,o):n.call(String(r),t,o)},function(e,r){var s=o(n,e,this,r,n!==t);if(s.done)return s.value;var d=i(e),m=String(this),h=l(d,RegExp),C=d.unicode,I=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),b=new h(p?d:"^(?:"+d.source+")",I),v=void 0===r?g:r>>>0;if(0===v)return[];if(0===m.length)return null===u(b,m)?[m]:[];var F=0,w=0,x=[];while(w<m.length){b.lastIndex=p?w:0;var y,S=u(b,p?m:m.slice(w));if(null===S||(y=f(c(b.lastIndex+(p?0:w)),m.length))===F)w=a(m,w,C);else{if(x.push(m.slice(F,w)),x.length===v)return x;for(var _=1;_<=S.length-1;_++)if(x.push(S[_]),x.length===v)return x;w=F=y}}return x.push(m.slice(F)),x}]}),!p)},"14c3":function(e,t,o){var n=o("c6b6"),r=o("9263");e.exports=function(e,t){var o=e.exec;if("function"===typeof o){var i=o.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},2532:function(e,t,o){"use strict";var n=o("23e7"),r=o("5a34"),i=o("1d80"),s=o("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,o){var n=o("861d"),r=o("c6b6"),i=o("b622"),s=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,o){var n=o("1d80"),r=o("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),a=function(e){return function(t){var o=String(n(t));return 1&e&&(o=o.replace(s,"")),2&e&&(o=o.replace(l,"")),o}};e.exports={start:a(1),end:a(2),trim:a(3)}},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"8aa5":function(e,t,o){"use strict";var n=o("6547").charAt;e.exports=function(e,t,o){return t+(o?n(e,t).length:1)}},9263:function(e,t,o){"use strict";var n=o("ad6d"),r=o("9f7f"),i=RegExp.prototype.exec,s=String.prototype.replace,l=i,a=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=a||u||c;d&&(l=function(e){var t,o,r,l,d=this,m=c&&d.sticky,h=n.call(d),f=d.source,g=0,p=e;return m&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),p=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(f="(?: "+f+")",p=" "+p,g++),o=new RegExp("^(?:"+f+")",h)),u&&(o=new RegExp("^"+f+"$(?!\\s)",h)),a&&(t=d.lastIndex),r=i.call(m?o:d,p),m?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:a&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],o,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),e.exports=l},"9f7f":function(e,t,o){"use strict";var n=o("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,o){"use strict";var n=o("23e7"),r=o("44ad"),i=o("fc6a"),s=o("a640"),l=[].join,a=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:a||!c},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},a640:function(e,t,o){"use strict";var n=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,o){"use strict";var n=o("83ab"),r=o("da84"),i=o("94ca"),s=o("6eeb"),l=o("5135"),a=o("c6b6"),c=o("7156"),u=o("c04e"),d=o("d039"),m=o("7c73"),h=o("241c").f,f=o("06cf").f,g=o("9bf2").f,p=o("58a8").trim,C="Number",I=r[C],b=I.prototype,v=a(m(b))==C,F=function(e){var t,o,n,r,i,s,l,a,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=p(c),t=c.charCodeAt(0),43===t||45===t){if(o=c.charCodeAt(2),88===o||120===o)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),s=i.length,l=0;l<s;l++)if(a=i.charCodeAt(l),a<48||a>r)return NaN;return parseInt(i,n)}return+c};if(i(C,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var w,x=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof x&&(v?d((function(){b.valueOf.call(o)})):a(o)!=C)?c(new I(F(t)),o,x):F(t)},y=n?h(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;y.length>S;S++)l(I,w=y[S])&&!l(x,w)&&g(x,w,f(I,w));x.prototype=b,b.constructor=x,s(r,C,x)}},ab13:function(e,t,o){var n=o("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},ac1f:function(e,t,o){"use strict";var n=o("23e7"),r=o("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},d784:function(e,t,o){"use strict";o("ac1f");var n=o("6eeb"),r=o("d039"),i=o("b622"),s=o("9263"),l=o("9112"),a=i("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),m=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));e.exports=function(e,t,o,d){var f=i(e),g=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=g&&!r((function(){var t=!1,o=/a/;return"split"===e&&(o={},o.constructor={},o.constructor[a]=function(){return o},o.flags="",o[f]=/./[f]),o.exec=function(){return t=!0,null},o[f](""),!t}));if(!g||!p||"replace"===e&&(!c||!u||m)||"split"===e&&!h){var C=/./[f],I=o(f,""[e],(function(e,t,o,n,r){return t.exec===s?g&&!r?{done:!0,value:C.call(t,o,n)}:{done:!0,value:e.call(o,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),b=I[0],v=I[1];n(String.prototype,e,b),n(RegExp.prototype,f,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}d&&l(RegExp.prototype[f],"sham",!0)}},fb6a:function(e,t,o){"use strict";var n=o("23e7"),r=o("861d"),i=o("e8b5"),s=o("23cb"),l=o("50c4"),a=o("fc6a"),c=o("8418"),u=o("b622"),d=o("1dde"),m=o("ae40"),h=d("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),p=[].slice,C=Math.max;n({target:"Array",proto:!0,forced:!h||!f},{slice:function(e,t){var o,n,u,d=a(this),m=l(d.length),h=s(e,m),f=s(void 0===t?m:t,m);if(i(d)&&(o=d.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?r(o)&&(o=o[g],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return p.call(d,h,f);for(n=new(void 0===o?Array:o)(C(f-h,0)),u=0;h<f;h++,u++)h in d&&c(n,u,d[h]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-713cb38b.6c083292.js.map