{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/v2/resource/proxyRouteManagement.vue?9b2e","webpack:///src/views/v2/resource/proxyRouteManagement.vue","webpack:///./src/views/v2/resource/proxyRouteManagement.vue?cf95","webpack:///./src/views/v2/resource/proxyRouteManagement.vue"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","fails","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","style","margin","position","attrs","_v","staticClass","padding","background","zIndex","staticStyle","ref","route","ruleRoute","updateStatus","model","value","callback","$$v","$set","expression","on","getProxyUrisInSrc","handleCreateDc","_l","item","key","_s","label","getProxyUrisInDst","proxyUris","proxyUriList","$event","handleReset","reviewInputResource","inputResource","routeOrgName","tag","srcDcName","dstDcName","src","relay","dst","result","staticRenderFns","component"],"mappings":"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AI+B,GAAGzC,KAAKyD,QAAQ,QAAQ,IAAI,IAAI,IAAI,MAAM,IACzqJC,EAAkB,GCiEtB,G,oBAAA,CACA,4BACA,gBACA,OACA,4CACA,OACA,eACA,eACA,4CACA,sCACA,sCACA,0BACA,WACA,mCACA,uCACA,oCAEA,cACA,OACA,OACA,SAGA,WACA,WACA,0DAEA,WACA,6DAEA,cACA,oDAEA,cACA,oDAEA,KACA,iDAGA,iCACA,YAGA,SACA,+BACA,2BAEA,yBACA,WACA,2CACA,KACA,qCACA,+BACA,+BACA,sCACA,0CACA,sCACA,qBACA,kBACA,oBACA,qBACA,uBACA,2BAGA,2BACA,oCACA,uBACA,QACA,UAEA,+BAEA,uBACA,2BACA,wBACA,wBACA,kBACA,4BACA,8BACA,6BAEA,8BACA,WACA,6CACA,uBACA,kBACA,kBACA,oBACA,4BACA,gFAGA,8BACA,WACA,6CACA,uBACA,kBACA,kBACA,oBACA,4BACA,gFAGA,8BACA,WACA,0DACA,uBACA,kBACA,kBACA,oBACA,4BACA,gFAGA,8BACA,WACA,0DACA,uBACA,kBACA,kBACA,oBACA,4BACA,gFAGA,2BACA,WACA,gCACA,uBACA,kBACA,kBACA,oBACA,4BACA,gFAGA,6BACA,WACA,0CACA,wBACA,mCACA,mCACA,uBAJA,aAMA,uBACA,kBACA,kBACA,eACA,yBACA,2BACA,yBACA,yBAEA,yFACA,6FACA,+FAKA,8BACA,0EACA,qBAIA,uBACA,oBACA,uBACA,uBANA,sCCvO4X,I,YCOxXC,EAAY,eACd,EACAlD,EACAiD,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-74680c14.53df848e.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-component',[_c('Breadcrumb',{style:({margin: '15px 0 15px 185px', position: 'fixed'})},[_c('BreadcrumbItem',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('BreadcrumbItem',{attrs:{\"to\":\"/proxyRouteManagement\"}},[_vm._v(\"路由管理\")])],1),_c('Content',{staticClass:\"content\",style:({padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'})},[_c('div',{staticStyle:{\"padding\":\"1px 1px\"}},[_c('Row',[_c('i-col',{attrs:{\"span\":\"12\"}},[_c('Form',{ref:\"route\",staticStyle:{\"float\":\"left\",\"margin-top\":\"50px\"},attrs:{\"model\":_vm.route,\"rules\":_vm.ruleRoute,\"label-width\":250}},[_c('FormItem',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"BU\",\"prop\":\"routeOrgName\"}},[_c('Input',{attrs:{\"disabled\":_vm.updateStatus,\"placeholder\":\"请输入路由BU,不填默认为公用路由\"},model:{value:(_vm.route.routeOrgName),callback:function ($$v) {_vm.$set(_vm.route, \"routeOrgName\", $$v)},expression:\"route.routeOrgName\"}})],1),_c('FormItem',{attrs:{\"label\":\"源端（Applier）机房\",\"prop\":\"srcDcName\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"disabled\":_vm.updateStatus,\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择源端（Applier）机房\"},on:{\"on-select\":_vm.getProxyUrisInSrc,\"on-create\":_vm.handleCreateDc},model:{value:(_vm.route.srcDcName),callback:function ($$v) {_vm.$set(_vm.route, \"srcDcName\", $$v)},expression:\"route.srcDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"目标（Replicator）机房\",\"prop\":\"dstDcName\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"disabled\":_vm.updateStatus,\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择目标（Replicator）机房\"},on:{\"on-select\":_vm.getProxyUrisInDst,\"on-create\":_vm.handleCreateDc},model:{value:(_vm.route.dstDcName),callback:function ($$v) {_vm.$set(_vm.route, \"dstDcName\", $$v)},expression:\"route.dstDcName\"}},_vm._l((_vm.drcZoneList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"源端（Applier）Proxy\",\"prop\":\"srcProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择源端Proxy\"},model:{value:(_vm.route.proxyUris.src),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"src\", $$v)},expression:\"route.proxyUris.src\"}},_vm._l((_vm.route.proxyUriList.src),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"中继Proxy\",\"prop\":\"relayProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择中继Proxy\"},model:{value:(_vm.route.proxyUris.relay),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"relay\", $$v)},expression:\"route.proxyUris.relay\"}},_vm._l((_vm.route.proxyUriList.all),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"目标（Replicator）Proxy\",\"prop\":\"dstProxyUris\"}},[_c('Select',{staticStyle:{\"width\":\"250px\"},attrs:{\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择目标Proxy\"},model:{value:(_vm.route.proxyUris.dst),callback:function ($$v) {_vm.$set(_vm.route.proxyUris, \"dst\", $$v)},expression:\"route.proxyUris.dst\"}},_vm._l((_vm.route.proxyUriList.dst),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{staticStyle:{\"width\":\"500px\"},attrs:{\"label\":\"Tag\",\"prop\":\"tag\"}},[_c('Input',{attrs:{\"disabled\":_vm.updateStatus,\"placeholder\":\"请输入路由tag\"},model:{value:(_vm.route.tag),callback:function ($$v) {_vm.$set(_vm.route, \"tag\", $$v)},expression:\"route.tag\"}})],1),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset()}}},[_vm._v(\"重置\")]),_c('br'),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.reviewInputResource ()}}},[_vm._v(\"录入\")])],1),_c('Modal',{attrs:{\"title\":\"录入确认\"},on:{\"on-ok\":function($event){return _vm.inputResource()}},model:{value:(_vm.route.reviewModal),callback:function ($$v) {_vm.$set(_vm.route, \"reviewModal\", $$v)},expression:\"route.reviewModal\"}},[_vm._v(\" 对BU[\"+_vm._s(this.route.routeOrgName)+\"]、tag[\"+_vm._s(this.route.tag)+\"]、方向[\"+_vm._s(this.route.srcDcName)+\"->\"+_vm._s(this.route.dstDcName)+\"]，确认新增/修改路由为源端Proxies：\"+_vm._s(this.route.proxyUris.src)+\"，中继Proxies：\"+_vm._s(this.route.proxyUris.relay)+\"，目标Proxies：\"+_vm._s(this.route.proxyUris.dst)+\"吗？ \")]),_c('Modal',{attrs:{\"title\":\"录入结果\"},model:{value:(_vm.route.resultModal),callback:function ($$v) {_vm.$set(_vm.route, \"resultModal\", $$v)},expression:\"route.resultModal\"}},[_vm._v(\" \"+_vm._s(this.result)+\" \")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <base-component>\n    <Breadcrumb :style=\"{margin: '15px 0 15px 185px', position: 'fixed'}\">\n      <BreadcrumbItem to=\"/home\">首页</BreadcrumbItem>\n      <BreadcrumbItem to=\"/proxyRouteManagement\">路由管理</BreadcrumbItem>\n    </Breadcrumb>\n    <Content class=\"content\" :style=\"{padding: '10px', background: '#fff', margin: '50px 0 1px 185px', zIndex: '1'}\">\n      <div style=\"padding: 1px 1px\">\n        <Row>\n            <i-col span=\"12\">\n                <Form ref=\"route\" :model=\"route\" :rules=\"ruleRoute\" :label-width=\"250\" style=\"float: left; margin-top: 50px\">\n                    <FormItem label=\"BU\"  prop=\"routeOrgName\" style=\"width: 500px\">\n                        <Input :disabled=\"updateStatus\" v-model=\"route.routeOrgName\" placeholder=\"请输入路由BU,不填默认为公用路由\"/>\n                    </FormItem>\n                    <FormItem label=\"源端（Applier）机房\"  prop=\"srcDcName\">\n                        <Select :disabled=\"updateStatus\" v-model=\"route.srcDcName\" filterable allow-create style=\"width: 250px\" @on-select=\"getProxyUrisInSrc\" placeholder=\"请选择源端（Applier）机房\" @on-create=\"handleCreateDc\">\n                        <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                        </Select>\n                    </FormItem>\n                    <FormItem label=\"目标（Replicator）机房\"  prop=\"dstDcName\">\n                        <Select :disabled=\"updateStatus\" v-model=\"route.dstDcName\" filterable allow-create style=\"width: 250px\" @on-select=\"getProxyUrisInDst\" placeholder=\"请选择目标（Replicator）机房\" @on-create=\"handleCreateDc\">\n                        <Option v-for=\"item in drcZoneList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\n                        </Select>\n                    </FormItem>\n                    <FormItem label=\"源端（Applier）Proxy\" prop=\"srcProxyUris\">\n                        <Select v-model=\"route.proxyUris.src\" filterable multiple style=\"width: 250px\" placeholder=\"请选择源端Proxy\">\n                        <Option v-for=\"item in route.proxyUriList.src\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                        </Select>\n                    </FormItem>\n                    <FormItem label=\"中继Proxy\" prop=\"relayProxyUris\">\n                      <Select v-model=\"route.proxyUris.relay\" filterable multiple style=\"width: 250px\" placeholder=\"请选择中继Proxy\">\n                        <Option v-for=\"item in route.proxyUriList.all\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                      </Select>\n                    </FormItem>\n                    <FormItem label=\"目标（Replicator）Proxy\" prop=\"dstProxyUris\">\n                        <Select  v-model=\"route.proxyUris.dst\" filterable multiple style=\"width: 250px\" placeholder=\"请选择目标Proxy\">\n                        <Option v-for=\"item in route.proxyUriList.dst\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                        </Select>\n                    </FormItem>\n                    <FormItem label=\"Tag\"  prop=\"tag\" style=\"width: 500px\">\n                        <Input :disabled=\"updateStatus\" v-model=\"route.tag\" placeholder=\"请输入路由tag\"/>\n                    </FormItem>\n                    <FormItem>\n                      <Button @click=\"handleReset()\">重置</Button><br><br>\n                      <Button type=\"primary\" @click=\"reviewInputResource ()\">录入</Button>\n                    </FormItem>\n                    <Modal\n                        v-model=\"route.reviewModal\"\n                        title=\"录入确认\"\n                        @on-ok=\"inputResource()\">\n                        对BU[{{ this.route.routeOrgName }}]、tag[{{ this.route.tag }}]、方向[{{ this.route.srcDcName }}->{{ this.route.dstDcName }}]，确认新增/修改路由为源端Proxies：{{ this.route.proxyUris.src }}，中继Proxies：{{ this.route.proxyUris.relay }}，目标Proxies：{{ this.route.proxyUris.dst }}吗？\n                    </Modal>\n                    <Modal\n                        v-model=\"route.resultModal\"\n                        title=\"录入结果\">\n                        {{ this.result }}\n                    </Modal>\n                </Form>\n            </i-col>\n        </Row>\n      </div>\n    </Content>\n  </base-component>\n</template>\n\n<script>\nexport default {\n  name: 'proxyRouteManagement',\n  data () {\n    return {\n      updateStatus: this.$route.query.updateStatus,\n      route: {\n        reviewModal: false,\n        resultModal: false,\n        routeOrgName: this.$route.query.routeOrgName,\n        srcDcName: this.$route.query.srcDcName,\n        dstDcName: this.$route.query.dstDcName,\n        tag: this.$route.query.tag,\n        proxyUris: {\n          src: this.$route.query.srcProxyUris,\n          relay: this.$route.query.relayProxyUris,\n          dst: this.$route.query.dstProxyUris\n        },\n        proxyUriList: {\n          src: [],\n          all: [],\n          dst: []\n        }\n      },\n      ruleRoute: {\n        srcDcName: [\n          { required: true, message: '源端（Applier）机房不能为空', trigger: 'blur' }\n        ],\n        dstDcName: [\n          { required: true, message: '目标（Replicator）机房不能为空', trigger: 'blur' }\n        ],\n        srcProxyUris: [\n          { required: true, message: '源端Proxy不能为空', trigger: 'blur' }\n        ],\n        dstProxyUris: [\n          { required: true, message: '目标Proxy不能为空', trigger: 'blur' }\n        ],\n        tag: [\n          { required: true, message: 'tag不能为空', trigger: 'blur' }\n        ]\n      },\n      drcZoneList: this.constant.dcList,\n      result: ''\n    }\n  },\n  methods: {\n    reviewInputResource () {\n      this.route.reviewModal = true\n    },\n    inputResource () {\n      const that = this\n      this.axios.post('/api/drc/v1/meta/routes', {\n        id: 0,\n        routeOrgName: this.route.routeOrgName,\n        srcDcName: this.route.srcDcName,\n        dstDcName: this.route.dstDcName,\n        srcProxyUris: this.route.proxyUris.src,\n        relayProxyUris: this.route.proxyUris.relay,\n        dstProxyUris: this.route.proxyUris.dst,\n        tag: this.route.tag\n      }).then(response => {\n        console.log(response.data)\n        that.result = response.data.data\n        that.route.reviewModal = false\n        that.route.resultModal = true\n      })\n    },\n    handleCreateDc (val) {\n      console.log('customize add dc: ' + val)\n      this.drcZoneList.push({\n        value: val,\n        label: val\n      })\n      console.log(this.drcZoneList)\n    },\n    handleReset () {\n      this.route.routeOrgName = ''\n      this.route.srcDcName = ''\n      this.route.dstDcName = ''\n      this.route.tag = ''\n      this.route.proxyUris.src = []\n      this.route.proxyUris.relay = []\n      this.route.proxyUris.dst = []\n    },\n    getProxyUrisInSrc (event) {\n      const that = this\n      const uri = '/api/drc/v1/meta/proxy/uris/dcs/' + event.value\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response.data)\n          that.route.proxyUriList.src = []\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.src.push(proxyUri))\n        })\n    },\n    getProxyUrisInDst (event) {\n      const that = this\n      const uri = '/api/drc/v1/meta/proxy/uris/dcs/' + event.value\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response.data)\n          that.route.proxyUriList.dst = []\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.dst.push(proxyUri))\n        })\n    },\n    getProxyUrisInSrc2 () {\n      const that = this\n      const uri = '/api/drc/v1/meta/proxy/uris/dcs/' + this.route.srcDcName\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response.data)\n          that.route.proxyUriList.src = []\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.src.push(proxyUri))\n        })\n    },\n    getProxyUrisInDst2 () {\n      const that = this\n      const uri = '/api/drc/v1/meta/proxy/uris/dcs/' + this.route.dstDcName\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response.data)\n          that.route.proxyUriList.dst = []\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.dst.push(proxyUri))\n        })\n    },\n    getAllProxyUris () {\n      const that = this\n      const uri = '/api/drc/v1/meta/proxy/uris'\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response.data)\n          that.route.proxyUriList.all = []\n          response.data.data.forEach(proxyUri => that.route.proxyUriList.all.push(proxyUri))\n        })\n    },\n    getProxyUrisInUse () {\n      const that = this\n      const uri = '/api/drc/v1/meta/routes' +\n        '?routeOrgName=' + this.route.routeOrgName +\n        '&srcDcName=' + this.route.srcDcName +\n        '&dstDcName=' + this.route.dstDcName +\n        '&tag=' + this.route.tag +\n        '&deleted=' + 0\n      console.log('uri: ' + uri)\n      this.axios.get(uri)\n        .then(response => {\n          console.log(response)\n          that.route.proxyUris.src = []\n          that.route.proxyUris.relay = []\n          that.route.proxyUris.dst = []\n          if (response.data.data.length !== 0) {\n            // there will be at most one route for routeOrgName, srcDcName, dstDcName, tag given\n            response.data.data[0].srcProxyUris.forEach(proxyUri => that.route.proxyUris.src.push(proxyUri))\n            response.data.data[0].relayProxyUris.forEach(proxyUri => that.route.proxyUris.relay.push(proxyUri))\n            response.data.data[0].dstProxyUris.forEach(proxyUri => that.route.proxyUris.dst.push(proxyUri))\n          }\n        })\n    }\n  },\n  created () {\n    this.axios.get('/api/drc/v2/permission/resource/proxy').then((response) => {\n      if (response.data.status === 403) {\n        this.$router.push('/nopermission')\n        return\n      }\n      this.getProxyUrisInSrc2()\n      this.getAllProxyUris()\n      this.getProxyUrisInDst2()\n      this.getProxyUrisInUse()\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./proxyRouteManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./proxyRouteManagement.vue?vue&type=template&id=923a9f9e&scoped=true&\"\nimport script from \"./proxyRouteManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./proxyRouteManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"923a9f9e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}