(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224feb"],{e307:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("base-component",[t("Breadcrumb",{style:{margin:"15px 0 15px 185px",position:"fixed"}},[t("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")]),t("BreadcrumbItem",{attrs:{to:"/drcResource"}},[e._v("DRC资源管理")])],1),t("Content",{staticClass:"content",style:{padding:"10px",background:"#fff",margin:"50px 0 1px 185px",zIndex:"1"}},[t("div",{style:{padding:"1px 1px",height:"100%"}},[t("Row",[t("i-col",{attrs:{span:"12"}},[t("Form",{ref:"drcResource",staticStyle:{float:"left","margin-top":"50px"},attrs:{model:e.drcResource,rules:e.ruleDrcResource,"label-width":250}},[t("FormItem",{attrs:{label:"类型",prop:"type"}},[t("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择资源类型"},model:{value:e.drcResource.type,callback:function(r){e.$set(e.drcResource,"type",r)},expression:"drcResource.type"}},e._l(e.drcResource.typeList,(function(r){return t("Option",{key:r.value,attrs:{value:r.value}},[e._v(e._s(r.label))])})),1)],1),t("FormItem",{attrs:{label:"dc",prop:"dc"}},[t("Select",{staticStyle:{width:"200px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择资源所在机房"},on:{"on-create":e.handleCreateDc},model:{value:e.drcResource.dc,callback:function(r){e.$set(e.drcResource,"dc",r)},expression:"drcResource.dc"}},e._l(e.drcZoneList,(function(r){return t("Option",{key:r.value,attrs:{value:r.value}},[e._v(e._s(r.label))])})),1)],1),t("FormItem",{staticStyle:{width:"450px"},attrs:{label:"ip",prop:"ip"}},[t("Input",{attrs:{placeholder:"请输入资源ip"},model:{value:e.drcResource.ip,callback:function(r){e.$set(e.drcResource,"ip",r)},expression:"drcResource.ip"}})],1),t("FormItem",[t("Button",{on:{click:function(r){return e.handleReset()}}},[e._v("重置")]),t("br"),t("br"),t("Button",{attrs:{type:"primary"},on:{click:function(r){e.reviewInputResource()}}},[e._v("录入")])],1),t("Modal",{attrs:{title:"录入确认"},on:{"on-ok":e.inputResource},model:{value:e.drcResource.reviewModal,callback:function(r){e.$set(e.drcResource,"reviewModal",r)},expression:"drcResource.reviewModal"}},[e._v(" 确认录入资源"+e._s(this.drcResource.ip)+"吗？所在机房："+e._s(this.drcResource.dc)+"，类型："+e._s(this.drcResource.type)+" ")]),t("Modal",{attrs:{title:"录入结果"},model:{value:e.drcResource.resultModal,callback:function(r){e.$set(e.drcResource,"resultModal",r)},expression:"drcResource.resultModal"}},[e._v(" "+e._s(this.result)+" ")])],1)],1)],1)],1)])],1)},c=[],o={name:"drcResource",data:function(){return{status:"",title:"",message:"",hasResp:!1,drcResource:{reviewModal:!1,ip:"",type:"",dc:"",typeList:[{value:"R",label:"Replicator"},{value:"A",label:"Applier"}]},ruleDrcResource:{ip:[{required:!0,message:"ip不能为空",trigger:"blur"}],type:[{required:!0,message:"ip不能为空",trigger:"blur"}],dc:[{required:!0,message:"dc不能为空",trigger:"blur"}]},drcZoneList:[{value:"shaoy",label:"上海欧阳"},{value:"shaxy",label:"上海新源"},{value:"sharb",label:"上海日版"},{value:"shajq",label:"上海金桥"},{value:"shafq",label:"上海福泉"},{value:"shajz",label:"上海金钟"},{value:"ntgxh",label:"南通星湖大道"},{value:"shali",label:"上海阿里"},{value:"fraaws",label:"法兰克福AWS"},{value:"sinibuaws",label:"IBU-VPC"},{value:"sinaws",label:"新加坡AWS"}],result:""}},methods:{reviewInputResource:function(){console.log("review input "+this.drcResource.type+"("+this.drcResource.ip+") in "+this.drcResource.dc),this.drcResource.reviewModal=!0},inputResource:function(){var e=this,r="/api/drc/v1/meta/resource/ips/"+this.drcResource.ip+"/dcs/"+this.drcResource.dc+"/descriptions/"+this.drcResource.type;console.log("do input "+this.drcResource.type+"("+this.drcResource.ip+") in "+this.drcResource.dc),console.log(r),this.axios.post(r).then((function(r){console.log("show result"),console.log(r.data),e.result=r.data.data,e.drcResource.reviewModal=!1,e.drcResource.resultModal=!0}))},handleCreateDc:function(e){console.log("customize add dc: "+e),this.drcZoneList.push({value:e,label:e}),console.log(this.drcZoneList)},handleReset:function(){console.log("reset input request type: "+this.drcResource.type+", ip: "+this.drcResource.ip+", dc: "+this.drcResource.dc+"."),this.drcResource.ip="",this.drcResource.type="",this.drcResource.dc="",this.result="",console.log("reset input request type result: "+this.drcResource.type+", ip: "+this.drcResource.ip+", dc: "+this.drcResource.dc+".")}},created:function(){}},l=o,a=t("2877"),u=Object(a["a"])(l,s,c,!1,null,"544def11",null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d224feb.5a164088.js.map