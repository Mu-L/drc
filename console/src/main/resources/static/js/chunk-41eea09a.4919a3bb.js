(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41eea09a"],{7156:function(t,e,a){"use strict";var o=a("1626"),r=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var i,l;return s&&o(i=e.constructor)&&i!==a&&r(l=i.prototype)&&l!==a.prototype&&s(t,l),t}},aeb0:function(t,e,a){"use strict";var o=a("9bf2").f;t.exports=function(t,e,a){a in t||o(t,a,{configurable:!0,get:function(){return e[a]},set:function(t){e[a]=t}})}},cf9c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("Form",{ref:"formValidate",attrs:{"label-width":100,model:t.formValidate,inline:""}},[e("br"),e("br"),e("span",{staticStyle:{"font-size":"20px"}},[t._v("------------------输入数据一致性全量检验信息---------------------")]),e("br"),e("br"),e("FormItem",{attrs:{label:"ipA",prop:"ipA"}},[e("Input",{model:{value:t.formValidate.ipA,callback:function(e){t.$set(t.formValidate,"ipA",e)},expression:"formValidate.ipA"}})],1),e("FormItem",{attrs:{label:"portA",prop:"portA"}},[e("Input",{model:{value:t.formValidate.portA,callback:function(e){t.$set(t.formValidate,"portA",e)},expression:"formValidate.portA"}})],1),e("FormItem",{attrs:{label:"userA",prop:"userA"}},[e("Input",{model:{value:t.formValidate.userA,callback:function(e){t.$set(t.formValidate,"userA",e)},expression:"formValidate.userA"}})],1),e("FormItem",{attrs:{label:"passwordA",prop:"passwordA"}},[e("Input",{model:{value:t.formValidate.passwordA,callback:function(e){t.$set(t.formValidate,"passwordA",e)},expression:"formValidate.passwordA"}})],1),e("br"),e("FormItem",{attrs:{label:"ipB",prop:"ipB"}},[e("Input",{model:{value:t.formValidate.ipB,callback:function(e){t.$set(t.formValidate,"ipB",e)},expression:"formValidate.ipB"}})],1),e("FormItem",{attrs:{label:"portB",prop:"portB"}},[e("Input",{model:{value:t.formValidate.portB,callback:function(e){t.$set(t.formValidate,"portB",e)},expression:"formValidate.portB"}})],1),e("FormItem",{attrs:{label:"userB",prop:"userB"}},[e("Input",{model:{value:t.formValidate.userB,callback:function(e){t.$set(t.formValidate,"userB",e)},expression:"formValidate.userB"}})],1),e("FormItem",{attrs:{label:"passwordB",prop:"passwordB"}},[e("Input",{model:{value:t.formValidate.passwordB,callback:function(e){t.$set(t.formValidate,"passwordB",e)},expression:"formValidate.passwordB"}})],1),e("br"),e("FormItem",{attrs:{label:"schema",prop:"schema"}},[e("Input",{model:{value:t.formValidate.schema,callback:function(e){t.$set(t.formValidate,"schema",e)},expression:"formValidate.schema"}})],1),e("FormItem",{attrs:{label:"table",prop:"table"}},[e("Input",{model:{value:t.formValidate.table,callback:function(e){t.$set(t.formValidate,"table",e)},expression:"formValidate.table"}})],1),e("FormItem",{attrs:{label:"key",prop:"key"}},[e("Input",{model:{value:t.formValidate.key,callback:function(e){t.$set(t.formValidate,"key",e)},expression:"formValidate.key"}})],1),e("FormItem",{attrs:{label:"onUpdate",prop:"onUpdate"}},[e("Input",{model:{value:t.formValidate.onUpdate,callback:function(e){t.$set(t.formValidate,"onUpdate",e)},expression:"formValidate.onUpdate"}})],1),e("br"),e("FormItem",[e("Row",[e("Col",{attrs:{span:"11"}},[e("FormItem",{attrs:{label:"startTimestamp",prop:"startTimestamp"}},[e("DatePicker",{attrs:{type:"datetime",placeholder:"Select startTime",formata:"yyyy-MM-dd HH:mm:ss",value:t.formValidate.startTimestamp},on:{"on-change":function(e){t.formValidate.startTimestamp=e}}})],1)],1),e("Col",{attrs:{span:"11"}},[e("FormItem",{attrs:{label:"endTimeStamp",prop:"endTimeStamp"}},[e("DatePicker",{attrs:{type:"datetime",placeholder:"Select endTime",formata:"yyyy-MM-dd HH:mm:ss",value:t.formValidate.endTimeStamp},on:{"on-change":function(e){t.formValidate.endTimeStamp=e}}})],1)],1)],1)],1),e("br"),e("FormItem",{attrs:{label:" checkTime\n          ",prop:"checkTime"}},[e("input",{attrs:{id:"checkTime",placeholder:"开始检测的时间",readonly:""},domProps:{value:t.checkTime}})]),e("Tag",{staticStyle:{"font-size":"15px"},attrs:{id:"checkStatus",color:"red"}},[t._v(" 数据一致性校验状态未知 ")]),e("br"),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交校验")]),e("Button",{on:{click:function(e){return t.showCheckStatus()}}},[t._v("查看校验状态")]),e("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.showResult(t.formValidate)}}},[t._v("查看结果")])],1)],1)},r=[],s=(a("14d9"),a("e66c")),i={name:"fullDataConsistencyCheckForTest.vue",data:function(){return{formValidate:{ipA:"",portA:"",userA:"",passwordA:"",ipB:"",portB:"",userB:"",passwordB:"",schema:"",table:"",key:"id",onUpdate:"datachange_lasttime",startTimestamp:"",endTimeStamp:""},checkTime:""}},methods:{handleSubmit:function(t){var e=this;this.axios.post("/api/drc/v1/monitor/consistency/data/full/internalTest",this.formValidate).then((function(t){0===t.data.status?(e.$Message.success("成功，开始检验!"),document.getElementById("checkStatus").textContent="校验中",document.getElementById("checkStatus").color="red"):(document.getElementById("checkStatus").textContent="校验中",document.getElementById("checkStatus").color="red",e.$Message.error("失败，已经开始检验!"))}))},showCheckStatus:function(){var t=this;this.axios.get("api/drc/v1/monitor/consistency/data/full/checkStatusForTest/"+this.formValidate.schema+"/"+this.formValidate.table+"/"+this.formValidate.key).then((function(e){if(0===e.data.status){var a="未检验";1===e.data.data.checkStatus?a="校验中":2===e.data.data.checkStatus?a="完成校验":3===e.data.data.checkStatus&&(a="校验失败"),console.log(a),document.getElementById("checkStatus").textContent=a,t.checkTime=e.data.data.checkTime,t.$Message.success("获取状态成功!")}else t.$Message.error("获取状态失败!")}))},showResult:function(){this.$router.push({name:"fullDataConsistencyResultTest",query:{ipA:this.formValidate.ipA,portA:this.formValidate.portA,userA:this.formValidate.userA,passwordA:this.formValidate.passwordA,ipB:this.formValidate.ipB,portB:this.formValidate.portB,userB:this.formValidate.userB,passwordB:this.formValidate.passwordB,schema:this.formValidate.schema,table:this.formValidate.table,key:this.formValidate.key,checkTime:Object(s["a"])(new Date(this.checkTime),"yyyy-MM-dd hh:mm:ss")}})}}},l=i,m=a("2877"),n=Object(m["a"])(l,o,r,!1,null,"7f75f850",null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-41eea09a.4919a3bb.js.map